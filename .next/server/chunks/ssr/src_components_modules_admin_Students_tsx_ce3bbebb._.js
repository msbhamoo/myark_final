module.exports=[63523,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(87532),f=a.i(60246),g=a.i(16106),h=a.i(1027),i=a.i(24669),j=a.i(40737),k=a.i(77156),l=a.i(92258),m=a.i(96221),n=a.i(53250),o=a.i(15618),p=a.i(33508),q=a.i(76472),r=a.i(81402),s=a.i(41710),t=a.i(54614),u=a.i(99570),v=a.i(66718),w=a.i(86304),x=a.i(6015),y=a.i(35732),z=a.i(75083),A=a.i(80701),B=a.i(91119),C=a.i(57061),D=a.i(14574),E=a.i(70430),F=a.i(25101),G=a.i(58682),H=a.i(68114);a.s(["default",0,()=>{let[a,I]=(0,c.useState)(!0),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)("all"),[R,S]=(0,c.useState)("registered"),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)({total:0,activeThisWeek:0,avgStreak:0,newThisWeek:0,abandonedLeads:0}),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(!1),{toast:af}=(0,t.useToast)();(0,c.useEffect)(()=>{(async()=>{try{let[a,b,c,d,e]=await Promise.all([F.studentsService.getAll({grade:"all"!==P?parseInt(P):void 0}),F.studentsService.getStats(),F.badgesService.getAll(),F.leadsService.getAll(),F.leadsService.getStats()]);K(a),M(d),$({...b,newThisWeek:Math.round(.05*b.total),abandonedLeads:e.abandoned}),W(c)}catch(a){console.error("Error fetching data:",a)}finally{I(!1)}})()},[P]);let ag=async a=>{if(T){Y(!0);try{await F.studentsService.assignBadge(T.id,a);let b={...T,badges:[...T.badges||[],a]};U(b),K(a=>a.map(a=>a.id===T.id?b:a))}catch(a){console.error("Error assigning badge:",a)}finally{Y(!1)}}},ah=async a=>{if(T)try{await F.studentsService.removeBadge(T.id,a);let b={...T,badges:(T.badges||[]).filter(b=>b!==a)};U(b),K(a=>a.map(a=>a.id===T.id?b:a))}catch(a){console.error("Error removing badge:",a)}},ai=async()=>{if(T&&4===ab.length){ae(!0);try{await G.studentAuthService.resetUserPin(T.id,ab),af({title:"PIN Reset",description:"New PIN set for student"}),aa(!1),ac("")}catch(a){af({title:"Error",description:"Failed to reset PIN",variant:"destructive"})}finally{ae(!1)}}},aj=J.filter(a=>{let b=a.name||"Anonymous",c=a.email||"",d=a.phone||"";return b.toLowerCase().includes(N.toLowerCase())||c.toLowerCase().includes(N.toLowerCase())||d.includes(N)});return a?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Students"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Registered students and their activity"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,b.jsx)(f.Users,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:Z.total.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Students"})]})]})})}),(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-success/10",children:(0,b.jsx)(i.TrendingUp,{className:"w-5 h-5 text-success"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:Z.activeThisWeek.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active This Week"})]})]})})}),(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/10",children:(0,b.jsx)(g.Flame,{className:"w-5 h-5 text-orange-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:Z.avgStreak}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Streak Days"})]})]})})}),(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-secondary/10",children:(0,b.jsx)(h.Zap,{className:"w-5 h-5 text-secondary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:Z.newThisWeek}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"New This Week"})]})]})})}),(0,b.jsx)(B.Card,{className:"border-destructive/20 bg-destructive/5",children:(0,b.jsx)(B.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-destructive/10",children:(0,b.jsx)(p.X,{className:"w-5 h-5 text-destructive"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-destructive",children:Z.abandonedLeads}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Abandoned Leads"})]})]})})})]}),(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(v.Input,{placeholder:"registered"===R?"Search students...":"Search leads by phone...",value:N,onChange:a=>O(a.target.value),className:"pl-9"})]}),"registered"===R&&(0,b.jsxs)(A.Select,{value:P,onValueChange:Q,children:[(0,b.jsx)(A.SelectTrigger,{className:"w-full sm:w-[150px]",children:(0,b.jsx)(A.SelectValue,{placeholder:"All Grades"})}),(0,b.jsxs)(A.SelectContent,{children:[(0,b.jsx)(A.SelectItem,{value:"all",children:"All Grades"}),[6,7,8,9,10,11,12].map(a=>(0,b.jsxs)(A.SelectItem,{value:String(a),children:["Class ",a]},a))]})]})]})})}),(0,b.jsxs)(z.Tabs,{value:R,onValueChange:S,className:"w-full",children:[(0,b.jsxs)(z.TabsList,{className:"grid w-full max-w-md grid-cols-2 mb-4",children:[(0,b.jsxs)(z.TabsTrigger,{value:"registered",className:"gap-2",children:[(0,b.jsx)(f.Users,{className:"w-4 h-4"})," Registered"]}),(0,b.jsxs)(z.TabsTrigger,{value:"leads",className:"gap-2 text-destructive data-[state=active]:bg-destructive data-[state=active]:text-white",children:[(0,b.jsx)(p.X,{className:"w-4 h-4"})," Abandoned Leads"]})]}),(0,b.jsx)(z.TabsContent,{value:"registered",children:(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-0",children:0===aj.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)(f.Users,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Students will appear here when they register"})]}):(0,b.jsxs)(x.Table,{children:[(0,b.jsx)(x.TableHeader,{children:(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableHead,{children:"Student"}),(0,b.jsx)(x.TableHead,{children:"Grade"}),(0,b.jsx)(x.TableHead,{children:"School"}),(0,b.jsx)(x.TableHead,{children:"Streak"}),(0,b.jsx)(x.TableHead,{children:"XP"}),(0,b.jsx)(x.TableHead,{children:"Applications"}),(0,b.jsx)(x.TableHead,{children:"Last Active"}),(0,b.jsx)(x.TableHead,{children:"Status"}),(0,b.jsx)(x.TableHead,{className:"w-12"})]})}),(0,b.jsx)(x.TableBody,{children:aj.map((a,c)=>{var e;return(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.03*c},className:"group cursor-pointer hover:bg-muted/50",onClick:()=>U(a),children:[(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-primary-foreground font-semibold",children:(a.name||"S").charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name||"Unnamed Student"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email||a.phone})]})]})}),(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)(w.Badge,{variant:"outline",children:["Class ",a.grade]})}),(0,b.jsx)(x.TableCell,{className:"text-muted-foreground max-w-[150px] truncate",children:a.school||"-"}),(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Flame,{className:"w-4 h-4 text-orange-500"}),a.streakDays]})}),(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(h.Zap,{className:"w-4 h-4 text-yellow-500"}),a.xpPoints.toLocaleString()]})}),(0,b.jsx)(x.TableCell,{children:a.appliedOpportunities?.length||0}),(0,b.jsx)(x.TableCell,{className:"text-sm text-muted-foreground whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(s.Clock,{className:"w-3.5 h-3.5"}),(a=>{if(!a)return"Never";let b=new Date().getTime()-new Date(a).getTime(),c=Math.floor(b/6e4),d=Math.floor(b/36e5),e=Math.floor(b/864e5);return c<1?"Just now":c<60?`${c}m ago`:d<24?`${d}h ago`:e<7?`${e}d ago`:new Date(a).toLocaleDateString()})(a.lastActiveAt)]})}),(0,b.jsx)(x.TableCell,{children:(e=a.lastActiveAt)&&new Date().getTime()-new Date(e).getTime()<864e5?(0,b.jsx)(w.Badge,{className:"bg-success/20 text-success border-success/30",children:"Active"}):(0,b.jsx)(w.Badge,{variant:"outline",className:"text-muted-foreground",children:"Inactive"})}),(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)(y.DropdownMenu,{children:[(0,b.jsx)(y.DropdownMenuTrigger,{asChild:!0,onClick:a=>a.stopPropagation(),children:(0,b.jsx)(u.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:(0,b.jsx)(j.MoreHorizontal,{className:"w-4 h-4"})})}),(0,b.jsxs)(y.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(y.DropdownMenuItem,{onClick:()=>U(a),children:[(0,b.jsx)(k.Eye,{className:"w-4 h-4 mr-2"}),"View Profile"]}),(0,b.jsx)(y.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)("a",{href:`mailto:${a.email}`,children:[(0,b.jsx)(l.Mail,{className:"w-4 h-4 mr-2"}),"Send Email"]})}),(0,b.jsx)(y.DropdownMenuSeparator,{}),(0,b.jsxs)(y.DropdownMenuItem,{onClick:b=>{b.stopPropagation(),U(a),aa(!0)},children:[(0,b.jsx)(r.Key,{className:"w-4 h-4 mr-2"}),"Reset PIN"]})]})]})})]},a.id)})})]})})})})}),(0,b.jsx)(z.TabsContent,{value:"leads",children:(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,b.jsx)(B.Card,{children:(0,b.jsx)(B.CardContent,{className:"p-0",children:0===L.filter(a=>!a.converted).length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)(p.X,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No abandoned leads"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Students who drop off during registration will appear here"})]}):(0,b.jsxs)(x.Table,{children:[(0,b.jsx)(x.TableHeader,{children:(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableHead,{children:"Phone Number"}),(0,b.jsx)(x.TableHead,{children:"Device / Browser"}),(0,b.jsx)(x.TableHead,{children:"Started Registration"}),(0,b.jsx)(x.TableHead,{children:"Status"}),(0,b.jsx)(x.TableHead,{className:"w-12"})]})}),(0,b.jsx)(x.TableBody,{children:L.filter(a=>!a.converted&&a.phone.includes(N)).map((a,c)=>(0,b.jsxs)(x.TableRow,{className:"group",children:[(0,b.jsx)(x.TableCell,{className:"font-bold text-lg",children:a.phone}),(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:a.device}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.browser})]})}),(0,b.jsx)(x.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,b.jsx)(s.Clock,{className:"w-3.5 h-3.5"}),a.createdAt?new Date(a.createdAt).toLocaleString():"-"]})}),(0,b.jsx)(x.TableCell,{children:(0,b.jsx)(w.Badge,{variant:"outline",className:"border-destructive/30 text-destructive bg-destructive/5",children:"Registration Abandoned"})}),(0,b.jsx)(x.TableCell,{children:(0,b.jsx)(u.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 text-destructive hover:bg-destructive/10",onClick:async()=>{confirm("Are you sure you want to delete this lead?")&&(await F.leadsService.delete(a.id),M(b=>b.filter(b=>b.id!==a.id)),af({title:"Lead Deleted"}))},children:(0,b.jsx)(p.X,{className:"w-4 h-4"})})})]},a.id))})]})})})})})]}),(0,b.jsx)(C.Sheet,{open:!!T,onOpenChange:()=>U(null),children:(0,b.jsxs)(C.SheetContent,{className:"w-full sm:max-w-md overflow-y-auto",children:[(0,b.jsx)(C.SheetHeader,{children:(0,b.jsx)(C.SheetTitle,{children:"Student Profile"})}),T&&(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-primary-foreground font-bold text-2xl",children:(T.name||"S").charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold",children:T.name||"Unnamed Student"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:T.email||T.phone})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 rounded-xl bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 text-orange-500 mb-1",children:[(0,b.jsx)(g.Flame,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xl font-bold",children:T.streakDays})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Day Streak"})]}),(0,b.jsxs)("div",{className:"text-center p-3 rounded-xl bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-1",children:[(0,b.jsx)(h.Zap,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xl font-bold",children:T.xpPoints})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"XP Points"})]}),(0,b.jsxs)("div",{className:"text-center p-3 rounded-xl bg-muted/50",children:[(0,b.jsxs)("p",{className:"text-xl font-bold text-primary mb-1",children:["Lv ",T.level]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Level"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Grade"}),(0,b.jsxs)("span",{className:"font-medium",children:["Class ",T.grade]})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"School"}),(0,b.jsx)("span",{className:"font-medium",children:T.school||"-"})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"City"}),(0,b.jsx)("span",{className:"font-medium",children:T.city||"-"})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Applications"}),(0,b.jsx)("span",{className:"font-medium",children:T.appliedOpportunities?.length||0})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Joined"}),(0,b.jsx)("span",{className:"font-medium",children:T.createdAt?new Date(T.createdAt).toLocaleDateString():"-"})]})]}),(T.personaGoal||T.competitiveness||T.weeklyTimeCommitment||T.deliveryPreference)&&(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-border",children:[(0,b.jsxs)("p",{className:"text-sm font-bold flex items-center gap-2",children:[(0,b.jsx)(i.TrendingUp,{className:"w-4 h-4 text-primary"}),"Discovery Insights"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[T.personaGoal&&(0,b.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Goal Vibe"}),(0,b.jsx)("p",{className:"text-xs font-bold capitalize",children:T.personaGoal.replace("_"," ")})]}),T.competitiveness&&(0,b.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Heat Level"}),(0,b.jsx)("p",{className:"text-xs font-bold capitalize",children:T.competitiveness.replace("_"," ")})]}),T.weeklyTimeCommitment&&(0,b.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Weekly Time"}),(0,b.jsx)("p",{className:"text-xs font-bold capitalize",children:T.weeklyTimeCommitment.replace(/_/g," ")})]}),T.deliveryPreference&&(0,b.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Preference"}),(0,b.jsx)("p",{className:"text-xs font-bold capitalize",children:T.deliveryPreference})]})]})]}),T.interests?.length>0&&(0,b.jsxs)("div",{className:"pt-6 border-t border-border",children:[(0,b.jsxs)("p",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[(0,b.jsx)(q.Heart,{className:"w-4 h-4 text-rose-500"}),"Interests"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:T.interests.map(a=>(0,b.jsx)(w.Badge,{variant:"secondary",className:"px-3 py-1 bg-muted/50 border-white/5",children:a},a))})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm font-bold flex items-center gap-2",children:[(0,b.jsx)(n.Medal,{className:"w-4 h-4 text-primary"}),"Earned Badges"]}),(0,b.jsxs)(y.DropdownMenu,{children:[(0,b.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(u.Button,{variant:"ghost",size:"sm",className:"h-8 gap-1.5 text-xs text-primary hover:text-primary hover:bg-primary/10",children:[(0,b.jsx)(o.Plus,{className:"w-3.5 h-3.5"}),"Assign"]})}),(0,b.jsxs)(y.DropdownMenuContent,{align:"end",className:"w-56 overflow-hidden",children:[(0,b.jsx)("p",{className:"px-2 py-1.5 text-xs font-bold text-muted-foreground uppercase tracking-widest bg-muted/30",children:"Select Badge"}),(0,b.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:0===V.filter(a=>!T.badges?.includes(a.id)).length?(0,b.jsx)("p",{className:"p-4 text-center text-xs text-muted-foreground italic",children:"No badges left to assign"}):V.filter(a=>!T.badges?.includes(a.id)).map(a=>(0,b.jsxs)(y.DropdownMenuItem,{onClick:()=>ag(a.id),className:"gap-2",children:[(0,b.jsx)("div",{className:(0,H.cn)("w-6 h-6 rounded flex items-center justify-center bg-primary/20",a.color),children:(0,b.jsx)(n.Medal,{className:"w-3.5 h-3.5"})}),(0,b.jsx)("span",{className:"flex-1",children:a.name})]},a.id))})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[T.badges?.map(a=>{let c=V.find(b=>b.id===a);return c?(0,b.jsxs)("div",{className:"group relative p-3 rounded-xl bg-muted/50 border border-white/5 flex flex-col items-center text-center gap-2 hover:border-primary/20 transition-all duration-300",children:[(0,b.jsx)(u.Button,{variant:"ghost",size:"icon",className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>ah(a),children:(0,b.jsx)(p.X,{className:"w-3 h-3"})}),(0,b.jsx)("div",{className:(0,H.cn)("w-10 h-10 rounded-lg flex items-center justify-center",c.color,"bg-background shadow-sm"),children:(0,b.jsx)(n.Medal,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-bold line-clamp-1",children:c.name}),(0,b.jsx)("p",{className:"text-[8px] text-muted-foreground uppercase tracking-wider",children:c.category})]})]},a):null}),(!T.badges||0===T.badges.length)&&(0,b.jsxs)("div",{className:"col-span-2 py-8 text-center bg-muted/30 rounded-xl border border-dashed border-border/50",children:[(0,b.jsx)(n.Medal,{className:"w-8 h-8 text-muted-foreground/30 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"No badges earned yet"})]})]})]})]})]})}),(0,b.jsx)(D.Dialog,{open:_,onOpenChange:aa,children:(0,b.jsxs)(D.DialogContent,{children:[(0,b.jsxs)(D.DialogHeader,{children:[(0,b.jsx)(D.DialogTitle,{children:"Reset Student PIN"}),(0,b.jsxs)(D.DialogDescription,{children:["Set a new 4-digit PIN for ",T?.name||"this student",". They will need to use this PIN to log in."]})]}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(E.Label,{children:"New PIN (4 digits)"}),(0,b.jsx)(v.Input,{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,placeholder:"0000",value:ab,onChange:a=>ac(a.target.value.replace(/\D/g,"").slice(0,4)),className:"text-center text-2xl tracking-widest font-mono"})]})}),(0,b.jsxs)(D.DialogFooter,{children:[(0,b.jsx)(u.Button,{variant:"outline",onClick:()=>{aa(!1),ac("")},children:"Cancel"}),(0,b.jsxs)(u.Button,{onClick:ai,disabled:ad||4!==ab.length,children:[ad?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):null,"Reset PIN"]})]})]})})]})}])}];

//# sourceMappingURL=src_components_modules_admin_Students_tsx_ce3bbebb._.js.map