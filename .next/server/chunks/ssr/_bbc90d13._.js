module.exports=[77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},6015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},78138,a=>{"use strict";let b=(0,a.i(70106).default)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);a.s(["Gift",()=>b],78138)},69520,a=>{"use strict";let b=(0,a.i(70106).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],69520)},41379,a=>{"use strict";let b=(0,a.i(70106).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],41379)},51687,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(76971),e=a.i(15618),f=a.i(24569),g=a.i(87532),h=a.i(69520),i=a.i(96221),j=a.i(77156),k=a.i(41379),l=a.i(78138),m=a.i(99570),n=a.i(66718),o=a.i(70430),p=a.i(29246),q=a.i(86304),r=a.i(6015),s=a.i(35732),t=a.i(80701),u=a.i(91119),v=a.i(14574),w=a.i(54614),x=a.i(25101);a.s(["default",0,()=>{let[a,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)({partnerId:"",title:"",description:"",xpCost:0,couponCode:"",discountValue:"",stockLimit:0,requiredBadgeId:"",requiredLevel:0,eligibilityCriteria:"",isActive:!0}),{toast:N}=(0,w.useToast)(),O=async()=>{y(!0);try{let[a,b]=await Promise.all([x.rewardsService.getAll(),x.rewardsService.getPartners()]);A(a),C(b)}catch(a){console.error("Error fetching data:",a)}finally{y(!1)}};(0,c.useEffect)(()=>{O()},[]);let P=z.filter(a=>a.title.toLowerCase().includes(D.toLowerCase())||a.description.toLowerCase().includes(D.toLowerCase())),Q=async()=>{try{N({title:J?"Reward updated":"Reward created",description:`Reward has been ${J?"updated":"created"} successfully.`}),G(!1),I(!1),O()}catch(a){console.error("Error saving reward:",a),N({title:"Error",description:"Failed to save reward. Please try again.",variant:"destructive"})}},R=async a=>{try{N({title:a.isActive?"Reward deactivated":"Reward activated",description:`Reward has been ${a.isActive?"deactivated":"activated"}.`}),O()}catch(a){console.error("Error toggling reward:",a)}};return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Redemption Rewards"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage XP redemption rewards and partner offers"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(m.Button,{onClick:O,disabled:a,children:[(0,b.jsx)(h.RefreshCw,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)(m.Button,{onClick:()=>{M({partnerId:"",title:"",description:"",xpCost:0,couponCode:"",discountValue:"",stockLimit:0,requiredBadgeId:"",requiredLevel:0,eligibilityCriteria:"",isActive:!0}),G(!0)},children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"}),"Add Reward"]})]})]}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,b.jsx)(n.Input,{placeholder:"Search rewards...",value:D,onChange:a=>E(a.target.value),className:"pl-10"})]})})}),(0,b.jsx)(u.Card,{children:(0,b.jsx)(u.CardContent,{className:"p-0",children:a?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(i.Loader2,{className:"w-8 h-8 animate-spin"})}):(0,b.jsxs)(r.Table,{children:[(0,b.jsx)(r.TableHeader,{children:(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableHead,{children:"Reward"}),(0,b.jsx)(r.TableHead,{children:"Partner"}),(0,b.jsx)(r.TableHead,{children:"XP Cost"}),(0,b.jsx)(r.TableHead,{children:"Stock"}),(0,b.jsx)(r.TableHead,{children:"Status"}),(0,b.jsx)(r.TableHead,{children:"Created"}),(0,b.jsx)(r.TableHead,{className:"w-12"})]})}),(0,b.jsx)(r.TableBody,{children:P.map(a=>{var c;let e;return(0,b.jsxs)(r.TableRow,{children:[(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground line-clamp-1",children:a.description})]})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Gift,{className:"w-4 h-4 text-muted-foreground"}),(c=a.partnerId,e=B.find(a=>a.id===c),e?.name||"Unknown Partner")]})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)(q.Badge,{variant:"secondary",children:[a.xpCost," XP"]})}),(0,b.jsx)(r.TableCell,{children:a.stockLimit?(0,b.jsxs)("span",{className:"text-sm",children:[a.claimCount,"/",a.stockLimit]}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Unlimited"})}),(0,b.jsx)(r.TableCell,{children:(0,b.jsx)(q.Badge,{className:a.isActive?"bg-success/20 text-success":"bg-muted text-muted-foreground",children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)(r.TableCell,{children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)(r.TableCell,{children:(0,b.jsxs)(s.DropdownMenu,{children:[(0,b.jsx)(s.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(d.Ticket,{className:"w-4 h-4"})})}),(0,b.jsxs)(s.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(s.DropdownMenuItem,{onClick:()=>{K(a),M({partnerId:a.partnerId,title:a.title,description:a.description,xpCost:a.xpCost,couponCode:a.couponCode||"",discountValue:a.discountValue||"",stockLimit:a.stockLimit||0,requiredBadgeId:a.requiredBadgeId||"",requiredLevel:a.requiredLevel||0,eligibilityCriteria:a.eligibilityCriteria||"",isActive:a.isActive}),I(!0)},children:[(0,b.jsx)(f.Edit,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,b.jsx)(s.DropdownMenuItem,{onClick:()=>R(a),children:a.isActive?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.EyeOff,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Eye,{className:"w-4 h-4 mr-2"}),"Activate"]})})]})]})})]},a.id)})})]})})}),(0,b.jsx)(v.Dialog,{open:F||H,onOpenChange:a=>{a||(G(!1),I(!1))},children:(0,b.jsxs)(v.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(v.DialogHeader,{children:[(0,b.jsx)(v.DialogTitle,{children:F?"Create New Reward":"Edit Reward"}),(0,b.jsx)(v.DialogDescription,{children:"Configure the reward details and redemption requirements."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"partnerId",children:"Partner *"}),(0,b.jsxs)(t.Select,{value:L.partnerId,onValueChange:a=>M(b=>({...b,partnerId:a})),children:[(0,b.jsx)(t.SelectTrigger,{children:(0,b.jsx)(t.SelectValue,{placeholder:"Select partner"})}),(0,b.jsx)(t.SelectContent,{children:B.map(a=>(0,b.jsx)(t.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"xpCost",children:"XP Cost *"}),(0,b.jsx)(n.Input,{id:"xpCost",type:"number",value:L.xpCost,onChange:a=>M(b=>({...b,xpCost:parseInt(a.target.value)||0})),min:"0"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"title",children:"Title *"}),(0,b.jsx)(n.Input,{id:"title",value:L.title,onChange:a=>M(b=>({...b,title:a.target.value})),placeholder:"Reward title"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"description",children:"Description *"}),(0,b.jsx)(p.Textarea,{id:"description",value:L.description,onChange:a=>M(b=>({...b,description:a.target.value})),placeholder:"Reward description",rows:3})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"couponCode",children:"Coupon Code"}),(0,b.jsx)(n.Input,{id:"couponCode",value:L.couponCode,onChange:a=>M(b=>({...b,couponCode:a.target.value})),placeholder:"Optional coupon code"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"discountValue",children:"Discount Value"}),(0,b.jsx)(n.Input,{id:"discountValue",value:L.discountValue,onChange:a=>M(b=>({...b,discountValue:a.target.value})),placeholder:"e.g., 20% off, â‚¹500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"stockLimit",children:"Stock Limit"}),(0,b.jsx)(n.Input,{id:"stockLimit",type:"number",value:L.stockLimit,onChange:a=>M(b=>({...b,stockLimit:parseInt(a.target.value)||0})),placeholder:"0 for unlimited",min:"0"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"requiredLevel",children:"Required Level"}),(0,b.jsx)(n.Input,{id:"requiredLevel",type:"number",value:L.requiredLevel,onChange:a=>M(b=>({...b,requiredLevel:parseInt(a.target.value)||0})),placeholder:"0 for no requirement",min:"0"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"eligibilityCriteria",children:"Eligibility Criteria"}),(0,b.jsx)(p.Textarea,{id:"eligibilityCriteria",value:L.eligibilityCriteria,onChange:a=>M(b=>({...b,eligibilityCriteria:a.target.value})),placeholder:"Additional eligibility requirements",rows:2})]})]}),(0,b.jsxs)(v.DialogFooter,{children:[(0,b.jsx)(m.Button,{variant:"outline",onClick:()=>{G(!1),I(!1)},children:"Cancel"}),(0,b.jsx)(m.Button,{onClick:Q,children:J?"Update Reward":"Create Reward"})]})]})})]})}])}];

//# sourceMappingURL=_bbc90d13._.js.map