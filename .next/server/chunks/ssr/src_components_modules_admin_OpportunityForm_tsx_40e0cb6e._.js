module.exports=[60350,a=>{"use strict";var b,c=a.i(87924),d=a.i(72131),e=a.i(50944),f=a.i(46271),g=a.i(210),h=a.i(14548),i=a.i(77156),j=a.i(81560),k=a.i(41675),l=a.i(70106);let m=(0,l.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var n=a.i(15618),o=a.i(33441);let p=(0,l.default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var q=a.i(96221),r=a.i(1027),s=a.i(8406),t=a.i(60246),u=a.i(99570),v=a.i(66718),w=a.i(29246),x=a.i(70430),y=a.i(91119),z=a.i(63658),A=a.i(86304),B=a.i(80701),C=/[\\\/_+.#"@\[\(\{&]/,D=/[\\\/_+.#"@\[\(\{&]/g,E=/[\s-]/,F=/[\s-]/g;function G(a){return a.toLowerCase().replace(F," ")}var H=a.i(97942),I=a.i(30553),J=a.i(92843),K=a.i(70121),L='[cmdk-group=""]',M='[cmdk-group-items=""]',N='[cmdk-item=""]',O=`${N}:not([aria-disabled="true"])`,P="cmdk-item-select",Q="data-value",R=(a,b,c)=>{var d;return d=a,function a(b,c,d,e,f,g,h){if(g===c.length)return f===b.length?1:.99;var i=`${f},${g}`;if(void 0!==h[i])return h[i];for(var j,k,l,m,n=e.charAt(g),o=d.indexOf(n,f),p=0;o>=0;)(j=a(b,c,d,e,o+1,g+1,h))>p&&(o===f?j*=1:C.test(b.charAt(o-1))?(j*=.8,(l=b.slice(f,o-1).match(D))&&f>0&&(j*=Math.pow(.999,l.length))):E.test(b.charAt(o-1))?(j*=.9,(m=b.slice(f,o-1).match(F))&&f>0&&(j*=Math.pow(.999,m.length))):(j*=.17,f>0&&(j*=Math.pow(.999,o-f))),b.charAt(o)!==c.charAt(g)&&(j*=.9999)),(j<.1&&d.charAt(o-1)===e.charAt(g+1)||e.charAt(g+1)===e.charAt(g)&&d.charAt(o-1)!==e.charAt(g))&&.1*(k=a(b,c,d,e,o+1,g+2,h))>j&&(j=.1*k),j>p&&(p=j),o=d.indexOf(n,o+1);return h[i]=p,p}(d=c&&c.length>0?`${d+" "+c.join(" ")}`:d,b,G(d),G(b),0,0,{})},S=d.createContext(void 0),T=d.createContext(void 0),U=d.createContext(void 0),V=d.forwardRef((a,b)=>{let c=ad(()=>{var b,c;return{search:"",value:null!=(c=null!=(b=a.value)?b:a.defaultValue)?c:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),e=ad(()=>new Set),f=ad(()=>new Map),g=ad(()=>new Map),h=ad(()=>new Set),i=ab(a),{label:j,children:k,value:l,onValueChange:m,filter:n,shouldFilter:o,loop:p,disablePointerSelection:q=!1,vimBindings:r=!0,...s}=a,t=(0,J.useId)(),u=(0,J.useId)(),v=(0,J.useId)(),w=d.useRef(null),x=ag();ac(()=>{if(void 0!==l){let a=l.trim();c.current.value=a,y.emit()}},[l]),ac(()=>{x(6,E)},[]);let y=d.useMemo(()=>({subscribe:a=>(h.current.add(a),()=>h.current.delete(a)),snapshot:()=>c.current,setState:(a,b,d)=>{var e,f,g,h;if(!Object.is(c.current[a],b)){if(c.current[a]=b,"search"===a)D(),B(),x(1,C);else if("value"===a){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let a=document.getElementById(v);a?a.focus():null==(e=document.getElementById(t))||e.focus()}if(x(7,()=>{var a;c.current.selectedItemId=null==(a=F())?void 0:a.id,y.emit()}),d||x(5,E),(null==(f=i.current)?void 0:f.value)!==void 0){null==(h=(g=i.current).onValueChange)||h.call(g,null!=b?b:"");return}}y.emit()}},emit:()=>{h.current.forEach(a=>a())}}),[]),z=d.useMemo(()=>({value:(a,b,d)=>{var e;b!==(null==(e=g.current.get(a))?void 0:e.value)&&(g.current.set(a,{value:b,keywords:d}),c.current.filtered.items.set(a,A(b,d)),x(2,()=>{B(),y.emit()}))},item:(a,b)=>(e.current.add(a),b&&(f.current.has(b)?f.current.get(b).add(a):f.current.set(b,new Set([a]))),x(3,()=>{D(),B(),c.current.value||C(),y.emit()}),()=>{g.current.delete(a),e.current.delete(a),c.current.filtered.items.delete(a);let b=F();x(4,()=>{D(),(null==b?void 0:b.getAttribute("id"))===a&&C(),y.emit()})}),group:a=>(f.current.has(a)||f.current.set(a,new Set),()=>{g.current.delete(a),f.current.delete(a)}),filter:()=>i.current.shouldFilter,label:j||a["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:t,inputId:v,labelId:u,listInnerRef:w}),[]);function A(a,b){var d,e;let f=null!=(e=null==(d=i.current)?void 0:d.filter)?e:R;return a?f(a,c.current.search,b):0}function B(){if(!c.current.search||!1===i.current.shouldFilter)return;let a=c.current.filtered.items,b=[];c.current.filtered.groups.forEach(c=>{let d=f.current.get(c),e=0;d.forEach(b=>{e=Math.max(a.get(b),e)}),b.push([c,e])});let d=w.current;G().sort((b,c)=>{var d,e;let f=b.getAttribute("id"),g=c.getAttribute("id");return(null!=(d=a.get(g))?d:0)-(null!=(e=a.get(f))?e:0)}).forEach(a=>{let b=a.closest(M);b?b.appendChild(a.parentElement===b?a:a.closest(`${M} > *`)):d.appendChild(a.parentElement===d?a:a.closest(`${M} > *`))}),b.sort((a,b)=>b[1]-a[1]).forEach(a=>{var b;let c=null==(b=w.current)?void 0:b.querySelector(`${L}[${Q}="${encodeURIComponent(a[0])}"]`);null==c||c.parentElement.appendChild(c)})}function C(){let a=G().find(a=>"true"!==a.getAttribute("aria-disabled")),b=null==a?void 0:a.getAttribute(Q);y.setState("value",b||void 0)}function D(){var a,b,d,h;if(!c.current.search||!1===i.current.shouldFilter){c.current.filtered.count=e.current.size;return}c.current.filtered.groups=new Set;let j=0;for(let f of e.current){let e=A(null!=(b=null==(a=g.current.get(f))?void 0:a.value)?b:"",null!=(h=null==(d=g.current.get(f))?void 0:d.keywords)?h:[]);c.current.filtered.items.set(f,e),e>0&&j++}for(let[a,b]of f.current)for(let d of b)if(c.current.filtered.items.get(d)>0){c.current.filtered.groups.add(a);break}c.current.filtered.count=j}function E(){var a,b,c;let d=F();d&&((null==(a=d.parentElement)?void 0:a.firstChild)===d&&(null==(c=null==(b=d.closest(L))?void 0:b.querySelector('[cmdk-group-heading=""]'))||c.scrollIntoView({block:"nearest"})),d.scrollIntoView({block:"nearest"}))}function F(){var a;return null==(a=w.current)?void 0:a.querySelector(`${N}[aria-selected="true"]`)}function G(){var a;return Array.from((null==(a=w.current)?void 0:a.querySelectorAll(O))||[])}function H(a){let b=G()[a];b&&y.setState("value",b.getAttribute(Q))}function K(a){var b;let c=F(),d=G(),e=d.findIndex(a=>a===c),f=d[e+a];null!=(b=i.current)&&b.loop&&(f=e+a<0?d[d.length-1]:e+a===d.length?d[0]:d[e+a]),f&&y.setState("value",f.getAttribute(Q))}function U(a){let b=F(),c=null==b?void 0:b.closest(L),d;for(;c&&!d;)d=null==(c=a>0?function(a,b){let c=a.nextElementSibling;for(;c;){if(c.matches(b))return c;c=c.nextElementSibling}}(c,L):function(a,b){let c=a.previousElementSibling;for(;c;){if(c.matches(b))return c;c=c.previousElementSibling}}(c,L))?void 0:c.querySelector(O);d?y.setState("value",d.getAttribute(Q)):K(a)}let V=()=>H(G().length-1),W=a=>{a.preventDefault(),a.metaKey?V():a.altKey?U(1):K(1)},X=a=>{a.preventDefault(),a.metaKey?H(0):a.altKey?U(-1):K(-1)};return d.createElement(I.Primitive.div,{ref:b,tabIndex:-1,...s,"cmdk-root":"",onKeyDown:a=>{var b;null==(b=s.onKeyDown)||b.call(s,a);let c=a.nativeEvent.isComposing||229===a.keyCode;if(!(a.defaultPrevented||c))switch(a.key){case"n":case"j":r&&a.ctrlKey&&W(a);break;case"ArrowDown":W(a);break;case"p":case"k":r&&a.ctrlKey&&X(a);break;case"ArrowUp":X(a);break;case"Home":a.preventDefault(),H(0);break;case"End":a.preventDefault(),V();break;case"Enter":{a.preventDefault();let b=F();if(b){let a=new Event(P);b.dispatchEvent(a)}}}}},d.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:ai},j),ah(a,a=>d.createElement(T.Provider,{value:y},d.createElement(S.Provider,{value:z},a))))}),W=d.forwardRef((a,b)=>{var c,e;let f=(0,J.useId)(),g=d.useRef(null),h=d.useContext(U),i=d.useContext(S),j=ab(a),k=null!=(e=null==(c=j.current)?void 0:c.forceMount)?e:null==h?void 0:h.forceMount;ac(()=>{if(!k)return i.item(f,null==h?void 0:h.id)},[k]);let l=af(f,g,[a.value,a.children,g],a.keywords),m=d.useContext(T),n=ae(a=>a.value&&a.value===l.current),o=ae(a=>!!k||!1===i.filter()||!a.search||a.filtered.items.get(f)>0);function p(){var a,b;q(),null==(b=(a=j.current).onSelect)||b.call(a,l.current)}function q(){m.setState("value",l.current,!0)}if(d.useEffect(()=>{let b=g.current;if(!(!b||a.disabled))return b.addEventListener(P,p),()=>b.removeEventListener(P,p)},[o,a.onSelect,a.disabled]),!o)return null;let{disabled:r,value:s,onSelect:t,forceMount:u,keywords:v,...w}=a;return d.createElement(I.Primitive.div,{ref:(0,K.composeRefs)(g,b),...w,id:f,"cmdk-item":"",role:"option","aria-disabled":!!r,"aria-selected":!!n,"data-disabled":!!r,"data-selected":!!n,onPointerMove:r||i.getDisablePointerSelection()?void 0:q,onClick:r?void 0:p},a.children)}),X=d.forwardRef((a,b)=>{let{heading:c,children:e,forceMount:f,...g}=a,h=(0,J.useId)(),i=d.useRef(null),j=d.useRef(null),k=(0,J.useId)(),l=d.useContext(S),m=ae(a=>!!f||!1===l.filter()||!a.search||a.filtered.groups.has(h));ac(()=>l.group(h),[]),af(h,i,[a.value,a.heading,j]);let n=d.useMemo(()=>({id:h,forceMount:f}),[f]);return d.createElement(I.Primitive.div,{ref:(0,K.composeRefs)(i,b),...g,"cmdk-group":"",role:"presentation",hidden:!m||void 0},c&&d.createElement("div",{ref:j,"cmdk-group-heading":"","aria-hidden":!0,id:k},c),ah(a,a=>d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":c?k:void 0},d.createElement(U.Provider,{value:n},a))))}),Y=d.forwardRef((a,b)=>{let{alwaysRender:c,...e}=a,f=d.useRef(null),g=ae(a=>!a.search);return c||g?d.createElement(I.Primitive.div,{ref:(0,K.composeRefs)(f,b),...e,"cmdk-separator":"",role:"separator"}):null}),Z=d.forwardRef((a,b)=>{let{onValueChange:c,...e}=a,f=null!=a.value,g=d.useContext(T),h=ae(a=>a.search),i=ae(a=>a.selectedItemId),j=d.useContext(S);return d.useEffect(()=>{null!=a.value&&g.setState("search",a.value)},[a.value]),d.createElement(I.Primitive.input,{ref:b,...e,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":j.listId,"aria-labelledby":j.labelId,"aria-activedescendant":i,id:j.inputId,type:"text",value:f?a.value:h,onChange:a=>{f||g.setState("search",a.target.value),null==c||c(a.target.value)}})}),$=d.forwardRef((a,b)=>{let{children:c,label:e="Suggestions",...f}=a,g=d.useRef(null),h=d.useRef(null),i=ae(a=>a.selectedItemId),j=d.useContext(S);return d.useEffect(()=>{if(h.current&&g.current){let a=h.current,b=g.current,c,d=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let c=a.offsetHeight;b.style.setProperty("--cmdk-list-height",c.toFixed(1)+"px")})});return d.observe(a),()=>{cancelAnimationFrame(c),d.unobserve(a)}}},[]),d.createElement(I.Primitive.div,{ref:(0,K.composeRefs)(g,b),...f,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":e,id:j.listId},ah(a,a=>d.createElement("div",{ref:(0,K.composeRefs)(h,j.listInnerRef),"cmdk-list-sizer":""},a)))}),_=d.forwardRef((a,b)=>{let{open:c,onOpenChange:e,overlayClassName:f,contentClassName:g,container:h,...i}=a;return d.createElement(H.Root,{open:c,onOpenChange:e},d.createElement(H.Portal,{container:h},d.createElement(H.Overlay,{"cmdk-overlay":"",className:f}),d.createElement(H.Content,{"aria-label":a.label,"cmdk-dialog":"",className:g},d.createElement(V,{ref:b,...i}))))}),aa=Object.assign(V,{List:$,Item:W,Input:Z,Group:X,Separator:Y,Dialog:_,Empty:d.forwardRef((a,b)=>ae(a=>0===a.filtered.count)?d.createElement(I.Primitive.div,{ref:b,...a,"cmdk-empty":"",role:"presentation"}):null),Loading:d.forwardRef((a,b)=>{let{progress:c,children:e,label:f="Loading...",...g}=a;return d.createElement(I.Primitive.div,{ref:b,...g,"cmdk-loading":"",role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-label":f},ah(a,a=>d.createElement("div",{"aria-hidden":!0},a)))})});function ab(a){let b=d.useRef(a);return ac(()=>{b.current=a}),b}var ac=d.useEffect;function ad(a){let b=d.useRef();return void 0===b.current&&(b.current=a()),b}function ae(a){let b=d.useContext(T),c=()=>a(b.snapshot());return d.useSyncExternalStore(b.subscribe,c,c)}function af(a,b,c,e=[]){let f=d.useRef(),g=d.useContext(S);return ac(()=>{var d;let h=(()=>{var a;for(let b of c){if("string"==typeof b)return b.trim();if("object"==typeof b&&"current"in b)return b.current?null==(a=b.current.textContent)?void 0:a.trim():f.current}})(),i=e.map(a=>a.trim());g.value(a,h,i),null==(d=b.current)||d.setAttribute(Q,h),f.current=h}),f}var ag=()=>{let[a,b]=d.useState(),c=ad(()=>new Map);return ac(()=>{c.current.forEach(a=>a()),c.current=new Map},[a]),(a,d)=>{c.current.set(a,d),b({})}};function ah({asChild:a,children:b},c){let e;return a&&d.isValidElement(b)?d.cloneElement("function"==typeof(e=b.type)?e(b.props):"render"in e?e.render(b.props):b,{ref:b.ref},c(b.props.children)):c(b)}var ai={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},aj=a.i(87532),ak=a.i(68114),al=a.i(14574);let am=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aa,{ref:d,className:(0,ak.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...b}));am.displayName=aa.displayName;let an=d.forwardRef(({className:a,...b},d)=>(0,c.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,c.jsx)(aj.Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,c.jsx)(aa.Input,{ref:d,className:(0,ak.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...b})]}));an.displayName=aa.Input.displayName;let ao=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aa.List,{ref:d,className:(0,ak.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...b}));ao.displayName=aa.List.displayName;let ap=d.forwardRef((a,b)=>(0,c.jsx)(aa.Empty,{ref:b,className:"py-6 text-center text-sm",...a}));ap.displayName=aa.Empty.displayName;let aq=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aa.Group,{ref:d,className:(0,ak.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...b}));aq.displayName=aa.Group.displayName,d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aa.Separator,{ref:d,className:(0,ak.cn)("-mx-1 h-px bg-border",a),...b})).displayName=aa.Separator.displayName;let ar=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(aa.Item,{ref:d,className:(0,ak.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",a),...b}));ar.displayName=aa.Item.displayName;var as=a.i(7554),at=a.i(50104),au=a.i(46872),av=a.i(76549),aw="dismissableLayer.update",ax=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ay=d.forwardRef((a,e)=>{let{disableOutsidePointerEvents:f=!1,onEscapeKeyDown:g,onPointerDownOutside:h,onFocusOutside:i,onInteractOutside:j,onDismiss:k,...l}=a,m=d.useContext(ax),[n,o]=d.useState(null),p=n?.ownerDocument??globalThis?.document,[,q]=d.useState({}),r=(0,K.useComposedRefs)(e,a=>o(a)),s=Array.from(m.layers),[t]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),u=s.indexOf(t),v=n?s.indexOf(n):-1,w=m.layersWithOutsidePointerEventsDisabled.size>0,x=v>=u,y=function(a,b=globalThis?.document){let c=(0,au.useCallbackRef)(a),e=d.useRef(!1),f=d.useRef(()=>{});return d.useEffect(()=>{let a=a=>{if(a.target&&!e.current){let d=function(){aA("dismissableLayer.pointerDownOutside",c,e,{discrete:!0})},e={originalEvent:a};"touch"===a.pointerType?(b.removeEventListener("click",f.current),f.current=d,b.addEventListener("click",f.current,{once:!0})):d()}else b.removeEventListener("click",f.current);e.current=!1},d=window.setTimeout(()=>{b.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(d),b.removeEventListener("pointerdown",a),b.removeEventListener("click",f.current)}},[b,c]),{onPointerDownCapture:()=>e.current=!0}}(a=>{let b=a.target,c=[...m.branches].some(a=>a.contains(b));x&&!c&&(h?.(a),j?.(a),a.defaultPrevented||k?.())},p),z=function(a,b=globalThis?.document){let c=(0,au.useCallbackRef)(a),e=d.useRef(!1);return d.useEffect(()=>{let a=a=>{a.target&&!e.current&&aA("dismissableLayer.focusOutside",c,{originalEvent:a},{discrete:!1})};return b.addEventListener("focusin",a),()=>b.removeEventListener("focusin",a)},[b,c]),{onFocusCapture:()=>e.current=!0,onBlurCapture:()=>e.current=!1}}(a=>{let b=a.target;![...m.branches].some(a=>a.contains(b))&&(i?.(a),j?.(a),a.defaultPrevented||k?.())},p);return(0,av.useEscapeKeydown)(a=>{v===m.layers.size-1&&(g?.(a),!a.defaultPrevented&&k&&(a.preventDefault(),k()))},p),d.useEffect(()=>{if(n)return f&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(b=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(n)),m.layers.add(n),az(),()=>{f&&1===m.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=b)}},[n,p,f,m]),d.useEffect(()=>()=>{n&&(m.layers.delete(n),m.layersWithOutsidePointerEventsDisabled.delete(n),az())},[n,m]),d.useEffect(()=>{let a=()=>q({});return document.addEventListener(aw,a),()=>document.removeEventListener(aw,a)},[]),(0,c.jsx)(I.Primitive.div,{...l,ref:r,style:{pointerEvents:w?x?"auto":"none":void 0,...a.style},onFocusCapture:(0,as.composeEventHandlers)(a.onFocusCapture,z.onFocusCapture),onBlurCapture:(0,as.composeEventHandlers)(a.onBlurCapture,z.onBlurCapture),onPointerDownCapture:(0,as.composeEventHandlers)(a.onPointerDownCapture,y.onPointerDownCapture)})});function az(){let a=new CustomEvent(aw);document.dispatchEvent(a)}function aA(a,b,c,{discrete:d}){let e=c.originalEvent.target,f=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:c});b&&e.addEventListener(a,b,{once:!0}),d?(0,I.dispatchDiscreteCustomEvent)(e,f):e.dispatchEvent(f)}ay.displayName="DismissableLayer",d.forwardRef((a,b)=>{let e=d.useContext(ax),f=d.useRef(null),g=(0,K.useComposedRefs)(b,f);return d.useEffect(()=>{let a=f.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),(0,c.jsx)(I.Primitive.div,{...a,ref:g})}).displayName="DismissableLayerBranch";var aB=a.i(86228),aC=a.i(22297),aD=a.i(4691),aE=a.i(92616),aF=a.i(77192),aG=a.i(11011),aH=a.i(25152),aI=a.i(41852),aJ=a.i(52081),aK="Popover",[aL,aM]=(0,at.createContextScope)(aK,[aD.createPopperScope]),aN=(0,aD.createPopperScope)(),[aO,aP]=aL(aK),aQ=a=>{let{__scopePopover:b,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!1}=a,j=aN(b),k=d.useRef(null),[l,m]=d.useState(!1),[n,o]=(0,aH.useControllableState)({prop:f,defaultProp:g??!1,onChange:h,caller:aK});return(0,c.jsx)(aD.Root,{...j,children:(0,c.jsx)(aO,{scope:b,contentId:(0,J.useId)(),triggerRef:k,open:n,onOpenChange:o,onOpenToggle:d.useCallback(()=>o(a=>!a),[o]),hasCustomAnchor:l,onCustomAnchorAdd:d.useCallback(()=>m(!0),[]),onCustomAnchorRemove:d.useCallback(()=>m(!1),[]),modal:i,children:e})})};aQ.displayName=aK;var aR="PopoverAnchor";d.forwardRef((a,b)=>{let{__scopePopover:e,...f}=a,g=aP(aR,e),h=aN(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:j}=g;return d.useEffect(()=>(i(),()=>j()),[i,j]),(0,c.jsx)(aD.Anchor,{...h,...f,ref:b})}).displayName=aR;var aS="PopoverTrigger",aT=d.forwardRef((a,b)=>{let{__scopePopover:d,...e}=a,f=aP(aS,d),g=aN(d),h=(0,K.useComposedRefs)(b,f.triggerRef),i=(0,c.jsx)(I.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":a3(f.open),...e,ref:h,onClick:(0,as.composeEventHandlers)(a.onClick,f.onOpenToggle)});return f.hasCustomAnchor?i:(0,c.jsx)(aD.Anchor,{asChild:!0,...g,children:i})});aT.displayName=aS;var aU="PopoverPortal",[aV,aW]=aL(aU,{forceMount:void 0}),aX=a=>{let{__scopePopover:b,forceMount:d,children:e,container:f}=a,g=aP(aU,b);return(0,c.jsx)(aV,{scope:b,forceMount:d,children:(0,c.jsx)(aF.Presence,{present:d||g.open,children:(0,c.jsx)(aE.Portal,{asChild:!0,container:f,children:e})})})};aX.displayName=aU;var aY="PopoverContent",aZ=d.forwardRef((a,b)=>{let d=aW(aY,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=aP(aY,a.__scopePopover);return(0,c.jsx)(aF.Presence,{present:e||g.open,children:g.modal?(0,c.jsx)(a_,{...f,ref:b}):(0,c.jsx)(a0,{...f,ref:b})})});aZ.displayName=aY;var a$=(0,aG.createSlot)("PopoverContent.RemoveScroll"),a_=d.forwardRef((a,b)=>{let e=aP(aY,a.__scopePopover),f=d.useRef(null),g=(0,K.useComposedRefs)(b,f),h=d.useRef(!1);return d.useEffect(()=>{let a=f.current;if(a)return(0,aI.hideOthers)(a)},[]),(0,c.jsx)(aJ.RemoveScroll,{as:a$,allowPinchZoom:!0,children:(0,c.jsx)(a1,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,as.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),h.current||e.triggerRef.current?.focus()}),onPointerDownOutside:(0,as.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;h.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,as.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),a0=d.forwardRef((a,b)=>{let e=aP(aY,a.__scopePopover),f=d.useRef(!1),g=d.useRef(!1);return(0,c.jsx)(a1,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),a1=d.forwardRef((a,b)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onInteractOutside:l,...m}=a,n=aP(aY,d),o=aN(d);return(0,aB.useFocusGuards)(),(0,c.jsx)(aC.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,c.jsx)(ay,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:l,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onDismiss:()=>n.onOpenChange(!1),children:(0,c.jsx)(aD.Content,{"data-state":a3(n.open),role:"dialog",id:n.contentId,...o,...m,ref:b,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),a2="PopoverClose";function a3(a){return a?"open":"closed"}d.forwardRef((a,b)=>{let{__scopePopover:d,...e}=a,f=aP(a2,d);return(0,c.jsx)(I.Primitive.button,{type:"button",...e,ref:b,onClick:(0,as.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=a2,d.forwardRef((a,b)=>{let{__scopePopover:d,...e}=a,f=aN(d);return(0,c.jsx)(aD.Arrow,{...f,...e,ref:b})}).displayName="PopoverArrow";let a4=d.forwardRef(({className:a,align:b="center",sideOffset:d=4,...e},f)=>(0,c.jsx)(aX,{children:(0,c.jsx)(aZ,{ref:f,align:b,sideOffset:d,className:(0,ak.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...e})}));a4.displayName=aZ.displayName;var a5=a.i(19721),a6=a.i(93611),a7=a.i(54614),a8=a.i(25101),a9=a.i(58682);let ba=(0,a5.default)(async()=>{},{loadableGenerated:{modules:[13441]},ssr:!1}),bb=a=>{if(!a)return"";try{let b=a&&a.toDate?a.toDate():new Date(a);if(isNaN(b.getTime()))return"";return b.toISOString().split("T")[0]}catch(a){return""}};a.s(["default",0,()=>{let a=(0,e.useRouter)(),b=(0,e.useParams)(),l=b?.id,{toast:C}=(0,a7.useToast)(),D=!!l,[E,F]=(0,d.useState)(D),[G,H]=(0,d.useState)(!1),[I,J]=(0,d.useState)({title:"",type:"scholarship",shortDescription:"",description:"",image:"",organizer:"",location:"",link:"",eligibility:{grades:[],requirements:[]},dates:{registrationStart:new Date,registrationEnd:new Date},prizes:{},fees:0,tags:"",status:"draft",featured:!1,seoConfig:{metaTitle:"",metaDescription:"",aiSummary:"",noIndex:!1,schemaType:"Scholarship"}}),[K,L]=(0,d.useState)([]),[M,N]=(0,d.useState)([]),[O,P]=(0,d.useState)([]),[Q,R]=(0,d.useState)("free"),[S,T]=(0,d.useState)(!1),[U,V]=(0,d.useState)(!1),[W,X]=(0,d.useState)({name:"",type:"school",website:""}),[Y,Z]=(0,d.useState)(!1),[$,_]=(0,d.useState)([]),[aa,ab]=(0,d.useState)(!1),[ac,ad]=(0,d.useState)(!1),ae=(a,b)=>{J(c=>({...c,[a]:b}))},af=(a,b)=>{J(c=>({...c,seoConfig:{...c.seoConfig||{},[a]:b}}))},ag=async()=>{try{let a=await a8.settingsService.getOrganizers();L(a)}catch(a){console.error("Error fetching organizers:",a)}},ah=async()=>{try{let b=await a8.settingsService.getGrades();N(b);let c=await a8.settingsService.getOpportunityTypes();P(c.length>0?c:[]);let d=await a8.settingsService.getOrganizers();if(L(d),l){let b=await a8.opportunitiesService.getById(l);if(b){let a=Array.isArray(b.tags)?b.tags.join(", "):b.tags||"";J({...b,tags:a}),R(b.fees&&b.fees>0?"paid":"free")}else C({title:"Error",description:"Opportunity not found",variant:"destructive"}),a.push("/admin/opportunities")}}catch(a){console.error("Error loading initial data:",a)}finally{F(!1)}l&&ai(l)},ai=async a=>{ab(!0);try{let b=(await a9.default.getAllUsers()).filter(b=>b.appliedOpportunities?.includes(a));_(b)}catch(a){console.error("Error fetching applicants:",a)}finally{ab(!1)}};(0,d.useEffect)(()=>{ah()},[l,a,C]);let aj=async()=>{if(W.name.trim()){Z(!0);try{await a8.settingsService.saveOrganizer(W),await ag(),ae("organizer",W.name),V(!1),X({name:"",type:"school",website:""}),C({title:"Success",description:"Organizer added and selected"})}catch(a){C({title:"Error",description:"Failed to add organizer",variant:"destructive"})}finally{Z(!1)}}},as=async()=>{if(l){ab(!0);try{let a=await a8.opportunitiesService.syncApplicationCount(l);J(b=>({...b,applicationCount:a})),await ai(l),C({title:"Counts Synced",description:`Found ${a} verified applications.`})}catch(a){console.error("Sync failed:",a),C({title:"Sync Failed",description:"Database error.",variant:"destructive"})}finally{ab(!1)}}},at=async b=>{if(b.preventDefault(),!I.title)return void C({title:"Validation Error",description:"Title is required",variant:"destructive"});H(!0);try{let b=I.tags,c="string"==typeof b?b.split(",").map(a=>a.trim()).filter(a=>""!==a):b,{id:d,applicationCount:e,hypeCount:f,viewCount:g,shareCount:h,createdAt:i,updatedAt:j,...k}=I,m={...k,tags:c};l?(await a8.opportunitiesService.update(l,m),C({title:"Updated",description:"Opportunity updated successfully"})):(await a8.opportunitiesService.create(m),C({title:"Created",description:"Opportunity created successfully"})),a.push("/admin/opportunities")}catch(a){console.error("Error saving opportunity:",a),C({title:"Error",description:"Failed to save opportunity",variant:"destructive"})}finally{H(!1)}};return E?(0,c.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,c.jsx)(q.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,c.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)(u.Button,{variant:"ghost",size:"icon",onClick:()=>a.push("/admin/opportunities"),children:(0,c.jsx)(g.ArrowLeft,{className:"w-5 h-5"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl font-bold font-display",children:D?"Edit Opportunity":"Add New Opportunity"}),(0,c.jsx)("p",{className:"text-muted-foreground",children:"Fill in the details below"})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)(u.Button,{variant:"outline",className:"gap-2",onClick:()=>{let a=I.tags,b="string"==typeof a?a.split(",").map(a=>a.trim()).filter(a=>""!==a):a,c={...I,id:l||"preview",tags:b,updatedAt:new Date};sessionStorage.setItem("opportunity_preview",JSON.stringify(c)),window.open(`/opportunities/${l||"preview"}?preview=true`,"_blank")},children:[(0,c.jsx)(i.Eye,{className:"w-4 h-4"}),"Preview"]}),(0,c.jsxs)(u.Button,{className:"gap-2",onClick:at,disabled:G,children:[G&&(0,c.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),(0,c.jsx)(h.Save,{className:"w-4 h-4"}),D?"Update":"Save"]})]})]}),(0,c.jsxs)("form",{onSubmit:at,className:"space-y-6",children:[(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,c.jsxs)(y.Card,{children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsx)(y.CardTitle,{children:"Basic Information"})}),(0,c.jsx)(y.CardContent,{className:"space-y-4",children:(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,c.jsxs)("div",{className:"sm:col-span-2",children:[(0,c.jsx)(x.Label,{htmlFor:"title",children:"Title *"}),(0,c.jsx)(v.Input,{id:"title",placeholder:"e.g., Google Code-In 2024",value:I.title,onChange:a=>ae("title",a.target.value),className:"mt-1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"type",children:"Type *"}),(0,c.jsxs)(B.Select,{value:I.type,onValueChange:a=>ae("type",a),children:[(0,c.jsx)(B.SelectTrigger,{className:"mt-1",children:(0,c.jsx)(B.SelectValue,{placeholder:"Select type"})}),(0,c.jsx)(B.SelectContent,{children:O.map(a=>(0,c.jsx)(B.SelectItem,{value:a.id,children:(0,c.jsx)("span",{className:a.color,children:a.name})},a.id))})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"organizer",children:"Organizer *"}),(0,c.jsxs)("div",{className:"flex gap-2 items-start mt-1",children:[(0,c.jsxs)(aQ,{open:S,onOpenChange:T,children:[(0,c.jsx)(aT,{asChild:!0,children:(0,c.jsxs)(u.Button,{variant:"outline",role:"combobox","aria-expanded":S,className:"w-full justify-between font-normal bg-muted/50 border-transparent hover:bg-muted/80",children:[I.organizer||"Select organizer...",(0,c.jsx)(p,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,c.jsx)(a4,{className:"w-[300px] p-0",children:(0,c.jsxs)(am,{children:[(0,c.jsx)(an,{placeholder:"Search organizer..."}),(0,c.jsxs)(ao,{children:[(0,c.jsx)(ap,{children:"No organizer found."}),(0,c.jsx)(aq,{children:K.map(a=>(0,c.jsxs)(ar,{value:a.name,onSelect:a=>{ae("organizer",a),T(!1)},children:[(0,c.jsx)(o.Check,{className:(0,ak.cn)("mr-2 h-4 w-4",I.organizer===a.name?"opacity-100":"opacity-0")}),a.name]},a.id))})]})]})})]}),(0,c.jsx)(u.Button,{type:"button",variant:"secondary",size:"icon",className:"shrink-0",onClick:()=>V(!0),title:"Add New Organizer",children:(0,c.jsx)(n.Plus,{className:"w-4 h-4"})})]}),(0,c.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium uppercase",children:"Manage in sidebar"})]}),(0,c.jsxs)("div",{className:"sm:col-span-2",children:[(0,c.jsx)(x.Label,{htmlFor:"shortDescription",children:"Short Description *"}),(0,c.jsx)(w.Textarea,{id:"shortDescription",placeholder:"Brief summary (shown in cards)",value:I.shortDescription,onChange:a=>ae("shortDescription",a.target.value),className:"mt-1",rows:2})]})]})})]})}),(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,c.jsxs)(y.Card,{children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsx)(y.CardTitle,{children:"Details"})}),(0,c.jsxs)(y.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"pb-12",children:[(0,c.jsx)(x.Label,{htmlFor:"description",children:"Full Description"}),(0,c.jsx)("div",{className:"h-[300px] mt-1 text-black",children:(0,c.jsx)(ba,{theme:"snow",value:I.description,onChange:a=>ae("description",a),className:"h-full rounded-xl overflow-hidden",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","clean"]]}})})]}),(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,c.jsx)("div",{className:"sm:col-span-2 space-y-4 pt-4 border-t",children:(0,c.jsx)(a6.default,{label:"Featured Image",value:I.image||"",onChange:a=>ae("image",a)})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"link",children:"Apply Link"}),(0,c.jsxs)("div",{className:"mt-1 flex gap-2",children:[(0,c.jsx)(v.Input,{id:"link",placeholder:"https://...",value:I.link,onChange:a=>ae("link",a.target.value)}),(0,c.jsx)(u.Button,{type:"button",variant:"outline",size:"icon",children:(0,c.jsx)(m,{className:"w-4 h-4"})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"location",children:"Location"}),(0,c.jsx)(v.Input,{id:"location",placeholder:"e.g., Online, Delhi, Pan India",value:I.location,onChange:a=>ae("location",a.target.value),className:"mt-1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,c.jsx)(v.Input,{id:"tags",placeholder:"e.g., coding, science, math",value:I.tags,onChange:a=>ae("tags",a.target.value),className:"mt-1"})]})]})]})]})}),(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,c.jsxs)(y.Card,{children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsx)(y.CardTitle,{children:"Eligibility"})}),(0,c.jsxs)(y.CardContent,{className:"space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{children:"Eligible Grades"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:M.map(a=>(0,c.jsxs)("button",{type:"button",onClick:()=>{J(b=>({...b,eligibility:{...b.eligibility,grades:b.eligibility?.grades.includes(a)?b.eligibility.grades.filter(b=>b!==a):[...b.eligibility?.grades||[],a].sort((a,b)=>a-b)}}))},className:`px-4 py-2 rounded-lg border transition-all ${I.eligibility?.grades.includes(a)?"bg-primary text-primary-foreground border-primary":"bg-muted/50 border-border hover:border-primary/50"}`,children:["Class ",a]},a))})]}),(0,c.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 pt-6 border-t",children:(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"maxAge",children:"Maximum Age (Optional)"}),(0,c.jsx)(v.Input,{id:"maxAge",type:"number",placeholder:"e.g., 18",value:I.eligibility?.maxAge||"",onChange:a=>ae("eligibility",{...I.eligibility,maxAge:Number(a.target.value)}),className:"mt-1"})]})}),(0,c.jsxs)("div",{className:"pb-12 border-t pt-6",children:[(0,c.jsx)(x.Label,{htmlFor:"eligibilityDescription",children:"Detailed Eligibility (Entrance Rights)"}),(0,c.jsx)("div",{className:"h-[250px] mt-1 text-black",children:(0,c.jsx)(ba,{theme:"snow",value:I.eligibility?.description||"",onChange:a=>ae("eligibility",{...I.eligibility,description:a}),className:"h-full rounded-xl overflow-hidden",modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Outline specific requirements, age limits, or criteria..."})})]})]})]})}),(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,c.jsxs)(y.Card,{children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsxs)(y.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(k.Calendar,{className:"w-5 h-5"}),"Important Dates"]})}),(0,c.jsx)(y.CardContent,{children:(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"registrationStart",children:"Registration Start"}),(0,c.jsx)(v.Input,{id:"registrationStart",type:"date",value:bb(I.dates?.registrationStart),onChange:a=>ae("dates",{...I.dates,registrationStart:a.target.value?new Date(a.target.value):null}),className:"mt-1"}),(0,c.jsx)(v.Input,{placeholder:"Custom text (e.g. Ongoing)",value:I.dates?.registrationStartDescription||"",onChange:a=>ae("dates",{...I.dates,registrationStartDescription:a.target.value}),className:"mt-2 text-xs"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"registrationEnd",children:"Registration End *"}),(0,c.jsx)(v.Input,{id:"registrationEnd",type:"date",value:bb(I.dates?.registrationEnd),onChange:a=>ae("dates",{...I.dates,registrationEnd:a.target.value?new Date(a.target.value):null}),className:"mt-1"}),(0,c.jsx)(v.Input,{placeholder:"Custom text (e.g. No deadline)",value:I.dates?.registrationEndDescription||"",onChange:a=>ae("dates",{...I.dates,registrationEndDescription:a.target.value}),className:"mt-2 text-xs"})]}),(0,c.jsxs)("div",{className:"sm:col-span-2",children:[(0,c.jsx)(x.Label,{htmlFor:"eventDate",children:"Event Date (Optional)"}),(0,c.jsx)(v.Input,{id:"eventDate",type:"date",value:bb(I.dates?.eventDate),onChange:a=>ae("dates",{...I.dates,eventDate:a.target.value?new Date(a.target.value):null}),className:"mt-1"}),(0,c.jsx)(v.Input,{placeholder:"Custom text (e.g. January 2026)",value:I.dates?.eventDateDescription||"",onChange:a=>ae("dates",{...I.dates,eventDateDescription:a.target.value}),className:"mt-2 text-xs"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Date when the exams, competition or workshop actually takes place."})]})]})})]})}),(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,c.jsxs)(y.Card,{children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsx)(y.CardTitle,{children:"Prizes & Fees"})}),(0,c.jsx)(y.CardContent,{children:(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{children:"Fee Type"}),(0,c.jsxs)("div",{className:"flex bg-muted rounded-xl p-1 mt-1",children:[(0,c.jsx)("button",{type:"button",onClick:()=>{R("free"),ae("fees",0)},className:`flex-1 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${"free"===Q?"bg-background shadow-sm":"text-muted-foreground"}`,children:"Free"}),(0,c.jsx)("button",{type:"button",onClick:()=>R("paid"),className:`flex-1 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${"paid"===Q?"bg-background shadow-sm":"text-muted-foreground"}`,children:"Paid"})]})]}),"paid"===Q&&(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"fees",children:"Registration Fee (₹\x1a₹)"}),(0,c.jsx)(v.Input,{id:"fees",type:"number",placeholder:"Amount",value:I.fees,onChange:a=>ae("fees",Number(a.target.value)),className:"mt-1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"prizeFirst",children:"1st Prize"}),(0,c.jsx)(v.Input,{id:"prizeFirst",placeholder:"e.g., ₹\x1a₹50,000",value:I.prizes?.first,onChange:a=>ae("prizes",{...I.prizes,first:a.target.value}),className:"mt-1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"prizeSecond",children:"2nd Prize"}),(0,c.jsx)(v.Input,{id:"prizeSecond",placeholder:"e.g., ₹\x1a₹25,000",value:I.prizes?.second,onChange:a=>ae("prizes",{...I.prizes,second:a.target.value}),className:"mt-1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"prizeThird",children:"3rd Prize"}),(0,c.jsx)(v.Input,{id:"prizeThird",placeholder:"e.g., ₹\x1a₹10,000",value:I.prizes?.third,onChange:a=>ae("prizes",{...I.prizes,third:a.target.value}),className:"mt-1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"prizeOther",children:"Other Perks / Prizes"}),(0,c.jsx)(v.Input,{id:"prizeOther",placeholder:"e.g., Swags, Internships",value:I.prizes?.other,onChange:a=>ae("prizes",{...I.prizes,other:a.target.value}),className:"mt-1"})]}),(0,c.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2 flex items-center justify-between p-4 bg-muted/30 rounded-xl border border-border/50",children:[(0,c.jsxs)("div",{className:"space-y-0.5",children:[(0,c.jsx)(x.Label,{className:"text-sm font-bold",children:"Certificates Provided"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Students get a verified certificate"})]}),(0,c.jsx)(z.Switch,{checked:I.prizes?.certificates||!1,onCheckedChange:a=>ae("prizes",{...I.prizes,certificates:a})})]}),(0,c.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2",children:[(0,c.jsxs)(x.Label,{htmlFor:"xpValue",className:"flex items-center gap-1.5",children:[(0,c.jsx)(r.Zap,{className:"w-3.5 h-3.5 text-secondary fill-secondary"}),"XP Points Awarded"]}),(0,c.jsx)(v.Input,{id:"xpValue",type:"number",placeholder:"e.g., 500",value:I.xpValue||"",onChange:a=>ae("xpValue",Number(a.target.value)),className:"mt-1 font-bold text-secondary"}),(0,c.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 italic uppercase tracking-wider",children:"Redeemable with brand collaborations"})]})]})})]})}),(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,c.jsxs)(y.Card,{className:"border-primary/20 bg-primary/5",children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsxs)(y.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(s.Sparkles,{className:"w-5 h-5 text-primary"}),"SEO & AI Discovery (GEO/AEO)"]})}),(0,c.jsx)(y.CardContent,{className:"space-y-4",children:(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,c.jsxs)("div",{className:"sm:col-span-2",children:[(0,c.jsx)(x.Label,{htmlFor:"metaTitle",children:"Custom Meta Title"}),(0,c.jsx)(v.Input,{id:"metaTitle",placeholder:"Leave blank to use opportunity title",value:I.seoConfig?.metaTitle||"",onChange:a=>af("metaTitle",a.target.value),className:"mt-1"})]}),(0,c.jsxs)("div",{className:"sm:col-span-2",children:[(0,c.jsx)(x.Label,{htmlFor:"metaDescription",children:"Meta Description"}),(0,c.jsx)(w.Textarea,{id:"metaDescription",placeholder:"Brief summary for Google results",value:I.seoConfig?.metaDescription||"",onChange:a=>af("metaDescription",a.target.value),className:"mt-1",rows:2})]}),(0,c.jsxs)("div",{className:"sm:col-span-2",children:[(0,c.jsx)(x.Label,{htmlFor:"aiSummary",children:"AI Quick Summary (Distilled for LLMs)"}),(0,c.jsx)(w.Textarea,{id:"aiSummary",placeholder:"Factual, concise summary for ChatGPT/Gemini to cite...",value:I.seoConfig?.aiSummary||"",onChange:a=>af("aiSummary",a.target.value),className:"mt-1",rows:3}),(0,c.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:"This version is prioritized by AI models during semantic search."})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"schemaType",children:"Structured Data Type"}),(0,c.jsxs)(B.Select,{value:I.seoConfig?.schemaType||"Scholarship",onValueChange:a=>af("schemaType",a),children:[(0,c.jsx)(B.SelectTrigger,{className:"mt-1",children:(0,c.jsx)(B.SelectValue,{})}),(0,c.jsxs)(B.SelectContent,{children:[(0,c.jsx)(B.SelectItem,{value:"Scholarship",children:"Scholarship"}),(0,c.jsx)(B.SelectItem,{value:"EducationEvent",children:"Competition/Event"}),(0,c.jsx)(B.SelectItem,{value:"Course",children:"Workshop/Course"}),(0,c.jsx)(B.SelectItem,{value:"FAQPage",children:"Help/FAQ"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{htmlFor:"canonicalUrl",children:"Canonical URL"}),(0,c.jsx)(v.Input,{id:"canonicalUrl",placeholder:"https://myark.in/...",value:I.seoConfig?.canonicalUrl||"",onChange:a=>af("canonicalUrl",a.target.value),className:"mt-1"})]}),(0,c.jsxs)("div",{className:"sm:col-span-2 flex items-center justify-between p-4 bg-background rounded-xl border border-primary/10",children:[(0,c.jsxs)("div",{className:"space-y-0.5",children:[(0,c.jsx)(x.Label,{className:"text-sm font-bold",children:"Hide from Search Engines"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sets robots to 'noindex'"})]}),(0,c.jsx)(z.Switch,{checked:I.seoConfig?.noIndex||!1,onCheckedChange:a=>af("noIndex",a)})]})]})})]})}),(0,c.jsx)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,c.jsxs)(y.Card,{children:[(0,c.jsx)(y.CardHeader,{children:(0,c.jsx)(y.CardTitle,{children:"Settings"})}),(0,c.jsxs)(y.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{children:"Status"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Control visibility of this opportunity"})]}),(0,c.jsxs)(B.Select,{value:I.status,onValueChange:a=>ae("status",a),children:[(0,c.jsx)(B.SelectTrigger,{className:"w-40",children:(0,c.jsx)(B.SelectValue,{})}),(0,c.jsxs)(B.SelectContent,{children:[(0,c.jsx)(B.SelectItem,{value:"draft",children:"Draft"}),(0,c.jsx)(B.SelectItem,{value:"published",children:"Published"}),(0,c.jsx)(B.SelectItem,{value:"closed",children:"Closed"})]})]})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(x.Label,{children:"Featured"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show in featured section on homepage"})]}),(0,c.jsx)(z.Switch,{checked:I.featured,onCheckedChange:a=>ae("featured",a)})]})]})]})}),(0,c.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,c.jsx)(u.Button,{type:"button",variant:"outline",onClick:()=>a.push("/admin/opportunities"),children:"Cancel"}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[D&&(0,c.jsxs)(u.Button,{type:"button",variant:"destructive",className:"gap-2",onClick:()=>{confirm("Are you sure?")&&a8.opportunitiesService.delete(l).then(()=>a.push("/admin/opportunities"))},children:[(0,c.jsx)(j.Trash2,{className:"w-4 h-4"}),"Delete"]}),(0,c.jsxs)(u.Button,{type:"submit",className:"gap-2",disabled:G,children:[G&&(0,c.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),(0,c.jsx)(h.Save,{className:"w-4 h-4"}),D?"Update Opportunity":"Create Opportunity"]})]})]})]}),D&&(0,c.jsx)("div",{className:"mt-8 pt-8 border-t border-border/50",children:(0,c.jsxs)("div",{className:"glass-card p-6 rounded-2xl flex items-center justify-between bg-secondary/5 border-secondary/20",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 flex items-center justify-center",children:(0,c.jsx)(t.Users,{className:"w-6 h-6 text-secondary"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-bold",children:"Quest Participants"}),(0,c.jsxs)("p",{className:"text-sm text-muted-foreground",children:[$.length," heroes have joined this opportunity"]})]})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsxs)(u.Button,{variant:"outline",onClick:as,disabled:aa,className:"border-secondary/30 text-secondary hover:bg-secondary/10",children:[aa?(0,c.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):(0,c.jsx)(r.Zap,{className:"w-4 h-4 mr-2"}),"Sync DB"]}),(0,c.jsxs)(u.Button,{className:"bg-secondary hover:bg-secondary/80 text-secondary-foreground",onClick:()=>ad(!0),children:[(0,c.jsx)(i.Eye,{className:"w-4 h-4 mr-2"}),"View Applicants"]})]})]})}),(0,c.jsx)(al.Dialog,{open:ac,onOpenChange:ad,children:(0,c.jsxs)(al.DialogContent,{className:"sm:max-w-3xl max-h-[80vh] overflow-hidden flex flex-col p-0 border-secondary/20 bg-card",children:[(0,c.jsx)(al.DialogHeader,{className:"p-6 border-b border-border/50 bg-muted/30",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(al.DialogTitle,{className:"text-2xl font-display font-bold",children:"Quest Applicants"}),(0,c.jsxs)(al.DialogDescription,{children:['Verified students for "',I.title,'"']})]}),(0,c.jsxs)(u.Button,{variant:"ghost",size:"sm",onClick:()=>ai(l),disabled:aa,className:"gap-2",children:[aa?(0,c.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin"}):(0,c.jsx)(s.Sparkles,{className:"w-4 h-4"}),"Refresh"]})]})}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto p-0",children:0===$.length?(0,c.jsxs)("div",{className:"py-20 text-center",children:[(0,c.jsx)(t.Users,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"No heroes have stepped forward yet."}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground/60",children:"Share this quest to attract participants!"})]}):(0,c.jsxs)("table",{className:"w-full text-sm",children:[(0,c.jsx)("thead",{className:"sticky top-0 bg-muted z-10",children:(0,c.jsxs)("tr",{className:"border-b border-border/50",children:[(0,c.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Student"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Contact"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Class"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Aura (XP)"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right font-bold text-muted-foreground",children:"Action"})]})}),(0,c.jsx)("tbody",{className:"divide-y divide-border/30",children:$.map(b=>(0,c.jsxs)("tr",{className:"transition-colors hover:bg-muted/30 group",children:[(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center font-bold text-primary border border-primary/10",children:b.name?b.name.charAt(0):"S"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-bold text-foreground",children:b.name||"Anonymous Student"}),(0,c.jsxs)("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:["Level ",b.level||1]})]})]})}),(0,c.jsxs)("td",{className:"px-6 py-4",children:[(0,c.jsxs)("div",{className:"text-foreground font-mono",children:["+91 ",b.phone]}),(0,c.jsxs)("div",{className:"text-xs text-muted-foreground",children:["ID: ",b.id]})]}),(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsxs)(A.Badge,{variant:"secondary",className:"bg-muted border-primary/10",children:["Class ",b.grade||"N/A"]})}),(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsxs)("div",{className:"flex items-center gap-1.5 text-secondary font-bold",children:[(0,c.jsx)(r.Zap,{className:"w-3.5 h-3.5 fill-current"}),b.xpPoints?.toLocaleString()]})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)(u.Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>a.push("/admin/students"),children:"View User"})})]},b.id))})]})}),(0,c.jsx)(al.DialogFooter,{className:"p-4 border-t border-border/50 bg-muted/10",children:(0,c.jsx)(u.Button,{variant:"ghost",onClick:()=>ad(!1),children:"Close"})})]})}),(0,c.jsx)(al.Dialog,{open:U,onOpenChange:V,children:(0,c.jsxs)(al.DialogContent,{className:"sm:max-w-md",children:[(0,c.jsx)(al.DialogHeader,{children:(0,c.jsx)(al.DialogTitle,{children:"Add New Organizer"})}),(0,c.jsxs)("div",{className:"space-y-4 py-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(x.Label,{children:"Organizer Name *"}),(0,c.jsx)(v.Input,{value:W.name,onChange:a=>X({...W,name:a.target.value}),placeholder:"e.g., Delhi Public School"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(x.Label,{children:"Type"}),(0,c.jsxs)(B.Select,{value:W.type,onValueChange:a=>X({...W,type:a}),children:[(0,c.jsx)(B.SelectTrigger,{children:(0,c.jsx)(B.SelectValue,{})}),(0,c.jsxs)(B.SelectContent,{children:[(0,c.jsx)(B.SelectItem,{value:"school",children:"School"}),(0,c.jsx)(B.SelectItem,{value:"government",children:"Government"}),(0,c.jsx)(B.SelectItem,{value:"ngo",children:"NGO"}),(0,c.jsx)(B.SelectItem,{value:"corporate",children:"Corporate"}),(0,c.jsx)(B.SelectItem,{value:"other",children:"Other"})]})]})]})]}),(0,c.jsxs)(al.DialogFooter,{children:[(0,c.jsx)(u.Button,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,c.jsxs)(u.Button,{onClick:aj,disabled:Y||!W.name.trim(),children:[Y&&(0,c.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),"Add Organizer"]})]})]})})]})}],60350)}];

//# sourceMappingURL=src_components_modules_admin_OpportunityForm_tsx_40e0cb6e._.js.map