module.exports=[18300,a=>{"use strict";function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var e=null!=arguments[b]?arguments[b]:{};b%2?d(Object(e),!0).forEach(function(b){c(a,b,e[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(e,b))})}return a}function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var g={message:"Missing urlEndpoint during SDK initialization",help:""},h={message:"Invalid transformationPosition parameter",help:""},i={message:"Missing file parameter for upload",help:""},j={message:"Missing fileName parameter for upload",help:""},k={message:"Missing public key for upload",help:""},l={message:"Request to ImageKit upload endpoint failed due to network error",help:""},m={message:"Invalid uploadOptions parameter",help:""},n={message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},o={message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},p={message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},q={message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},r={message:"Invalid pre transformation parameter.",help:""},s={message:"Invalid post transformation parameter.",help:""};function t(a,b,c){"function"==typeof c&&(a?c(b,null):c(null,b))}var u=function(a,b){var c,d,f=e({},a);return Object.defineProperty(f,"$ResponseMetadata",{value:{statusCode:b.status,headers:(c={},Object.keys(d=b.getAllResponseHeaders()).length&&d.trim().split(/[\r\n]+/).map(function(a){return a.split(/: /)}).forEach(function(a){c[a[0].trim()]=a[1].trim()}),c)},enumerable:!1,writable:!1}),f},v=function(a,b,c){w(a,b).then(function(a){return t(!1,a,c)},function(a){return t(!0,a,c)})},w=function(a,b){return new Promise(function(c,d){a.open("POST","https://upload.imagekit.io/api/v1/files/upload"),a.onerror=function(a){return d(l)},a.onload=function(){if(200===a.status)try{var b=JSON.parse(a.responseText),e=u(b,a);return c(e)}catch(a){return d(a)}try{var b=JSON.parse(a.responseText),f=u(b,a);return d(f)}catch(a){return d(a)}},a.send(b)})},x=function(a,c,d,e){if(!c.file)return void t(!0,i,e);if(!c.fileName)return void t(!0,j,e);if(!d.publicKey)return void t(!0,k,e);if(!c.token)return void t(!0,o,e);if(!c.signature)return void t(!0,n,e);if(!c.expire)return void t(!0,p,e);if(c.transformation){if(!(Object.keys(c.transformation).includes("pre")||Object.keys(c.transformation).includes("post")))return void t(!0,q,e);if(Object.keys(c.transformation).includes("pre")&&!c.transformation.pre)return void t(!0,r,e);if(Object.keys(c.transformation).includes("post"))if(!Array.isArray(c.transformation.post))return void t(!0,s,e);else{var g,h,l=function(a,b){if("u"<typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(e=function(a,b){if(a){if("string"==typeof a)return f(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,void 0)}}(a))){e&&(a=e);var c=0,d=function(){};return{s:d,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(a){throw a},f:d}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,g,h=!0,i=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return h=a.done,a},e:function(a){i=!0,g=a},f:function(){try{h||null==e.return||e.return()}finally{if(i)throw g}}}}(c.transformation.post);try{for(l.s();!(h=l.n()).done;){var m=h.value;if("abs"===m.type&&!(m.protocol||m.value)||"transformation"===m.type&&!m.value)return void t(!0,s,e)}}catch(a){l.e(a)}finally{l.f()}}}var u=new FormData;for(g in c)g&&("file"===g&&"string"!=typeof c.file?u.append("file",c.file,String(c.fileName)):"tags"===g&&Array.isArray(c.tags)?u.append("tags",c.tags.join(",")):"signature"===g?u.append("signature",c.signature):"expire"===g?u.append("expire",String(c.expire)):"token"===g?u.append("token",c.token):"responseFields"===g&&Array.isArray(c.responseFields)?u.append("responseFields",c.responseFields.join(",")):"extensions"===g&&Array.isArray(c.extensions)?u.append("extensions",JSON.stringify(c.extensions)):"customMetadata"!==g||"object"!==b(c.customMetadata)||Array.isArray(c.customMetadata)||null===c.customMetadata?"transformation"===g&&"object"===b(c.transformation)&&null!==c.transformation?u.append(g,JSON.stringify(c.transformation)):"checks"===g&&c.checks?u.append("checks",c.checks):void 0!==c[g]&&u.append(g,String(c[g])):u.append("customMetadata",JSON.stringify(c.customMetadata)));u.append("publicKey",d.publicKey),v(a,u,e)},y={width:"w",height:"h",aspectRatio:"ar",background:"bg",border:"b",crop:"c",cropMode:"cm",dpr:"dpr",focus:"fo",quality:"q",x:"x",xCenter:"xc",y:"y",yCenter:"yc",format:"f",videoCodec:"vc",audioCodec:"ac",radius:"r",rotation:"rt",blur:"bl",named:"n",defaultImage:"di",flip:"fl",original:"orig",startOffset:"so",endOffset:"eo",duration:"du",streamingResolutions:"sr",grayscale:"e-grayscale",aiUpscale:"e-upscale",aiRetouch:"e-retouch",aiVariation:"e-genvar",aiDropShadow:"e-dropshadow",aiChangeBackground:"e-changebg",aiRemoveBackground:"e-bgremove",aiRemoveBackgroundExternal:"e-removedotbg",contrastStretch:"e-contrast",shadow:"e-shadow",sharpen:"e-sharpen",unsharpMask:"e-usm",gradient:"e-gradient",progressive:"pr",lossless:"lo",colorProfile:"cp",metadata:"md",opacity:"o",trim:"t",zoom:"z",page:"pg",fontSize:"fs",fontFamily:"ff",fontColor:"co",innerAlignment:"ia",padding:"pa",alpha:"al",typography:"tg",lineHeight:"lh",fontOutline:"fol",fontShadow:"fsh",raw:"raw"},z="query",A=["path",z],B=function(a){return a.transformationPosition===z},C=function(){return":"},D=function(){return","},E=function(a){return Buffer.from(a,"utf8").toString("base64")},F=RegExp("^[a-zA-Z0-9-._/ ]*$"),G=RegExp("^[a-zA-Z0-9-._ ]*$");function H(a){return"string"==typeof a&&"/"==a[a.length-1]&&(a=a.substring(0,a.length-1)),a}function I(a){return"string"==typeof a&&"/"==a[0]&&(a=a.slice(1)),a}function J(a,b){var c=b||"/",d=RegExp(c+"{1,}","g");return a.join(c).replace(d,c)}var K=function(a){if(!a.path&&!a.src)return"";try{a.path?(f=new URL(a.urlEndpoint).pathname,d=new URL(J([a.urlEndpoint.replace(f,""),a.path]))):(d=new URL(a.src),e=!0)}catch(a){return console.error(a),""}for(var c in a.queryParameters)d.searchParams.append(c,String(a.queryParameters[c]));var d,e,f,g=function a(c){if(!Array.isArray(c))return"";for(var d=[],e=0,f=c.length;e<f;e++){var g=[];for(var h in c[e]){var i=c[e][h];if(null!=i){if("overlay"===h&&"object"===b(i)){var j,k=function(b){var c=[];if(b){var d=b.type,e=b.position,f=void 0===e?{}:e,g=b.timing,h=void 0===g?{}:g,i=b.transformation;if(!d)throw Error("Overlay type is required");switch(d){case"text":if(!b.text)return;var j,k=b.encoding||"auto";c.push("l-text"),c.push((j=b.text,"plain"===k?"i-".concat(encodeURIComponent(j)):"base64"===k?"ie-".concat(encodeURIComponent(E(j))):G.test(j)?"i-".concat(encodeURIComponent(j)):"ie-".concat(encodeURIComponent(E(j)))));break;case"image":c.push("l-image");var l=b.encoding||"auto";if(!b.input)return;c.push(L(b.input,l));break;case"video":c.push("l-video");var m=b.encoding||"auto";if(!b.input)return;c.push(L(b.input,m));break;case"subtitle":c.push("l-subtitle");var n=b.encoding||"auto";if(!b.input)return;c.push(L(b.input,n));break;case"solidColor":if(c.push("l-image"),c.push("i-ik_canvas"),!b.color)return;c.push("bg-".concat(b.color))}var o=f.x,p=f.y,q=f.focus;o&&c.push("lx-".concat(o)),p&&c.push("ly-".concat(p)),q&&c.push("lfo-".concat(q));var r=h.start,s=h.end,t=h.duration;r&&c.push("lso-".concat(r)),s&&c.push("leo-".concat(s)),t&&c.push("ldu-".concat(t));var u=a(void 0===i?[]:i);return u&&""!==u.trim()&&c.push(u),c.push("l-end"),c.join(D())}}(i);k&&""!==k.trim()&&g.push(k);continue}var l=(j=h)&&(y[j]||y[j.toLowerCase()])||"";if(l||(l=h),""!==l)if(["e-grayscale","e-contrast","e-removedotbg","e-bgremove","e-upscale","e-retouch","e-genvar"].includes(l))if(!0!==i&&"-"!==i&&"true"!==i)continue;else g.push(l);else["e-sharpen","e-shadow","e-gradient","e-usm","e-dropshadow"].includes(l)&&(""===i.toString().trim()||!0===i||"true"===i)?g.push(l):"raw"===h?g.push(c[e][h]):("di"===l&&(i=(i=H(I(i||""))).replace(/\//g,"@@")),"sr"===l&&Array.isArray(i)&&(i=i.join("_")),"t"===l&&""===i.toString().trim()&&(i="true"),g.push([l,i].join("-")))}}g.length&&d.push(g.join(D()))}return d.join(C())}(a.transformation);if(g&&g.length&&!B(a)&&!e&&(d.pathname=J(["tr"+C()+g,d.pathname])),f?d.pathname=J([f,d.pathname]):d.pathname=J([d.pathname]),g&&g.length&&(B(a)||e))if(""!==d.searchParams.toString())return"".concat(d.href,"&").concat("tr","=").concat(g);else return"".concat(d.href,"?").concat("tr","=").concat(g);return d.href};function L(a,b){return(a=H(I(a)),"plain"===b)?"i-".concat(a.replace(/\//g,"@@")):"base64"===b?"ie-".concat(encodeURIComponent(E(a))):F.test(a)?"i-".concat(a.replace(/\//g,"@@")):"ie-".concat(encodeURIComponent(E(a)))}new(function(){var a;function d(a){var b;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");if(c(this,"options",{publicKey:"",urlEndpoint:"",transformationPosition:z}),this.options=e(e({},this.options),a||{}),!this.options.urlEndpoint)throw g;if(void 0===(b=this.options).transformationPosition||-1==A.indexOf(b.transformationPosition))throw h}return a=[{key:"url",value:function(a){return K(e(e({},this.options),a))}},{key:"upload",value:function(a,c,d){if("function"==typeof c?g=c:d=c||{},!a||"object"!==b(a))return t(!0,m,g);var f,g,h=e(e({},this.options),d),i=(a||{}).xhr;delete a.xhr;var j=i||new XMLHttpRequest;return(f=this,function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b.length!==x.length||void 0===b[b.length-1])return new Promise(function(a,c){b.pop(),b.push(function(b){if(b)return c(b);for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];a(e.length>1?e:e[0])}),x.call.apply(x,[f].concat(b))});if("function"!=typeof b[b.length-1])throw Error("Callback must be a function.");x.call.apply(x,[f].concat(b))})(j,a,h,g)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(d.prototype,a),d}())({publicKey:"public_UendSft2ebMyCy+kBX4jmul1xNA=",urlEndpoint:"https://ik.imagekit.io/myark"});let M=async(a,b)=>new Promise((c,d)=>{let e=new FileReader;e.readAsDataURL(a),e.onload=async()=>{try{let d=new FormData;d.append("file",a),d.append("fileName",b||a.name),d.append("publicKey","public_UendSft2ebMyCy+kBX4jmul1xNA=");let e=await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"POST",headers:{Authorization:"Basic "+btoa("private_RO2RIB5sE7+pkJm5NLxgxTh8P5M=:")},body:d});if(!e.ok)throw Error("Upload failed: "+await e.text());let f=await e.json();c(f)}catch(a){d(a)}},e.onerror=a=>d(a)});a.s(["uploadImage",0,M],18300)}];

//# sourceMappingURL=src_lib_imagekit_ts_f964184a._.js.map