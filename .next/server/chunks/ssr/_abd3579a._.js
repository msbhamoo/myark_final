module.exports=[70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},24569,a=>{"use strict";let b=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},63658,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput";var u=a.i(68114);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(p,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",a),...c,ref:d,children:(0,b.jsx)(r,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v.displayName=p.displayName,a.s(["Switch",()=>v],63658)},44494,a=>{"use strict";let b=(0,a.i(70106).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],44494)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)},41711,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(15618),g=a.i(87532),h=a.i(24569),i=a.i(81560),j=a.i(40784),k=a.i(44494),l=a.i(96221),m=a.i(52495),n=a.i(99570),o=a.i(66718),p=a.i(70430),q=a.i(29246),r=a.i(86304),s=a.i(91119),t=a.i(14574),u=a.i(63658),v=a.i(80701),w=a.i(54614),x=a.i(25101),y=a.i(20237);a.i(69387);var z=a.i(60574);a.s(["default",0,()=>{let{toast:a}=(0,w.useToast)(),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)({name:"",description:"",website:"",logo:"",category:"Education",isActive:!0}),O=async()=>{try{(0,z.query)((0,z.collection)(y.db,x.COLLECTIONS.settings),(0,z.orderBy)("name","asc"));let a=(0,z.collection)(y.db,"partners"),b=(await (0,z.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}));B(b)}catch(b){console.error("Error fetching partners:",b),a({title:"Error",description:"Failed to load partners",variant:"destructive"})}finally{D(!1)}};(0,c.useEffect)(()=>{O()},[]);let P=a=>{a?(L(a),N({name:a.name,description:a.description,website:a.website||"",logo:a.logo||"",category:a.category,isActive:a.isActive})):(L(null),N({name:"",description:"",website:"",logo:"",category:"Education",isActive:!0})),H(!0)},Q=async()=>{if(M.name.trim()){J(!0);try{let b=(0,z.collection)(y.db,"partners");K?(await (0,z.updateDoc)((0,z.doc)(y.db,"partners",K.id),{...M,updatedAt:z.Timestamp.now()}),a({title:"Success",description:"Partner updated successfully"})):(await (0,z.addDoc)(b,{...M,createdAt:z.Timestamp.now(),updatedAt:z.Timestamp.now()}),a({title:"Success",description:"Partner added successfully"})),H(!1),O()}catch(b){a({title:"Error",description:"Failed to save partner",variant:"destructive"})}finally{J(!1)}}},R=async b=>{if(confirm("Are you sure you want to delete this partner? This might affect existing rewards."))try{await (0,z.deleteDoc)((0,z.doc)(y.db,"partners",b)),a({title:"Success",description:"Partner deleted"}),O()}catch(b){a({title:"Error",description:"Failed to delete partner",variant:"destructive"})}},S=A.filter(a=>a.name.toLowerCase().includes(E.toLowerCase())||a.category.toLowerCase().includes(E.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Brand Partners"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Manage educational and lifestyle partners for XP redemption"})]}),(0,b.jsxs)(n.Button,{onClick:()=>P(),className:"gap-2 shadow-lg shadow-primary/20",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Add Partner"]})]}),(0,b.jsx)(s.Card,{className:"bg-card/50 backdrop-blur-sm border-border",children:(0,b.jsx)(s.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(o.Input,{placeholder:"Search partners by name or category...",className:"pl-9 bg-muted/50 border-transparent focus:border-primary",value:E,onChange:a=>F(a.target.value)})]})})}),C?(0,b.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,b.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:S.map(a=>(0,b.jsx)(d.motion.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:(0,b.jsxs)(s.Card,{className:"group overflow-hidden hover:border-primary/50 transition-all duration-300 bg-card/40",children:[(0,b.jsx)(s.CardHeader,{className:"pb-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center border border-primary/20",children:a.logo?(0,b.jsx)("img",{src:a.logo,alt:a.name,className:"w-8 h-8 object-contain"}):(0,b.jsx)(j.ShoppingBag,{className:"w-6 h-6 text-primary"})}),(0,b.jsx)(r.Badge,{variant:a.isActive?"default":"secondary",children:a.isActive?"Active":"Inactive"})]})}),(0,b.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase font-black tracking-widest",children:a.category})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 h-10",children:a.description}),a.website&&(0,b.jsxs)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-xs text-primary hover:underline",children:[(0,b.jsx)(k.Globe,{className:"w-3 h-3"}),new URL(a.website).hostname,(0,b.jsx)(m.ExternalLink,{className:"w-2 h-2"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"flex-1 text-xs gap-1.5 hover:bg-primary/10 hover:text-primary",onClick:()=>P(a),children:[(0,b.jsx)(h.Edit,{className:"w-3.5 h-3.5"}),"Edit"]}),(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"flex-1 text-xs gap-1.5 hover:bg-destructive/10 hover:text-destructive",onClick:()=>R(a.id),children:[(0,b.jsx)(i.Trash2,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})]})},a.id))})}),!C&&0===S.length&&(0,b.jsxs)("div",{className:"text-center py-20 bg-muted/20 rounded-3xl border-2 border-dashed border-border/50",children:[(0,b.jsx)(j.ShoppingBag,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-20"}),(0,b.jsx)("h3",{className:"text-lg font-bold",children:"No partners found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Start by adding your first brand partner"}),(0,b.jsx)(n.Button,{onClick:()=>P(),variant:"outline",className:"mt-6",children:"Add Partner"})]}),(0,b.jsx)(t.Dialog,{open:G,onOpenChange:H,children:(0,b.jsxs)(t.DialogContent,{children:[(0,b.jsx)(t.DialogHeader,{children:(0,b.jsx)(t.DialogTitle,{children:K?"Edit Partner":"Add New Partner"})}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"name",children:"Partner Name"}),(0,b.jsx)(o.Input,{id:"name",placeholder:"e.g., Apple, Starbucks, Coursera",value:M.name,onChange:a=>N({...M,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Category"}),(0,b.jsxs)(v.Select,{value:M.category,onValueChange:a=>N({...M,category:a}),children:[(0,b.jsx)(v.SelectTrigger,{children:(0,b.jsx)(v.SelectValue,{})}),(0,b.jsxs)(v.SelectContent,{children:[(0,b.jsx)(v.SelectItem,{value:"Education",children:"Education"}),(0,b.jsx)(v.SelectItem,{value:"Lifestyle",children:"Lifestyle"}),(0,b.jsx)(v.SelectItem,{value:"Tech",children:"Tech"}),(0,b.jsx)(v.SelectItem,{value:"Gaming",children:"Gaming"}),(0,b.jsx)(v.SelectItem,{value:"Food",children:"Food & Beverage"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 h-10",children:[(0,b.jsx)(u.Switch,{checked:M.isActive,onCheckedChange:a=>N({...M,isActive:a})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:M.isActive?"Active":"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"website",children:"Website (Optional)"}),(0,b.jsx)(o.Input,{id:"website",placeholder:"https://example.com",value:M.website,onChange:a=>N({...M,website:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"logo",children:"Logo URL (Optional)"}),(0,b.jsx)(o.Input,{id:"logo",placeholder:"https://example.com/logo.png",value:M.logo,onChange:a=>N({...M,logo:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(q.Textarea,{id:"description",placeholder:"Brief introduction of the partner",rows:3,value:M.description,onChange:a=>N({...M,description:a.target.value})})]})]})}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(n.Button,{variant:"outline",onClick:()=>H(!1),disabled:I,children:"Cancel"}),(0,b.jsxs)(n.Button,{onClick:Q,disabled:I||!M.name,children:[I&&(0,b.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),K?"Update Partner":"Add Partner"]})]})]})})]})}])}];

//# sourceMappingURL=_abd3579a._.js.map