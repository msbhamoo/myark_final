module.exports=[62422,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(15618),g=a.i(87532),h=a.i(24569),i=a.i(81560),j=a.i(53250),k=a.i(93518),l=a.i(83077),m=a.i(21374),n=a.i(1027),o=a.i(50429),p=a.i(3314),q=a.i(16106),r=a.i(76472),s=a.i(86520),t=a.i(96221),u=a.i(81464),v=a.i(99570),w=a.i(66718),x=a.i(70430),y=a.i(29246),z=a.i(86304),A=a.i(91119),B=a.i(14574),C=a.i(80701),D=a.i(54614),E=a.i(25101),F=a.i(68114);let G=[{value:"Medal",icon:j.Medal},{value:"Award",icon:k.Award},{value:"Trophy",icon:l.Trophy},{value:"Star",icon:m.Star},{value:"Zap",icon:n.Zap},{value:"Target",icon:o.Target},{value:"Shield",icon:p.Shield},{value:"Flame",icon:q.Flame},{value:"Heart",icon:r.Heart},{value:"Crown",icon:s.Crown}],H=[{label:"Cyan",value:"text-primary",bg:"bg-primary/20",border:"border-primary/30"},{label:"Coral",value:"text-secondary",bg:"bg-secondary/20",border:"border-secondary/30"},{label:"Yellow",value:"text-yellow-500",bg:"bg-yellow-500/20",border:"border-yellow-500/30"},{label:"Emerald",value:"text-emerald-500",bg:"bg-emerald-500/20",border:"border-emerald-500/30"},{label:"Rose",value:"text-rose-500",bg:"bg-rose-500/20",border:"border-rose-500/30"},{label:"Indigo",value:"text-indigo-500",bg:"bg-indigo-500/20",border:"border-indigo-500/30"},{label:"Amber",value:"text-amber-500",bg:"bg-amber-500/20",border:"border-amber-500/30"},{label:"Purple",value:"text-purple-500",bg:"bg-purple-500/20",border:"border-purple-500/30"}],I={achievement:"text-yellow-500",participation:"text-emerald-500",skill:"text-primary",special:"text-secondary"},J=a=>{let b=G.find(b=>b.value===a);return b?.icon||m.Star};a.s(["default",0,()=>{let{toast:a}=(0,D.useToast)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("all"),[s,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)({name:"",description:"",icon:"Medal",color:"text-primary",category:"achievement",level:"one-time",parentId:"",xpRequirement:0,xpReward:0,isVisible:!0}),R=async()=>{try{let a=await E.badgesService.getAll();l(a)}catch(b){console.error("Error fetching badges:",b),a({title:"Error",description:"Failed to load badges",variant:"destructive"})}finally{n(!1)}};(0,c.useEffect)(()=>{R()},[]);let S=a=>{a?(O(a),Q({name:a.name,description:a.description,icon:a.icon,color:a.color,category:a.category,level:a.level||"one-time",parentId:a.parentId||"",xpRequirement:a.xpRequirement||0,xpReward:a.xpReward||0,isVisible:a.isVisible??!0})):(O(null),Q({name:"",description:"",icon:"Medal",color:"text-primary",category:"achievement",level:"one-time",parentId:"",xpRequirement:0,xpReward:0,isVisible:!0})),K(!0)},T=async()=>{if(P.name.trim()){M(!0);try{N?(await E.badgesService.update(N.id,P),a({title:"Success",description:"Badge updated successfully"})):(await E.badgesService.create(P),a({title:"Success",description:"Badge created successfully"})),K(!1),R()}catch(b){a({title:"Error",description:"Failed to save badge",variant:"destructive"})}finally{M(!1)}}},U=async b=>{if(confirm("Are you sure you want to delete this badge?"))try{await E.badgesService.delete(b),a({title:"Success",description:"Badge deleted"}),R()}catch(b){a({title:"Error",description:"Failed to delete badge",variant:"destructive"})}},V=async()=>{if(confirm("Add 12 default high-quality badges?")){M(!0);try{for(let a of Z)await E.badgesService.create(a);a({title:"Success",description:"12 badges created successfully"}),R()}catch(b){a({title:"Error",description:"Failed to seed badges",variant:"destructive"})}finally{M(!1)}}},W=k.filter(a=>{let b=a.name.toLowerCase().includes(o.toLowerCase())||a.description.toLowerCase().includes(o.toLowerCase()),c="all"===q||a.category===q;return b&&c}),X=J(P.icon),Y=H.find(a=>a.value===P.color)||H[0],Z=[{name:"Code Ninja I",description:"Master of logic (Bronze Level)",icon:"Zap",color:"text-primary",category:"skill",xpRequirement:500,level:"bronze",isVisible:!0},{name:"Code Ninja II",description:"Grandmaster of algorithms (Silver Level)",icon:"Zap",color:"text-secondary",category:"skill",xpRequirement:1500,level:"silver",isVisible:!0},{name:"Code Ninja III",description:"Architect of Systems (Gold Level)",icon:"Zap",color:"text-yellow-500",category:"skill",xpRequirement:5e3,level:"gold",isVisible:!0},{name:"Early Bird",description:"Among the first 100 students to join MyArk",icon:"Crown",color:"text-amber-500",category:"achievement",xpRequirement:100,level:"one-time",isVisible:!0},{name:"Streak Master",description:"Maintained a 30-day activity streak",icon:"Flame",color:"text-rose-500",category:"achievement",xpRequirement:600,level:"one-time",isVisible:!0},{name:"Alpha Member",description:"Part of the exclusive Alpha test group",icon:"Medal",color:"text-secondary",category:"special",xpRequirement:0,level:"one-time",isVisible:!0},{name:"Creative Mind",description:"Designed innovative solutions",icon:"Star",color:"text-yellow-500",category:"skill",xpRequirement:300,level:"one-time",isVisible:!0}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Badge Management"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Create and manage digital rewards for students"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Button,{variant:"outline",onClick:V,disabled:L||m,children:"Seed Data"}),(0,b.jsxs)(v.Button,{onClick:()=>S(),className:"gap-2 shadow-lg shadow-primary/20",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Create Badge"]})]})]}),(0,b.jsx)(A.Card,{className:"bg-card/50 backdrop-blur-sm border-border",children:(0,b.jsxs)(A.CardContent,{className:"p-4 flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(w.Input,{placeholder:"Search badges by name or description...",className:"pl-9 bg-muted/50 border-transparent focus:border-primary",value:o,onChange:a=>p(a.target.value)})]}),(0,b.jsxs)(C.Select,{value:q,onValueChange:r,children:[(0,b.jsxs)(C.SelectTrigger,{className:"w-full md:w-48 bg-muted/50 border-transparent",children:[(0,b.jsx)(u.Filter,{className:"w-4 h-4 mr-2 opacity-50"}),(0,b.jsx)(C.SelectValue,{placeholder:"Category"})]}),(0,b.jsxs)(C.SelectContent,{children:[(0,b.jsx)(C.SelectItem,{value:"all",children:"All Categories"}),(0,b.jsx)(C.SelectItem,{value:"achievement",children:"Achievement"}),(0,b.jsx)(C.SelectItem,{value:"participation",children:"Participation"}),(0,b.jsx)(C.SelectItem,{value:"skill",children:"Skill"}),(0,b.jsx)(C.SelectItem,{value:"special",children:"Special"})]})]})]})}),m?(0,b.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,b.jsx)(t.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:W.map(a=>{let c=J(a.icon),e=H.find(b=>b.value===a.color)||H[0];return(0,b.jsx)(d.motion.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:(0,b.jsx)(A.Card,{className:"group overflow-hidden hover:border-primary/50 transition-all duration-300 interactive-card border-white/5 bg-card/40",children:(0,b.jsx)(A.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,b.jsx)("div",{className:(0,F.cn)("w-20 h-20 rounded-2xl flex items-center justify-center transition-transform group-hover:scale-110",e.bg,e.border,"border-2 shadow-lg"),children:(0,b.jsx)(c,{className:(0,F.cn)("w-10 h-10",e.value)})}),(0,b.jsxs)("div",{className:"space-y-1.5 w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(z.Badge,{variant:"outline",className:(0,F.cn)("text-[10px] uppercase font-black py-0 px-2",I[a.category]),children:a.category}),(0,b.jsx)(z.Badge,{variant:"secondary",className:"text-[10px] uppercase font-black py-0 px-2 bg-background border-border",children:a.level})]}),(0,b.jsx)("h4",{className:"font-bold text-lg group-hover:text-primary transition-colors line-clamp-1",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2 h-8",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full pt-2",children:[(0,b.jsxs)(v.Button,{variant:"ghost",size:"sm",className:"flex-1 text-xs gap-1.5 hover:bg-primary/10 hover:text-primary",onClick:()=>S(a),children:[(0,b.jsx)(h.Edit,{className:"w-3.5 h-3.5"}),"Edit"]}),(0,b.jsxs)(v.Button,{variant:"ghost",size:"sm",className:"flex-1 text-xs gap-1.5 hover:bg-destructive/10 hover:text-destructive",onClick:()=>U(a.id),children:[(0,b.jsx)(i.Trash2,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})})})},a.id)})})}),!m&&0===W.length&&(0,b.jsxs)("div",{className:"text-center py-20 bg-muted/20 rounded-3xl border-2 border-dashed border-border/50",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-muted/50 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(j.Medal,{className:"w-8 h-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-bold",children:"No badges found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Start by creating your first digital badge"}),(0,b.jsx)(v.Button,{onClick:()=>S(),variant:"outline",className:"mt-6",children:"Create Badge"})]}),(0,b.jsx)(B.Dialog,{open:s,onOpenChange:K,children:(0,b.jsxs)(B.DialogContent,{className:"sm:max-w-[425px]",children:[(0,b.jsx)(B.DialogHeader,{children:(0,b.jsx)(B.DialogTitle,{children:N?"Edit Badge":"Create New Badge"})}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsx)("div",{className:(0,F.cn)("w-24 h-24 rounded-2xl flex items-center justify-center border-2 shadow-xl",Y.bg,Y.border),children:(0,b.jsx)(X,{className:(0,F.cn)("w-12 h-12",Y.value)})})}),(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"name",children:"Badge Name"}),(0,b.jsx)(w.Input,{id:"name",placeholder:"e.g., Code Ninja",value:P.name,onChange:a=>Q({...P,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(y.Textarea,{id:"description",placeholder:"What is this badge for?",className:"resize-none",value:P.description,onChange:a=>Q({...P,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{children:"XP Req / Reward"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(w.Input,{type:"number",placeholder:"Req",className:"bg-muted/50 border-transparent",value:P.xpRequirement,onChange:a=>Q({...P,xpRequirement:Number(a.target.value)})}),(0,b.jsx)(w.Input,{type:"number",placeholder:"Reward",className:"bg-muted/50 border-transparent",value:P.xpReward,onChange:a=>Q({...P,xpReward:Number(a.target.value)})})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{children:"Badge Level"}),(0,b.jsxs)(C.Select,{value:P.level,onValueChange:a=>Q({...P,level:a}),children:[(0,b.jsx)(C.SelectTrigger,{className:"bg-muted/50 border-transparent",children:(0,b.jsx)(C.SelectValue,{})}),(0,b.jsxs)(C.SelectContent,{children:[(0,b.jsx)(C.SelectItem,{value:"one-time",children:"One-Time"}),(0,b.jsx)(C.SelectItem,{value:"bronze",children:"Bronze"}),(0,b.jsx)(C.SelectItem,{value:"silver",children:"Silver"}),(0,b.jsx)(C.SelectItem,{value:"gold",children:"Gold"}),(0,b.jsx)(C.SelectItem,{value:"legendary",children:"Legendary"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{children:"Parent Badge (Tree)"}),(0,b.jsxs)(C.Select,{value:P.parentId,onValueChange:a=>Q({...P,parentId:a}),children:[(0,b.jsx)(C.SelectTrigger,{className:"bg-muted/50 border-transparent text-xs",children:(0,b.jsx)(C.SelectValue,{placeholder:"No Parent"})}),(0,b.jsxs)(C.SelectContent,{children:[(0,b.jsx)(C.SelectItem,{value:"none",children:"None"}),k.filter(a=>a.id!==N?.id).map(a=>(0,b.jsx)(C.SelectItem,{value:a.id,children:a.name},a.id))]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{children:"Select Icon"}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:G.map(a=>{let c=a.icon,d=P.icon===a.value;return(0,b.jsx)("button",{type:"button",onClick:()=>Q({...P,icon:a.value}),className:(0,F.cn)("h-10 flex items-center justify-center rounded-lg border transition-all",d?"bg-primary text-primary-foreground border-primary":"bg-muted/50 border-transparent hover:bg-muted"),children:(0,b.jsx)(c,{className:"w-5 h-5"})},a.value)})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{children:"Badge Color"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:H.map(a=>{let c=P.color===a.value;return(0,b.jsxs)("button",{type:"button",onClick:()=>Q({...P,color:a.value}),className:(0,F.cn)("h-8 flex items-center justify-center rounded-lg border transition-all gap-1.5 text-[10px] font-bold",c?"bg-primary text-primary-foreground border-primary":"bg-muted/50 border-transparent hover:bg-muted"),children:[(0,b.jsx)("div",{className:(0,F.cn)("w-2 h-2 rounded-full",a.bg.replace("/20",""))}),a.label]},a.value)})})]})]}),(0,b.jsxs)(B.DialogFooter,{children:[(0,b.jsx)(v.Button,{variant:"outline",onClick:()=>K(!1),disabled:L,children:"Cancel"}),(0,b.jsxs)(v.Button,{onClick:T,disabled:L||!P.name,children:[L&&(0,b.jsx)(t.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),N?"Update Badge":"Create Badge"]})]})]})})]})}])}];

//# sourceMappingURL=src_components_modules_admin_Badges_tsx_7cb286ee._.js.map