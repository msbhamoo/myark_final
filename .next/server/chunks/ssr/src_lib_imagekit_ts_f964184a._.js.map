{"version":3,"sources":["../../../../node_modules/imagekit-javascript/dist/imagekit.esm.js","../../../../src/lib/imagekit.ts"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar errorMessages = {\n  MANDATORY_INITIALIZATION_MISSING: {\n    message: \"Missing urlEndpoint during SDK initialization\",\n    help: \"\"\n  },\n  INVALID_TRANSFORMATION_POSITION: {\n    message: \"Invalid transformationPosition parameter\",\n    help: \"\"\n  },\n  PRIVATE_KEY_CLIENT_SIDE: {\n    message: \"privateKey should not be passed on the client side\",\n    help: \"\"\n  },\n  MISSING_UPLOAD_DATA: {\n    message: \"Missing data for upload\",\n    help: \"\"\n  },\n  MISSING_UPLOAD_FILE_PARAMETER: {\n    message: \"Missing file parameter for upload\",\n    help: \"\"\n  },\n  MISSING_UPLOAD_FILENAME_PARAMETER: {\n    message: \"Missing fileName parameter for upload\",\n    help: \"\"\n  },\n  MISSING_AUTHENTICATION_ENDPOINT: {\n    message: \"Missing authentication endpoint for upload\",\n    help: \"\"\n  },\n  MISSING_PUBLIC_KEY: {\n    message: \"Missing public key for upload\",\n    help: \"\"\n  },\n  AUTH_ENDPOINT_TIMEOUT: {\n    message: \"The authenticationEndpoint you provided timed out in 60 seconds\",\n    help: \"\"\n  },\n  AUTH_ENDPOINT_NETWORK_ERROR: {\n    message: \"Request to authenticationEndpoint failed due to network error\",\n    help: \"\"\n  },\n  AUTH_INVALID_RESPONSE: {\n    message: \"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.\",\n    help: \"\"\n  },\n  UPLOAD_ENDPOINT_NETWORK_ERROR: {\n    message: \"Request to ImageKit upload endpoint failed due to network error\",\n    help: \"\"\n  },\n  INVALID_UPLOAD_OPTIONS: {\n    message: \"Invalid uploadOptions parameter\",\n    help: \"\"\n  },\n  MISSING_SIGNATURE: {\n    message: \"Missing signature for upload. The SDK expects token, signature and expire for authentication.\",\n    help: \"\"\n  },\n  MISSING_TOKEN: {\n    message: \"Missing token for upload. The SDK expects token, signature and expire for authentication.\",\n    help: \"\"\n  },\n  MISSING_EXPIRE: {\n    message: \"Missing expire for upload. The SDK expects token, signature and expire for authentication.\",\n    help: \"\"\n  },\n  INVALID_TRANSFORMATION: {\n    message: \"Invalid transformation parameter. Please include at least pre, post, or both.\",\n    help: \"\"\n  },\n  INVALID_PRE_TRANSFORMATION: {\n    message: \"Invalid pre transformation parameter.\",\n    help: \"\"\n  },\n  INVALID_POST_TRANSFORMATION: {\n    message: \"Invalid post transformation parameter.\",\n    help: \"\"\n  }\n};\n\nfunction respond (isError, response, callback) {\n  if (typeof callback == \"function\") {\n    if (isError) {\n      callback(response, null);\n    } else {\n      callback(null, response);\n    }\n  }\n}\n\nfunction getResponseHeaderMap(xhr) {\n  var headers = {};\n  var responseHeaders = xhr.getAllResponseHeaders();\n  if (Object.keys(responseHeaders).length) {\n    responseHeaders.trim().split(/[\\r\\n]+/).map(function (value) {\n      return value.split(/: /);\n    }).forEach(function (keyValue) {\n      headers[keyValue[0].trim()] = keyValue[1].trim();\n    });\n  }\n  return headers;\n}\nvar addResponseHeadersAndBody = function addResponseHeadersAndBody(body, xhr) {\n  var response = _objectSpread2({}, body);\n  var responseMetadata = {\n    statusCode: xhr.status,\n    headers: getResponseHeaderMap(xhr)\n  };\n  Object.defineProperty(response, \"$ResponseMetadata\", {\n    value: responseMetadata,\n    enumerable: false,\n    writable: false\n  });\n  return response;\n};\nvar request = function request(uploadFileXHR, formData, callback) {\n  uploadFile(uploadFileXHR, formData).then(function (result) {\n    return respond(false, result, callback);\n  }, function (ex) {\n    return respond(true, ex, callback);\n  });\n};\nvar uploadFile = function uploadFile(uploadFileXHR, formData) {\n  return new Promise(function (resolve, reject) {\n    uploadFileXHR.open('POST', 'https://upload.imagekit.io/api/v1/files/upload');\n    uploadFileXHR.onerror = function (e) {\n      return reject(errorMessages.UPLOAD_ENDPOINT_NETWORK_ERROR);\n    };\n    uploadFileXHR.onload = function () {\n      if (uploadFileXHR.status === 200) {\n        try {\n          var body = JSON.parse(uploadFileXHR.responseText);\n          var uploadResponse = addResponseHeadersAndBody(body, uploadFileXHR);\n          return resolve(uploadResponse);\n        } catch (ex) {\n          return reject(ex);\n        }\n      } else {\n        try {\n          var body = JSON.parse(uploadFileXHR.responseText);\n          var uploadError = addResponseHeadersAndBody(body, uploadFileXHR);\n          return reject(uploadError);\n        } catch (ex) {\n          return reject(ex);\n        }\n      }\n    };\n    uploadFileXHR.send(formData);\n  });\n};\n\nvar upload = function upload(xhr, uploadOptions, options, callback) {\n  if (!uploadOptions.file) {\n    respond(true, errorMessages.MISSING_UPLOAD_FILE_PARAMETER, callback);\n    return;\n  }\n  if (!uploadOptions.fileName) {\n    respond(true, errorMessages.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n    return;\n  }\n  if (!options.publicKey) {\n    respond(true, errorMessages.MISSING_PUBLIC_KEY, callback);\n    return;\n  }\n  if (!uploadOptions.token) {\n    respond(true, errorMessages.MISSING_TOKEN, callback);\n    return;\n  }\n  if (!uploadOptions.signature) {\n    respond(true, errorMessages.MISSING_SIGNATURE, callback);\n    return;\n  }\n  if (!uploadOptions.expire) {\n    respond(true, errorMessages.MISSING_EXPIRE, callback);\n    return;\n  }\n  if (uploadOptions.transformation) {\n    if (!(Object.keys(uploadOptions.transformation).includes(\"pre\") || Object.keys(uploadOptions.transformation).includes(\"post\"))) {\n      respond(true, errorMessages.INVALID_TRANSFORMATION, callback);\n      return;\n    }\n    if (Object.keys(uploadOptions.transformation).includes(\"pre\") && !uploadOptions.transformation.pre) {\n      respond(true, errorMessages.INVALID_PRE_TRANSFORMATION, callback);\n      return;\n    }\n    if (Object.keys(uploadOptions.transformation).includes(\"post\")) {\n      if (Array.isArray(uploadOptions.transformation.post)) {\n        var _iterator = _createForOfIteratorHelper(uploadOptions.transformation.post),\n            _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var transformation = _step.value;\n            if (transformation.type === \"abs\" && !(transformation.protocol || transformation.value)) {\n              respond(true, errorMessages.INVALID_POST_TRANSFORMATION, callback);\n              return;\n            } else if (transformation.type === \"transformation\" && !transformation.value) {\n              respond(true, errorMessages.INVALID_POST_TRANSFORMATION, callback);\n              return;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        respond(true, errorMessages.INVALID_POST_TRANSFORMATION, callback);\n        return;\n      }\n    }\n  }\n  var formData = new FormData();\n  var key;\n  for (key in uploadOptions) {\n    if (key) {\n      if (key === \"file\" && typeof uploadOptions.file != \"string\") {\n        formData.append('file', uploadOptions.file, String(uploadOptions.fileName));\n      } else if (key === \"tags\" && Array.isArray(uploadOptions.tags)) {\n        formData.append('tags', uploadOptions.tags.join(\",\"));\n      } else if (key === 'signature') {\n        formData.append(\"signature\", uploadOptions.signature);\n      } else if (key === 'expire') {\n        formData.append(\"expire\", String(uploadOptions.expire));\n      } else if (key === 'token') {\n        formData.append(\"token\", uploadOptions.token);\n      } else if (key === \"responseFields\" && Array.isArray(uploadOptions.responseFields)) {\n        formData.append('responseFields', uploadOptions.responseFields.join(\",\"));\n      } else if (key === \"extensions\" && Array.isArray(uploadOptions.extensions)) {\n        formData.append('extensions', JSON.stringify(uploadOptions.extensions));\n      } else if (key === \"customMetadata\" && _typeof(uploadOptions.customMetadata) === \"object\" && !Array.isArray(uploadOptions.customMetadata) && uploadOptions.customMetadata !== null) {\n        formData.append('customMetadata', JSON.stringify(uploadOptions.customMetadata));\n      } else if (key === \"transformation\" && _typeof(uploadOptions.transformation) === \"object\" && uploadOptions.transformation !== null) {\n        formData.append(key, JSON.stringify(uploadOptions.transformation));\n      } else if (key === 'checks' && uploadOptions.checks) {\n        formData.append(\"checks\", uploadOptions.checks);\n      } else if (uploadOptions[key] !== undefined) {\n        formData.append(key, String(uploadOptions[key]));\n      }\n    }\n  }\n  formData.append(\"publicKey\", options.publicKey);\n  request(xhr, formData, callback);\n};\n\nvar supportedTransforms = {\n  width: \"w\",\n  height: \"h\",\n  aspectRatio: \"ar\",\n  background: \"bg\",\n  border: \"b\",\n  crop: \"c\",\n  cropMode: \"cm\",\n  dpr: \"dpr\",\n  focus: \"fo\",\n  quality: \"q\",\n  x: \"x\",\n  xCenter: \"xc\",\n  y: \"y\",\n  yCenter: \"yc\",\n  format: \"f\",\n  videoCodec: \"vc\",\n  audioCodec: \"ac\",\n  radius: \"r\",\n  rotation: \"rt\",\n  blur: \"bl\",\n  named: \"n\",\n  defaultImage: \"di\",\n  flip: \"fl\",\n  original: \"orig\",\n  startOffset: \"so\",\n  endOffset: \"eo\",\n  duration: \"du\",\n  streamingResolutions: \"sr\",\n  grayscale: \"e-grayscale\",\n  aiUpscale: \"e-upscale\",\n  aiRetouch: \"e-retouch\",\n  aiVariation: \"e-genvar\",\n  aiDropShadow: \"e-dropshadow\",\n  aiChangeBackground: \"e-changebg\",\n  aiRemoveBackground: \"e-bgremove\",\n  aiRemoveBackgroundExternal: \"e-removedotbg\",\n  contrastStretch: \"e-contrast\",\n  shadow: \"e-shadow\",\n  sharpen: \"e-sharpen\",\n  unsharpMask: \"e-usm\",\n  gradient: \"e-gradient\",\n  progressive: \"pr\",\n  lossless: \"lo\",\n  colorProfile: \"cp\",\n  metadata: \"md\",\n  opacity: \"o\",\n  trim: \"t\",\n  zoom: \"z\",\n  page: \"pg\",\n  fontSize: \"fs\",\n  fontFamily: \"ff\",\n  fontColor: \"co\",\n  innerAlignment: \"ia\",\n  padding: \"pa\",\n  alpha: \"al\",\n  typography: \"tg\",\n  lineHeight: \"lh\",\n  fontOutline: \"fol\",\n  fontShadow: \"fsh\",\n  raw: \"raw\"\n};\n\nvar QUERY_TRANSFORMATION_POSITION = \"query\";\nvar PATH_TRANSFORMATION_POSITION = \"path\";\nvar DEFAULT_TRANSFORMATION_POSITION = QUERY_TRANSFORMATION_POSITION;\nvar VALID_TRANSFORMATION_POSITIONS = [PATH_TRANSFORMATION_POSITION, QUERY_TRANSFORMATION_POSITION];\nvar CHAIN_TRANSFORM_DELIMITER = \":\";\nvar TRANSFORM_DELIMITER = \",\";\nvar TRANSFORM_KEY_VALUE_DELIMITER = \"-\";\nvar transformationUtils = {\n  getDefault: function getDefault() {\n    return DEFAULT_TRANSFORMATION_POSITION;\n  },\n  addAsQueryParameter: function addAsQueryParameter(options) {\n    return options.transformationPosition === QUERY_TRANSFORMATION_POSITION;\n  },\n  validParameters: function validParameters(options) {\n    if (typeof options.transformationPosition == \"undefined\") return false;\n    return VALID_TRANSFORMATION_POSITIONS.indexOf(options.transformationPosition) != -1;\n  },\n  getTransformKey: function getTransformKey(transform) {\n    if (!transform) {\n      return \"\";\n    }\n    return supportedTransforms[transform] || supportedTransforms[transform.toLowerCase()] || \"\";\n  },\n  getChainTransformDelimiter: function getChainTransformDelimiter() {\n    return CHAIN_TRANSFORM_DELIMITER;\n  },\n  getTransformDelimiter: function getTransformDelimiter() {\n    return TRANSFORM_DELIMITER;\n  },\n  getTransformKeyValueDelimiter: function getTransformKeyValueDelimiter() {\n    return TRANSFORM_KEY_VALUE_DELIMITER;\n  }\n};\nvar safeBtoa = function safeBtoa(str) {\n  if (typeof window !== \"undefined\") {\n    return btoa(str);\n  } else {\n    return Buffer.from(str, \"utf8\").toString(\"base64\");\n  }\n};\n\nvar TRANSFORMATION_PARAMETER = \"tr\";\nvar SIMPLE_OVERLAY_PATH_REGEX = new RegExp('^[a-zA-Z0-9-._/ ]*$');\nvar SIMPLE_OVERLAY_TEXT_REGEX = new RegExp('^[a-zA-Z0-9-._ ]*$');\nfunction removeTrailingSlash(str) {\n  if (typeof str == \"string\" && str[str.length - 1] == \"/\") {\n    str = str.substring(0, str.length - 1);\n  }\n  return str;\n}\nfunction removeLeadingSlash(str) {\n  if (typeof str == \"string\" && str[0] == \"/\") {\n    str = str.slice(1);\n  }\n  return str;\n}\nfunction pathJoin(parts, sep) {\n  var separator = sep || \"/\";\n  var replace = new RegExp(separator + \"{1,}\", \"g\");\n  return parts.join(separator).replace(replace, separator);\n}\nvar buildURL = function buildURL(opts) {\n  if (!opts.path && !opts.src) {\n    return \"\";\n  }\n  var urlObj, isSrcParameterUsedForURL, urlEndpointPattern;\n  try {\n    if (opts.path) {\n      urlEndpointPattern = new URL(opts.urlEndpoint).pathname;\n      urlObj = new URL(pathJoin([opts.urlEndpoint.replace(urlEndpointPattern, \"\"), opts.path]));\n    } else {\n      urlObj = new URL(opts.src);\n      isSrcParameterUsedForURL = true;\n    }\n  } catch (e) {\n    console.error(e);\n    return \"\";\n  }\n  for (var i in opts.queryParameters) {\n    urlObj.searchParams.append(i, String(opts.queryParameters[i]));\n  }\n  var transformationString = constructTransformationString(opts.transformation);\n  if (transformationString && transformationString.length) {\n    if (!transformationUtils.addAsQueryParameter(opts) && !isSrcParameterUsedForURL) {\n      urlObj.pathname = pathJoin([TRANSFORMATION_PARAMETER + transformationUtils.getChainTransformDelimiter() + transformationString, urlObj.pathname]);\n    }\n  }\n  if (urlEndpointPattern) {\n    urlObj.pathname = pathJoin([urlEndpointPattern, urlObj.pathname]);\n  } else {\n    urlObj.pathname = pathJoin([urlObj.pathname]);\n  }\n  if (transformationString && transformationString.length) {\n    if (transformationUtils.addAsQueryParameter(opts) || isSrcParameterUsedForURL) {\n      if (urlObj.searchParams.toString() !== \"\") {\n        return \"\".concat(urlObj.href, \"&\").concat(TRANSFORMATION_PARAMETER, \"=\").concat(transformationString);\n      } else {\n        return \"\".concat(urlObj.href, \"?\").concat(TRANSFORMATION_PARAMETER, \"=\").concat(transformationString);\n      }\n    }\n  }\n  return urlObj.href;\n};\nfunction processInputPath(str, enccoding) {\n  str = removeTrailingSlash(removeLeadingSlash(str));\n  if (enccoding === \"plain\") {\n    return \"i-\".concat(str.replace(/\\//g, \"@@\"));\n  }\n  if (enccoding === \"base64\") {\n    return \"ie-\".concat(encodeURIComponent(safeBtoa(str)));\n  }\n  if (SIMPLE_OVERLAY_PATH_REGEX.test(str)) {\n    return \"i-\".concat(str.replace(/\\//g, \"@@\"));\n  } else {\n    return \"ie-\".concat(encodeURIComponent(safeBtoa(str)));\n  }\n}\nfunction processText(str, enccoding) {\n  if (enccoding === \"plain\") {\n    return \"i-\".concat(encodeURIComponent(str));\n  }\n  if (enccoding === \"base64\") {\n    return \"ie-\".concat(encodeURIComponent(safeBtoa(str)));\n  }\n  if (SIMPLE_OVERLAY_TEXT_REGEX.test(str)) {\n    return \"i-\".concat(encodeURIComponent(str));\n  }\n  return \"ie-\".concat(encodeURIComponent(safeBtoa(str)));\n}\nfunction processOverlay(overlay) {\n  var entries = [];\n  if (!overlay) {\n    return;\n  }\n  var type = overlay.type,\n      _overlay$position = overlay.position,\n      position = _overlay$position === void 0 ? {} : _overlay$position,\n      _overlay$timing = overlay.timing,\n      timing = _overlay$timing === void 0 ? {} : _overlay$timing,\n      _overlay$transformati = overlay.transformation,\n      transformation = _overlay$transformati === void 0 ? [] : _overlay$transformati;\n  if (!type) {\n    throw new Error(\"Overlay type is required\");\n  }\n  switch (type) {\n    case \"text\":\n      {\n        var textOverlay = overlay;\n        if (!textOverlay.text) {\n          return;\n        }\n        var enccoding = textOverlay.encoding || \"auto\";\n        entries.push(\"l-text\");\n        entries.push(processText(textOverlay.text, enccoding));\n      }\n      break;\n    case \"image\":\n      entries.push(\"l-image\");\n      {\n        var imageOverlay = overlay;\n        var _enccoding = imageOverlay.encoding || \"auto\";\n        if (imageOverlay.input) {\n          entries.push(processInputPath(imageOverlay.input, _enccoding));\n        } else {\n          return;\n        }\n      }\n      break;\n    case \"video\":\n      entries.push(\"l-video\");\n      {\n        var videoOverlay = overlay;\n        var _enccoding2 = videoOverlay.encoding || \"auto\";\n        if (videoOverlay.input) {\n          entries.push(processInputPath(videoOverlay.input, _enccoding2));\n        } else {\n          return;\n        }\n      }\n      break;\n    case \"subtitle\":\n      entries.push(\"l-subtitle\");\n      {\n        var subtitleOverlay = overlay;\n        var _enccoding3 = subtitleOverlay.encoding || \"auto\";\n        if (subtitleOverlay.input) {\n          entries.push(processInputPath(subtitleOverlay.input, _enccoding3));\n        } else {\n          return;\n        }\n      }\n      break;\n    case \"solidColor\":\n      entries.push(\"l-image\");\n      entries.push(\"i-ik_canvas\");\n      {\n        var solidColorOverlay = overlay;\n        if (solidColorOverlay.color) {\n          entries.push(\"bg-\".concat(solidColorOverlay.color));\n        } else {\n          return;\n        }\n      }\n      break;\n  }\n  var x = position.x,\n      y = position.y,\n      focus = position.focus;\n  if (x) {\n    entries.push(\"lx-\".concat(x));\n  }\n  if (y) {\n    entries.push(\"ly-\".concat(y));\n  }\n  if (focus) {\n    entries.push(\"lfo-\".concat(focus));\n  }\n  var start = timing.start,\n      end = timing.end,\n      duration = timing.duration;\n  if (start) {\n    entries.push(\"lso-\".concat(start));\n  }\n  if (end) {\n    entries.push(\"leo-\".concat(end));\n  }\n  if (duration) {\n    entries.push(\"ldu-\".concat(duration));\n  }\n  var transformationString = constructTransformationString(transformation);\n  if (transformationString && transformationString.trim() !== \"\") entries.push(transformationString);\n  entries.push(\"l-end\");\n  return entries.join(transformationUtils.getTransformDelimiter());\n}\nfunction constructTransformationString(transformation) {\n  if (!Array.isArray(transformation)) {\n    return \"\";\n  }\n  var parsedTransforms = [];\n  for (var i = 0, l = transformation.length; i < l; i++) {\n    var parsedTransformStep = [];\n    for (var key in transformation[i]) {\n      var value = transformation[i][key];\n      if (value === undefined || value === null) {\n        continue;\n      }\n      if (key === \"overlay\" && _typeof(value) === \"object\") {\n        var rawString = processOverlay(value);\n        if (rawString && rawString.trim() !== \"\") {\n          parsedTransformStep.push(rawString);\n        }\n        continue;\n      }\n      var transformKey = transformationUtils.getTransformKey(key);\n      if (!transformKey) {\n        transformKey = key;\n      }\n      if (transformKey === \"\") {\n        continue;\n      }\n      if ([\"e-grayscale\", \"e-contrast\", \"e-removedotbg\", \"e-bgremove\", \"e-upscale\", \"e-retouch\", \"e-genvar\"].includes(transformKey)) {\n        if (value === true || value === \"-\" || value === \"true\") {\n          parsedTransformStep.push(transformKey);\n        } else {\n          continue;\n        }\n      } else if ([\"e-sharpen\", \"e-shadow\", \"e-gradient\", \"e-usm\", \"e-dropshadow\"].includes(transformKey) && (value.toString().trim() === \"\" || value === true || value === \"true\")) {\n        parsedTransformStep.push(transformKey);\n      } else if (key === \"raw\") {\n        parsedTransformStep.push(transformation[i][key]);\n      } else {\n        if (transformKey === \"di\") {\n          value = removeTrailingSlash(removeLeadingSlash(value || \"\"));\n          value = value.replace(/\\//g, \"@@\");\n        }\n        if (transformKey === \"sr\" && Array.isArray(value)) {\n          value = value.join(\"_\");\n        }\n        if (transformKey === \"t\" && value.toString().trim() === \"\") {\n          value = \"true\";\n        }\n        parsedTransformStep.push([transformKey, value].join(transformationUtils.getTransformKeyValueDelimiter()));\n      }\n    }\n    if (parsedTransformStep.length) {\n      parsedTransforms.push(parsedTransformStep.join(transformationUtils.getTransformDelimiter()));\n    }\n  }\n  return parsedTransforms.join(transformationUtils.getChainTransformDelimiter());\n}\n\nvar url = function url(urlOpts, defaultOptions) {\n  return buildURL(_objectSpread2(_objectSpread2({}, defaultOptions), urlOpts));\n};\n\nfunction mandatoryParametersAvailable(options) {\n  return options.urlEndpoint;\n}\nvar promisify = function promisify(thisContext, fn) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === fn.length && typeof args[args.length - 1] !== \"undefined\") {\n      if (typeof args[args.length - 1] !== \"function\") {\n        throw new Error(\"Callback must be a function.\");\n      }\n      fn.call.apply(fn, [thisContext].concat(args));\n    } else {\n      return new Promise(function (resolve, reject) {\n        var callback = function callback(err) {\n          if (err) {\n            return reject(err);\n          } else {\n            for (var _len2 = arguments.length, results = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              results[_key2 - 1] = arguments[_key2];\n            }\n            resolve(results.length > 1 ? results : results[0]);\n          }\n        };\n        args.pop();\n        args.push(callback);\n        fn.call.apply(fn, [thisContext].concat(args));\n      });\n    }\n  };\n};\nvar ImageKit = function () {\n  function ImageKit(opts) {\n    _classCallCheck(this, ImageKit);\n    _defineProperty(this, \"options\", {\n      publicKey: \"\",\n      urlEndpoint: \"\",\n      transformationPosition: transformationUtils.getDefault()\n    });\n    this.options = _objectSpread2(_objectSpread2({}, this.options), opts || {});\n    if (!mandatoryParametersAvailable(this.options)) {\n      throw errorMessages.MANDATORY_INITIALIZATION_MISSING;\n    }\n    if (!transformationUtils.validParameters(this.options)) {\n      throw errorMessages.INVALID_TRANSFORMATION_POSITION;\n    }\n  }\n  _createClass(ImageKit, [{\n    key: \"url\",\n    value: function url$1(urlOptions) {\n      return url(urlOptions, this.options);\n    }\n  }, {\n    key: \"upload\",\n    value: function upload$1(uploadOptions, callbackOrOptions, options) {\n      var callback;\n      if (typeof callbackOrOptions === 'function') {\n        callback = callbackOrOptions;\n      } else {\n        options = callbackOrOptions || {};\n      }\n      if (!uploadOptions || _typeof(uploadOptions) !== \"object\") {\n        return respond(true, errorMessages.INVALID_UPLOAD_OPTIONS, callback);\n      }\n      var mergedOptions = _objectSpread2(_objectSpread2({}, this.options), options);\n      var _ref = uploadOptions || {},\n          userProvidedXHR = _ref.xhr;\n      delete uploadOptions.xhr;\n      var xhr = userProvidedXHR || new XMLHttpRequest();\n      return promisify(this, upload)(xhr, uploadOptions, mergedOptions, callback);\n    }\n  }]);\n  return ImageKit;\n}();\n\nexport default ImageKit;\n","import ImageKit from \"imagekit-javascript\";\r\n\r\nexport const imagekit = new ImageKit({\r\n    publicKey: \"public_UendSft2ebMyCy+kBX4jmul1xNA=\",\r\n    urlEndpoint: \"https://ik.imagekit.io/myark\",\r\n    // Note: authenticationEndpoint is required for secure uploads from frontend.\r\n    // For this demo, we can use the private key directly if really needed, \r\n    // but it's better to use an auth endpoint. \r\n    // However, given the user's request to \"use\" these keys, I'll provide a helper.\r\n});\r\n\r\nexport const IK_CONFIG = {\r\n    publicKey: \"public_UendSft2ebMyCy+kBX4jmul1xNA=\",\r\n    urlEndpoint: \"https://ik.imagekit.io/myark\",\r\n    privateKey: \"private_RO2RIB5sE7+pkJm5NLxgxTh8P5M=\", // STRONGLY ADVISED TO MOVE TO BACKEND\r\n};\r\n\r\n/**\r\n * Helper to upload a file to ImageKit\r\n * @param file The file to upload\r\n * @param fileName Optional filename\r\n * @returns Promise with the upload result\r\n */\r\nexport const uploadImage = async (file: File, fileName?: string) => {\r\n    return new Promise((resolve, reject) => {\r\n        // Usually we need a signature from a backend, but we'll try direct upload\r\n        // since the user provided the private key (caution!!)\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = async () => {\r\n            try {\r\n                // Direct upload using fetch and ImageKit API if sdk-js doesn't support private key client-side (it shouldn't)\r\n                // Actually, ImageKit JS SDK usually requires authenticationEndpoint.\r\n                // We can simulate an authenticationEndpoint or just use direct API.\r\n\r\n                const formData = new FormData();\r\n                formData.append(\"file\", file);\r\n                formData.append(\"fileName\", fileName || file.name);\r\n                formData.append(\"publicKey\", IK_CONFIG.publicKey);\r\n\r\n                // This is highly insecure but requested:\r\n                // Normally you'd sign this on a server.\r\n                // We'll use a direct fetch to ImageKit's upload API.\r\n\r\n                const response = await fetch(\"https://upload.imagekit.io/api/v1/files/upload\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Authorization\": \"Basic \" + btoa(IK_CONFIG.privateKey + \":\"),\r\n                    },\r\n                    body: formData,\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(\"Upload failed: \" + await response.text());\r\n                }\r\n\r\n                const data = await response.json();\r\n                resolve(data);\r\n            } catch (error) {\r\n                reject(error);\r\n            }\r\n        };\r\n        reader.onerror = (error) => reject(error);\r\n    });\r\n};\r\n"],"names":[],"mappings":"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","ignoreList":[0]}