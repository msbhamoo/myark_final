(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},10204,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(48425),r=t.forwardRef((e,t)=>(0,s.jsx)(a.Primitive.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r.displayName="Label";var l=e.i(25913),i=e.i(75157);let d=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)(r,{ref:a,className:(0,i.cn)(d(),e),...t}));n.displayName=r.displayName,e.s(["Label",()=>n],10204)},64659,e=>{"use strict";let s=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659)},87486,e=>{"use strict";var s=e.i(43476),t=e.i(25913),a=e.i(75157);let r=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...l}){return(0,s.jsx)("div",{className:(0,a.cn)(r({variant:t}),e),...l})}e.s(["Badge",()=>l])},15288,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let r=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));r.displayName="Card";let l=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let d=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let n=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));n.displayName="CardContent",t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>l,"CardTitle",()=>i])},7233,e=>{"use strict";let s=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},58377,e=>{"use strict";let s=(0,e.i(75254).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>s],58377)},63488,e=>{"use strict";let s=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],63488)},84774,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let r=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})}));r.displayName="Table";let l=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("thead",{ref:r,className:(0,a.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let i=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tr",{ref:r,className:(0,a.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));d.displayName="TableRow";let n=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("th",{ref:r,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));n.displayName="TableHead";let c=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("td",{ref:r,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableCell",t.forwardRef(({className:e,...t},r)=>(0,s.jsx)("caption",{ref:r,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>l,"TableRow",()=>d])},41071,e=>{"use strict";let s=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>s],41071)},34161,80376,e=>{"use strict";let s=(0,e.i(75254).default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",()=>s],34161);var t=e.i(43476),a=e.i(26999),r=e.i(25913),l=e.i(37727),i=e.i(71645),d=e.i(75157);let n=a.Root;a.Trigger,a.Close;let c=a.Portal,o=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.Overlay,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:r}));o.displayName=a.Overlay.displayName;let x=(0,r.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=i.forwardRef(({side:e="right",className:s,children:r,...i},n)=>(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{ref:n,className:(0,d.cn)(x({side:e}),s),...i,children:[r,(0,t.jsxs)(a.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,t.jsx)(l.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=a.Content.displayName;let h=({className:e,...s})=>(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});h.displayName="SheetHeader";let p=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.Title,{ref:r,className:(0,d.cn)("text-lg font-semibold text-foreground",e),...s}));p.displayName=a.Title.displayName,i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.Description,{ref:r,className:(0,d.cn)("text-sm text-muted-foreground",e),...s})).displayName=a.Description.displayName,e.s(["Sheet",()=>n,"SheetContent",()=>m,"SheetHeader",()=>h,"SheetTitle",()=>p],80376)},25192,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(46932),r=e.i(55436),l=e.i(61911),i=e.i(58377),d=e.i(39312),n=e.i(25652),c=e.i(41071),o=e.i(86536),x=e.i(63488),m=e.i(31278),h=e.i(84243),p=e.i(7233),u=e.i(37727),f=e.i(90597),g=e.i(34161),j=e.i(3116),b=e.i(74911),N=e.i(19455),y=e.i(93479),v=e.i(87486),w=e.i(84774),C=e.i(55146),T=e.i(67489),k=e.i(15288),S=e.i(80376),D=e.i(76639),P=e.i(10204),M=e.i(1132),R=e.i(38047),A=e.i(75157);e.s(["default",0,()=>{let[e,H]=(0,t.useState)(!0),[I,L]=(0,t.useState)([]),[B,z]=(0,t.useState)(""),[E,U]=(0,t.useState)("all"),[F,G]=(0,t.useState)(null),[O,W]=(0,t.useState)([]),[V,K]=(0,t.useState)(!1),[_,X]=(0,t.useState)({total:0,activeThisWeek:0,avgStreak:0,newThisWeek:0}),[$,Z]=(0,t.useState)(!1),[q,J]=(0,t.useState)(""),[Q,Y]=(0,t.useState)(!1),{toast:ee}=(0,b.useToast)();(0,t.useEffect)(()=>{(async()=>{try{let[e,s,t]=await Promise.all([M.studentsService.getAll({grade:"all"!==E?parseInt(E):void 0}),M.studentsService.getStats(),M.badgesService.getAll()]);L(e),X({...s,newThisWeek:Math.round(.05*s.total)}),W(t)}catch(e){console.error("Error fetching data:",e)}finally{H(!1)}})()},[E]);let es=async e=>{if(F){K(!0);try{await M.studentsService.assignBadge(F.id,e);let s={...F,badges:[...F.badges||[],e]};G(s),L(e=>e.map(e=>e.id===F.id?s:e))}catch(e){console.error("Error assigning badge:",e)}finally{K(!1)}}},et=async e=>{if(F)try{await M.studentsService.removeBadge(F.id,e);let s={...F,badges:(F.badges||[]).filter(s=>s!==e)};G(s),L(e=>e.map(e=>e.id===F.id?s:e))}catch(e){console.error("Error removing badge:",e)}},ea=async()=>{if(F&&4===q.length){Y(!0);try{await R.studentAuthService.resetUserPin(F.id,q),ee({title:"PIN Reset",description:"New PIN set for student"}),Z(!1),J("")}catch(e){ee({title:"Error",description:"Failed to reset PIN",variant:"destructive"})}finally{Y(!1)}}},er=I.filter(e=>{let s=e.name||"Anonymous",t=e.email||"",a=e.phone||"";return s.toLowerCase().includes(B.toLowerCase())||t.toLowerCase().includes(B.toLowerCase())||a.includes(B)});return e?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Students"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Registered students and their activity"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(k.Card,{children:(0,s.jsx)(k.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,s.jsx)(l.Users,{className:"w-5 h-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:_.total.toLocaleString()}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Students"})]})]})})}),(0,s.jsx)(k.Card,{children:(0,s.jsx)(k.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-success/10",children:(0,s.jsx)(n.TrendingUp,{className:"w-5 h-5 text-success"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:_.activeThisWeek.toLocaleString()}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active This Week"})]})]})})}),(0,s.jsx)(k.Card,{children:(0,s.jsx)(k.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/10",children:(0,s.jsx)(i.Flame,{className:"w-5 h-5 text-orange-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:_.avgStreak}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Streak Days"})]})]})})}),(0,s.jsx)(k.Card,{children:(0,s.jsx)(k.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-secondary/10",children:(0,s.jsx)(d.Zap,{className:"w-5 h-5 text-secondary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:_.newThisWeek}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"New This Week"})]})]})})})]}),(0,s.jsx)(k.Card,{children:(0,s.jsx)(k.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(y.Input,{placeholder:"Search students...",value:B,onChange:e=>z(e.target.value),className:"pl-9"})]}),(0,s.jsxs)(T.Select,{value:E,onValueChange:U,children:[(0,s.jsx)(T.SelectTrigger,{className:"w-full sm:w-[150px]",children:(0,s.jsx)(T.SelectValue,{placeholder:"All Grades"})}),(0,s.jsxs)(T.SelectContent,{children:[(0,s.jsx)(T.SelectItem,{value:"all",children:"All Grades"}),[6,7,8,9,10,11,12].map(e=>(0,s.jsxs)(T.SelectItem,{value:String(e),children:["Class ",e]},e))]})]})]})})}),(0,s.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,s.jsx)(k.Card,{children:(0,s.jsx)(k.CardContent,{className:"p-0",children:0===er.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,s.jsx)(l.Users,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Students will appear here when they register"})]}):(0,s.jsxs)(w.Table,{children:[(0,s.jsx)(w.TableHeader,{children:(0,s.jsxs)(w.TableRow,{children:[(0,s.jsx)(w.TableHead,{children:"Student"}),(0,s.jsx)(w.TableHead,{children:"Grade"}),(0,s.jsx)(w.TableHead,{children:"School"}),(0,s.jsx)(w.TableHead,{children:"Streak"}),(0,s.jsx)(w.TableHead,{children:"XP"}),(0,s.jsx)(w.TableHead,{children:"Applications"}),(0,s.jsx)(w.TableHead,{children:"Last Active"}),(0,s.jsx)(w.TableHead,{children:"Status"}),(0,s.jsx)(w.TableHead,{className:"w-12"})]})}),(0,s.jsx)(w.TableBody,{children:er.map((e,t)=>{var r;return(0,s.jsxs)(a.motion.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.03*t},className:"group cursor-pointer hover:bg-muted/50",onClick:()=>G(e),children:[(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-primary-foreground font-semibold",children:(e.name||"S").charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name||"Unnamed Student"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email||e.phone})]})]})}),(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)(v.Badge,{variant:"outline",children:["Class ",e.grade]})}),(0,s.jsx)(w.TableCell,{className:"text-muted-foreground max-w-[150px] truncate",children:e.school||"-"}),(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(i.Flame,{className:"w-4 h-4 text-orange-500"}),e.streakDays]})}),(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(d.Zap,{className:"w-4 h-4 text-yellow-500"}),e.xpPoints.toLocaleString()]})}),(0,s.jsx)(w.TableCell,{children:e.appliedOpportunities?.length||0}),(0,s.jsx)(w.TableCell,{className:"text-sm text-muted-foreground whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(j.Clock,{className:"w-3.5 h-3.5"}),(e=>{if(!e)return"Never";let s=new Date().getTime()-new Date(e).getTime(),t=Math.floor(s/6e4),a=Math.floor(s/36e5),r=Math.floor(s/864e5);return t<1?"Just now":t<60?`${t}m ago`:a<24?`${a}h ago`:r<7?`${r}d ago`:new Date(e).toLocaleDateString()})(e.lastActiveAt)]})}),(0,s.jsx)(w.TableCell,{children:(r=e.lastActiveAt)&&new Date().getTime()-new Date(r).getTime()<864e5?(0,s.jsx)(v.Badge,{className:"bg-success/20 text-success border-success/30",children:"Active"}):(0,s.jsx)(v.Badge,{variant:"outline",className:"text-muted-foreground",children:"Inactive"})}),(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)(C.DropdownMenu,{children:[(0,s.jsx)(C.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,s.jsx)(N.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:(0,s.jsx)(c.MoreHorizontal,{className:"w-4 h-4"})})}),(0,s.jsxs)(C.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(C.DropdownMenuItem,{onClick:()=>G(e),children:[(0,s.jsx)(o.Eye,{className:"w-4 h-4 mr-2"}),"View Profile"]}),(0,s.jsx)(C.DropdownMenuItem,{asChild:!0,children:(0,s.jsxs)("a",{href:`mailto:${e.email}`,children:[(0,s.jsx)(x.Mail,{className:"w-4 h-4 mr-2"}),"Send Email"]})}),(0,s.jsx)(C.DropdownMenuSeparator,{}),(0,s.jsxs)(C.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),G(e),Z(!0)},children:[(0,s.jsx)(g.Key,{className:"w-4 h-4 mr-2"}),"Reset PIN"]})]})]})})]},e.id)})})]})})})}),(0,s.jsx)(S.Sheet,{open:!!F,onOpenChange:()=>G(null),children:(0,s.jsxs)(S.SheetContent,{className:"w-full sm:max-w-md overflow-y-auto",children:[(0,s.jsx)(S.SheetHeader,{children:(0,s.jsx)(S.SheetTitle,{children:"Student Profile"})}),F&&(0,s.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-primary-foreground font-bold text-2xl",children:(F.name||"S").charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:F.name||"Unnamed Student"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:F.email||F.phone})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-3 rounded-xl bg-muted/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 text-orange-500 mb-1",children:[(0,s.jsx)(i.Flame,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-xl font-bold",children:F.streakDays})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Day Streak"})]}),(0,s.jsxs)("div",{className:"text-center p-3 rounded-xl bg-muted/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-1",children:[(0,s.jsx)(d.Zap,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-xl font-bold",children:F.xpPoints})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"XP Points"})]}),(0,s.jsxs)("div",{className:"text-center p-3 rounded-xl bg-muted/50",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-primary mb-1",children:["Lv ",F.level]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Level"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Grade"}),(0,s.jsxs)("span",{className:"font-medium",children:["Class ",F.grade]})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"School"}),(0,s.jsx)("span",{className:"font-medium",children:F.school||"-"})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"City"}),(0,s.jsx)("span",{className:"font-medium",children:F.city||"-"})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Applications"}),(0,s.jsx)("span",{className:"font-medium",children:F.appliedOpportunities?.length||0})]}),(0,s.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Joined"}),(0,s.jsx)("span",{className:"font-medium",children:F.createdAt?new Date(F.createdAt).toLocaleDateString():"-"})]})]}),(F.personaGoal||F.competitiveness||F.weeklyTimeCommitment||F.deliveryPreference)&&(0,s.jsxs)("div",{className:"space-y-4 pt-6 border-t border-border",children:[(0,s.jsxs)("p",{className:"text-sm font-bold flex items-center gap-2",children:[(0,s.jsx)(n.TrendingUp,{className:"w-4 h-4 text-primary"}),"Discovery Insights"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[F.personaGoal&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Goal Vibe"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:F.personaGoal.replace("_"," ")})]}),F.competitiveness&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Heat Level"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:F.competitiveness.replace("_"," ")})]}),F.weeklyTimeCommitment&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Weekly Time"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:F.weeklyTimeCommitment.replace(/_/g," ")})]}),F.deliveryPreference&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Preference"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:F.deliveryPreference})]})]})]}),F.interests?.length>0&&(0,s.jsxs)("div",{className:"pt-6 border-t border-border",children:[(0,s.jsxs)("p",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[(0,s.jsx)(f.Heart,{className:"w-4 h-4 text-rose-500"}),"Interests"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:F.interests.map(e=>(0,s.jsx)(v.Badge,{variant:"secondary",className:"px-3 py-1 bg-muted/50 border-white/5",children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-6 border-t border-border",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm font-bold flex items-center gap-2",children:[(0,s.jsx)(h.Medal,{className:"w-4 h-4 text-primary"}),"Earned Badges"]}),(0,s.jsxs)(C.DropdownMenu,{children:[(0,s.jsx)(C.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(N.Button,{variant:"ghost",size:"sm",className:"h-8 gap-1.5 text-xs text-primary hover:text-primary hover:bg-primary/10",children:[(0,s.jsx)(p.Plus,{className:"w-3.5 h-3.5"}),"Assign"]})}),(0,s.jsxs)(C.DropdownMenuContent,{align:"end",className:"w-56 overflow-hidden",children:[(0,s.jsx)("p",{className:"px-2 py-1.5 text-xs font-bold text-muted-foreground uppercase tracking-widest bg-muted/30",children:"Select Badge"}),(0,s.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:0===O.filter(e=>!F.badges?.includes(e.id)).length?(0,s.jsx)("p",{className:"p-4 text-center text-xs text-muted-foreground italic",children:"No badges left to assign"}):O.filter(e=>!F.badges?.includes(e.id)).map(e=>(0,s.jsxs)(C.DropdownMenuItem,{onClick:()=>es(e.id),className:"gap-2",children:[(0,s.jsx)("div",{className:(0,A.cn)("w-6 h-6 rounded flex items-center justify-center bg-primary/20",e.color),children:(0,s.jsx)(h.Medal,{className:"w-3.5 h-3.5"})}),(0,s.jsx)("span",{className:"flex-1",children:e.name})]},e.id))})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[F.badges?.map(e=>{let t=O.find(s=>s.id===e);return t?(0,s.jsxs)("div",{className:"group relative p-3 rounded-xl bg-muted/50 border border-white/5 flex flex-col items-center text-center gap-2 hover:border-primary/20 transition-all duration-300",children:[(0,s.jsx)(N.Button,{variant:"ghost",size:"icon",className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>et(e),children:(0,s.jsx)(u.X,{className:"w-3 h-3"})}),(0,s.jsx)("div",{className:(0,A.cn)("w-10 h-10 rounded-lg flex items-center justify-center",t.color,"bg-background shadow-sm"),children:(0,s.jsx)(h.Medal,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-bold line-clamp-1",children:t.name}),(0,s.jsx)("p",{className:"text-[8px] text-muted-foreground uppercase tracking-wider",children:t.category})]})]},e):null}),(!F.badges||0===F.badges.length)&&(0,s.jsxs)("div",{className:"col-span-2 py-8 text-center bg-muted/30 rounded-xl border border-dashed border-border/50",children:[(0,s.jsx)(h.Medal,{className:"w-8 h-8 text-muted-foreground/30 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"No badges earned yet"})]})]})]})]})]})}),(0,s.jsx)(D.Dialog,{open:$,onOpenChange:Z,children:(0,s.jsxs)(D.DialogContent,{children:[(0,s.jsxs)(D.DialogHeader,{children:[(0,s.jsx)(D.DialogTitle,{children:"Reset Student PIN"}),(0,s.jsxs)(D.DialogDescription,{children:["Set a new 4-digit PIN for ",F?.name||"this student",". They will need to use this PIN to log in."]})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(P.Label,{children:"New PIN (4 digits)"}),(0,s.jsx)(y.Input,{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,placeholder:"0000",value:q,onChange:e=>J(e.target.value.replace(/\D/g,"").slice(0,4)),className:"text-center text-2xl tracking-widest font-mono"})]})}),(0,s.jsxs)(D.DialogFooter,{children:[(0,s.jsx)(N.Button,{variant:"outline",onClick:()=>{Z(!1),J("")},children:"Cancel"}),(0,s.jsxs)(N.Button,{onClick:ea,disabled:Q||4!==q.length,children:[Q?(0,s.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):null,"Reset PIN"]})]})]})})]})}])}]);