(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87486,e=>{"use strict";var s=e.i(43476),t=e.i(25913),a=e.i(75157);let l=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function r({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:t}),e),...r})}e.s(["Badge",()=>r])},86536,e=>{"use strict";let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},10204,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(48425),l=t.forwardRef((e,t)=>(0,s.jsx)(a.Primitive.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var r=e.i(25913),i=e.i(75157);let d=(0,r.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l,{ref:a,className:(0,i.cn)(d(),e),...t}));n.displayName=l.displayName,e.s(["Label",()=>n],10204)},24687,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let l=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...t}));l.displayName="Textarea",e.s(["Textarea",()=>l])},25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},87316,e=>{"use strict";let s=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},84774,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let l=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:l,className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let r=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("thead",{ref:l,className:(0,a.cn)("[&_tr]:border-b",e),...t}));r.displayName="TableHeader";let i=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("tbody",{ref:l,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("tfoot",{ref:l,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("tr",{ref:l,className:(0,a.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));d.displayName="TableRow";let n=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("th",{ref:l,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));n.displayName="TableHead";let c=t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("td",{ref:l,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableCell",t.forwardRef(({className:e,...t},l)=>(0,s.jsx)("caption",{ref:l,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>r,"TableRow",()=>d])},41071,e=>{"use strict";let s=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>s],41071)},16715,e=>{"use strict";let s=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],16715)},80376,e=>{"use strict";var s=e.i(43476),t=e.i(26999),a=e.i(25913),l=e.i(37727),r=e.i(71645),i=e.i(75157);let d=t.Root,n=t.Trigger,c=t.Close,o=t.Portal,x=r.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Overlay,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:l}));x.displayName=t.Overlay.displayName;let m=(0,a.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef(({side:e="right",className:a,children:r,...d},n)=>(0,s.jsxs)(o,{children:[(0,s.jsx)(x,{}),(0,s.jsxs)(t.Content,{ref:n,className:(0,i.cn)(m({side:e}),a),...d,children:[r,(0,s.jsxs)(t.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,s.jsx)(l.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=t.Content.displayName;let u=({className:e,...t})=>(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});u.displayName="SheetHeader";let p=r.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Title,{ref:l,className:(0,i.cn)("text-lg font-semibold text-foreground",e),...a}));p.displayName=t.Title.displayName;let f=r.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Description,{ref:l,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));f.displayName=t.Description.displayName,e.s(["Sheet",()=>d,"SheetClose",()=>c,"SheetContent",()=>h,"SheetDescription",()=>f,"SheetHeader",()=>u,"SheetTitle",()=>p,"SheetTrigger",()=>n])},34161,e=>{"use strict";let s=(0,e.i(75254).default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",()=>s],34161)},64287,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(46932),l=e.i(55436),r=e.i(61911),i=e.i(43432),d=e.i(3116),n=e.i(98919),c=e.i(75254);let o=(0,c.default)("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);var x=e.i(34161),m=e.i(92270),h=e.i(41071),u=e.i(31278),p=e.i(86536),f=e.i(87316);let g=(0,c.default)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),j=(0,c.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var N=e.i(16715),v=e.i(39312),b=e.i(25652),y=e.i(19455),w=e.i(93479),k=e.i(87486),T=e.i(84774),C=e.i(55146),S=e.i(76639),D=e.i(80376),R=e.i(24687),A=e.i(10204),B=e.i(38047),L=e.i(75157),M=e.i(74911);e.s(["default",0,()=>{let[e,c]=(0,t.useState)([]),[U,P]=(0,t.useState)(!0),[H,I]=(0,t.useState)(""),[E,z]=(0,t.useState)(null),[O,F]=(0,t.useState)([]),[$,K]=(0,t.useState)(!1),[G,V]=(0,t.useState)(!1),[_,q]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(""),[J,W]=(0,t.useState)(""),[Q,Y]=(0,t.useState)(!1),{toast:ee}=(0,M.useToast)(),es=async()=>{P(!0);try{let e=await B.studentAuthService.getAllUsers({search:H});c(e)}catch(e){console.error("Error fetching users:",e),ee({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{P(!1)}};(0,t.useEffect)(()=>{es()},[]),(0,t.useEffect)(()=>{let e=setTimeout(()=>{es()},300);return()=>clearTimeout(e)},[H]);let et=async e=>{z(e),K(!0);try{let s=await B.studentAuthService.getUserSessions(e.id);F(s)}catch(e){console.error("Error fetching sessions:",e)}},ea=async()=>{if(E){Y(!0);try{await B.studentAuthService.blockUser(E.id,X),ee({title:"User Blocked",description:`${E.phone} has been blocked`}),V(!1),Z(""),es()}catch(e){ee({title:"Error",description:"Failed to block user",variant:"destructive"})}finally{Y(!1)}}},el=async e=>{Y(!0);try{await B.studentAuthService.unblockUser(e.id),ee({title:"User Unblocked",description:`${e.phone} has been unblocked`}),es()}catch(e){ee({title:"Error",description:"Failed to unblock user",variant:"destructive"})}finally{Y(!1)}},er=async()=>{if(E&&4===J.length){Y(!0);try{await B.studentAuthService.resetUserPin(E.id,J),ee({title:"PIN Reset",description:`New PIN set for ${E.phone}`}),q(!1),W("")}catch(e){ee({title:"Error",description:"Failed to reset PIN",variant:"destructive"})}finally{Y(!1)}}},ei=async e=>{Y(!0);try{if(await B.studentAuthService.terminateAllUserSessions(e.id),ee({title:"Sessions Terminated",description:"All sessions for this user have been ended"}),E?.id===e.id){let s=await B.studentAuthService.getUserSessions(e.id);F(s)}}catch(e){ee({title:"Error",description:"Failed to terminate sessions",variant:"destructive"})}finally{Y(!1)}},ed=e=>{if(!e)return"Never";let s=new Date().getTime()-e.getTime(),t=Math.floor(s/6e4),a=Math.floor(s/36e5),l=Math.floor(s/864e5);return t<1?"Just now":t<60?`${t}m ago`:a<24?`${a}h ago`:l<7?`${l}d ago`:e.toLocaleDateString()},en=e=>{if(e.isBlocked)return(0,s.jsxs)(k.Badge,{variant:"destructive",className:"gap-1",children:[(0,s.jsx)(o,{className:"w-3 h-3"})," Blocked"]});let t=e.lastLoginAt;if(!t)return(0,s.jsx)(k.Badge,{variant:"secondary",className:"gap-1",children:"New"});let a=(Date.now()-t.getTime())/36e5;return a<1?(0,s.jsxs)(k.Badge,{className:"gap-1 bg-success/20 text-success border-success/30",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"})," Online"]}):a<24?(0,s.jsx)(k.Badge,{variant:"secondary",className:"gap-1",children:"Active today"}):(0,s.jsx)(k.Badge,{variant:"outline",className:"gap-1 text-muted-foreground",children:"Away"})},ec={total:e.length,active:e.filter(e=>{let s=e.lastLoginAt;return s&&Date.now()-s.getTime()<864e5}).length,blocked:e.filter(e=>e.isBlocked).length};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-display font-bold",children:"Student Users"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage student accounts, sessions, and access"})]}),(0,s.jsxs)(y.Button,{variant:"outline",onClick:es,disabled:U,children:[(0,s.jsx)(N.RefreshCw,{className:(0,L.cn)("w-4 h-4 mr-2",U&&"animate-spin")}),"Refresh"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsx)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-4 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,s.jsx)(r.Users,{className:"w-5 h-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:ec.total}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]})}),(0,s.jsx)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-4 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-success/10",children:(0,s.jsx)(v.Zap,{className:"w-5 h-5 text-success"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:ec.active}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Today"})]})]})}),(0,s.jsx)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card p-4 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-destructive/10",children:(0,s.jsx)(o,{className:"w-5 h-5 text-destructive"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:ec.blocked}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Blocked"})]})]})})]}),(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(w.Input,{placeholder:"Search by phone or name...",value:H,onChange:e=>I(e.target.value),className:"pl-10"})]}),(0,s.jsx)("div",{className:"glass-card rounded-xl overflow-hidden",children:(0,s.jsxs)(T.Table,{children:[(0,s.jsx)(T.TableHeader,{children:(0,s.jsxs)(T.TableRow,{children:[(0,s.jsx)(T.TableHead,{children:"User"}),(0,s.jsx)(T.TableHead,{children:"Phone"}),(0,s.jsx)(T.TableHead,{children:"XP / Level"}),(0,s.jsx)(T.TableHead,{children:"Last Login"}),(0,s.jsx)(T.TableHead,{children:"Status"}),(0,s.jsx)(T.TableHead,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(T.TableBody,{children:U?(0,s.jsx)(T.TableRow,{children:(0,s.jsx)(T.TableCell,{colSpan:6,className:"text-center py-8",children:(0,s.jsx)(u.Loader2,{className:"w-6 h-6 animate-spin mx-auto text-muted-foreground"})})}):0===e.length?(0,s.jsx)(T.TableRow,{children:(0,s.jsx)(T.TableCell,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):e.map(e=>(0,s.jsxs)(T.TableRow,{className:"group",children:[(0,s.jsx)(T.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-sm font-bold text-primary-foreground",children:e.name?.[0]?.toUpperCase()||"?"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name||"Unnamed"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.grade?`Class ${e.grade}`:"Grade not set"})]})]})}),(0,s.jsx)(T.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Phone,{className:"w-4 h-4 text-muted-foreground"}),(0,s.jsxs)("span",{className:"font-mono",children:["+91 ",e.phone]})]})}),(0,s.jsx)(T.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Zap,{className:"w-4 h-4 text-primary"}),(0,s.jsx)("span",{className:"font-medium",children:e.xpPoints}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["/ Lvl ",e.level]})]})}),(0,s.jsx)(T.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(d.Clock,{className:"w-4 h-4 text-muted-foreground"}),ed(e.lastLoginAt)]})}),(0,s.jsx)(T.TableCell,{children:en(e)}),(0,s.jsx)(T.TableCell,{className:"text-right",children:(0,s.jsxs)(C.DropdownMenu,{children:[(0,s.jsx)(C.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(y.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(h.MoreHorizontal,{className:"w-4 h-4"})})}),(0,s.jsxs)(C.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(C.DropdownMenuItem,{onClick:()=>et(e),children:[(0,s.jsx)(p.Eye,{className:"w-4 h-4 mr-2"}),"View Details"]}),(0,s.jsxs)(C.DropdownMenuItem,{onClick:()=>{z(e),q(!0)},children:[(0,s.jsx)(x.Key,{className:"w-4 h-4 mr-2"}),"Reset PIN"]}),(0,s.jsxs)(C.DropdownMenuItem,{onClick:()=>ei(e),children:[(0,s.jsx)(m.LogOut,{className:"w-4 h-4 mr-2"}),"End All Sessions"]}),(0,s.jsx)(C.DropdownMenuSeparator,{}),e.isBlocked?(0,s.jsxs)(C.DropdownMenuItem,{onClick:()=>el(e),children:[(0,s.jsx)(n.Shield,{className:"w-4 h-4 mr-2"}),"Unblock User"]}):(0,s.jsxs)(C.DropdownMenuItem,{className:"text-destructive",onClick:()=>{z(e),V(!0)},children:[(0,s.jsx)(o,{className:"w-4 h-4 mr-2"}),"Block User"]})]})]})})]},e.id))})]})}),(0,s.jsx)(D.Sheet,{open:$,onOpenChange:K,children:(0,s.jsxs)(D.SheetContent,{className:"sm:max-w-lg overflow-y-auto",children:[(0,s.jsx)(D.SheetHeader,{children:(0,s.jsx)(D.SheetTitle,{children:"User Details"})}),E&&(0,s.jsxs)("div",{className:"space-y-6 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-2xl font-bold text-primary-foreground",children:E.name?.[0]?.toUpperCase()||"?"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:E.name||"Unnamed User"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["+91 ",E.phone]}),en(E)]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"glass-card p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"XP Points"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-primary",children:E.xpPoints})]}),(0,s.jsxs)("div",{className:"glass-card p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Level"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:E.level})]}),(0,s.jsxs)("div",{className:"glass-card p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Streak"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[E.streakDays," days"]})]}),(0,s.jsxs)("div",{className:"glass-card p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Badges"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:E.badges.length})]})]}),(E.personaGoal||E.competitiveness||E.weeklyTimeCommitment||E.deliveryPreference)&&(0,s.jsxs)("div",{className:"space-y-4 pt-6 border-t border-border",children:[(0,s.jsxs)("p",{className:"text-sm font-bold flex items-center gap-2",children:[(0,s.jsx)(b.TrendingUp,{className:"w-4 h-4 text-primary"}),"Discovery Insights"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[E.personaGoal&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Goal Vibe"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:E.personaGoal.replace("_"," ")})]}),E.competitiveness&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Heat Level"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:E.competitiveness.replace("_"," ")})]}),E.weeklyTimeCommitment&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Weekly Time"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:E.weeklyTimeCommitment.replace(/_/g," ")})]}),E.deliveryPreference&&(0,s.jsxs)("div",{className:"p-3 rounded-xl bg-muted/30 border border-white/5",children:[(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Preference"}),(0,s.jsx)("p",{className:"text-xs font-bold capitalize",children:E.deliveryPreference})]})]})]}),E.interests?.length>0&&(0,s.jsxs)("div",{className:"space-y-3 pt-6 border-t border-border",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,s.jsx)(v.Zap,{className:"w-4 h-4 text-primary"}),"Interests"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:E.interests.map(e=>(0,s.jsx)(k.Badge,{variant:"secondary",className:"px-3 py-1 bg-muted/50 border-white/5",children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,s.jsx)(f.Calendar,{className:"w-4 h-4"}),"Registration Details"]}),(0,s.jsxs)("div",{className:"glass-card p-4 rounded-xl space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Registered"}),(0,s.jsx)("span",{children:E.createdAt.toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Created via"}),(0,s.jsx)("span",{className:"capitalize",children:E.createdVia})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Last Login"}),(0,s.jsx)("span",{children:E.lastLoginAt?.toLocaleString()||"Never"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Failed Attempts"}),(0,s.jsx)("span",{className:E.failedLoginAttempts>0?"text-destructive font-medium":"",children:E.failedLoginAttempts})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,s.jsx)(g,{className:"w-4 h-4"}),"Active Sessions (",O.filter(e=>e.isActive).length,")"]}),0===O.filter(e=>e.isActive).length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No active sessions"}):(0,s.jsx)("div",{className:"space-y-2",children:O.filter(e=>e.isActive).map(e=>(0,s.jsxs)("div",{className:"glass-card p-3 rounded-lg flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(g,{className:"w-5 h-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm font-medium",children:[e.browser," / ",e.device]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last active: ",ed(e.lastActiveAt)]})]})]}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"})]},e.id))})]}),E.isBlocked&&E.blockReason&&(0,s.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[(0,s.jsx)(j,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"font-semibold",children:"Account Blocked"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:E.blockReason})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(y.Button,{variant:"outline",className:"flex-1",onClick:()=>{q(!0)},children:[(0,s.jsx)(x.Key,{className:"w-4 h-4 mr-2"}),"Reset PIN"]}),(0,s.jsxs)(y.Button,{variant:"outline",className:"flex-1",onClick:()=>ei(E),children:[(0,s.jsx)(m.LogOut,{className:"w-4 h-4 mr-2"}),"End Sessions"]})]})]})]})}),(0,s.jsx)(S.Dialog,{open:G,onOpenChange:V,children:(0,s.jsxs)(S.DialogContent,{children:[(0,s.jsxs)(S.DialogHeader,{children:[(0,s.jsx)(S.DialogTitle,{children:"Block User"}),(0,s.jsx)(S.DialogDescription,{children:"This will prevent the user from logging in and terminate all active sessions."})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(A.Label,{children:"Reason for blocking"}),(0,s.jsx)(R.Textarea,{placeholder:"Enter the reason for blocking this user...",value:X,onChange:e=>Z(e.target.value)})]})}),(0,s.jsxs)(S.DialogFooter,{children:[(0,s.jsx)(y.Button,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,s.jsxs)(y.Button,{variant:"destructive",onClick:ea,disabled:Q||!X.trim(),children:[Q?(0,s.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):null,"Block User"]})]})]})}),(0,s.jsx)(S.Dialog,{open:_,onOpenChange:q,children:(0,s.jsxs)(S.DialogContent,{children:[(0,s.jsxs)(S.DialogHeader,{children:[(0,s.jsx)(S.DialogTitle,{children:"Reset PIN"}),(0,s.jsx)(S.DialogDescription,{children:"Set a new 4-digit PIN for this user. They will need to use this PIN to log in."})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(A.Label,{children:"New PIN (4 digits)"}),(0,s.jsx)(w.Input,{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,placeholder:"0000",value:J,onChange:e=>W(e.target.value.replace(/\D/g,"").slice(0,4)),className:"text-center text-2xl tracking-widest font-mono"})]})}),(0,s.jsxs)(S.DialogFooter,{children:[(0,s.jsx)(y.Button,{variant:"outline",onClick:()=>{q(!1),W("")},children:"Cancel"}),(0,s.jsxs)(y.Button,{onClick:er,disabled:Q||4!==J.length,children:[Q?(0,s.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):null,"Reset PIN"]})]})]})})]})}],64287)}]);