(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87486,e=>{"use strict";var s=e.i(43476),a=e.i(25913),t=e.i(75157);let l=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function r({className:e,variant:a,...r}){return(0,s.jsx)("div",{className:(0,t.cn)(l({variant:a}),e),...r})}e.s(["Badge",()=>r])},15288,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("div",{ref:l,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));l.displayName="Card";let r=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("div",{ref:l,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...a}));r.displayName="CardHeader";let i=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("h3",{ref:l,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let c=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("p",{ref:l,className:(0,t.cn)("text-sm text-muted-foreground",e),...a}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("div",{ref:l,className:(0,t.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent",a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("div",{ref:l,className:(0,t.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>l,"CardContent",()=>d,"CardDescription",()=>c,"CardHeader",()=>r,"CardTitle",()=>i])},64659,e=>{"use strict";let s=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659)},24687,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a}));l.displayName="Textarea",e.s(["Textarea",()=>l])},63488,e=>{"use strict";let s=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],63488)},46897,e=>{"use strict";let s=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],46897)},87316,e=>{"use strict";let s=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},84774,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(75157);let l=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:l,className:(0,t.cn)("w-full caption-bottom text-sm",e),...a})}));l.displayName="Table";let r=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("thead",{ref:l,className:(0,t.cn)("[&_tr]:border-b",e),...a}));r.displayName="TableHeader";let i=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("tbody",{ref:l,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...a}));i.displayName="TableBody",a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("tfoot",{ref:l,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let c=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("tr",{ref:l,className:(0,t.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...a}));c.displayName="TableRow";let d=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("th",{ref:l,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));d.displayName="TableHead";let o=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("td",{ref:l,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));o.displayName="TableCell",a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("caption",{ref:l,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>o,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>c])},41071,e=>{"use strict";let s=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>s],41071)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},64064,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(46932),l=e.i(55436),r=e.i(43432),i=e.i(63488),c=e.i(46897),d=e.i(61911),o=e.i(41071),n=e.i(69638),m=e.i(3116),x=e.i(75254);let h=(0,x.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var u=e.i(87316),p=e.i(31278);let f=(0,x.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var j=e.i(19455),g=e.i(93479),b=e.i(87486),y=e.i(24687),N=e.i(84774),v=e.i(55146),C=e.i(67489),w=e.i(15288),k=e.i(76639),T=e.i(1132);let S={pending:{label:"Pending",color:"bg-yellow-500/20 text-yellow-500",icon:m.Clock},contacted:{label:"Contacted",color:"bg-blue-500/20 text-blue-500",icon:r.Phone},scheduled:{label:"Scheduled",color:"bg-purple-500/20 text-purple-500",icon:u.Calendar},completed:{label:"Completed",color:"bg-success/20 text-success",icon:n.CheckCircle},rejected:{label:"Rejected",color:"bg-destructive/20 text-destructive",icon:h}};e.s(["default",0,()=>{let[e,n]=(0,a.useState)(!0),[m,x]=(0,a.useState)([]),[h,u]=(0,a.useState)(""),[M,D]=(0,a.useState)("all"),[R,H]=(0,a.useState)(null),[P,B]=(0,a.useState)(""),[A,q]=(0,a.useState)({});(0,a.useEffect)(()=>{(async()=>{try{let[e,s]=await Promise.all([T.schoolDemosService.getAll({status:"all"!==M?M:void 0}),T.schoolDemosService.getCountByStatus()]);x(e),q(s)}catch(e){console.error("Error fetching demos:",e)}finally{n(!1)}})()},[M]);let z=m.filter(e=>e.schoolName.toLowerCase().includes(h.toLowerCase())||e.contactPerson.toLowerCase().includes(h.toLowerCase())),I=async(e,s)=>{try{await T.schoolDemosService.updateStatus(e,s,P),x(m.map(a=>a.id===e?{...a,status:s}:a)),H(null)}catch(e){console.error("Error updating status:",e)}};return e?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold font-display",children:"School Demo Requests"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage demo bookings from schools"})]})}),(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:Object.entries(S).map(([e,a])=>{let t=A[e]||0,l=a.icon;return(0,s.jsx)(w.Card,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>D(e),children:(0,s.jsx)(w.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`p-2 rounded-lg ${a.color.split(" ")[0]}`,children:(0,s.jsx)(l,{className:`w-5 h-5 ${a.color.split(" ")[1]}`})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:t}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a.label})]})]})})},e)})}),(0,s.jsx)(w.Card,{children:(0,s.jsx)(w.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(g.Input,{placeholder:"Search schools...",value:h,onChange:e=>u(e.target.value),className:"pl-9"})]}),(0,s.jsxs)(C.Select,{value:M,onValueChange:D,children:[(0,s.jsx)(C.SelectTrigger,{className:"w-full sm:w-[150px]",children:(0,s.jsx)(C.SelectValue,{placeholder:"All Status"})}),(0,s.jsxs)(C.SelectContent,{children:[(0,s.jsx)(C.SelectItem,{value:"all",children:"All Status"}),Object.entries(S).map(([e,a])=>(0,s.jsx)(C.SelectItem,{value:e,children:a.label},e))]})]})]})})}),(0,s.jsx)(t.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,s.jsx)(w.Card,{children:(0,s.jsx)(w.CardContent,{className:"p-0",children:0===z.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,s.jsx)(f,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No demo requests yet"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"School demo requests will appear here"})]}):(0,s.jsxs)(N.Table,{children:[(0,s.jsx)(N.TableHeader,{children:(0,s.jsxs)(N.TableRow,{children:[(0,s.jsx)(N.TableHead,{children:"School"}),(0,s.jsx)(N.TableHead,{children:"Contact"}),(0,s.jsx)(N.TableHead,{children:"Location"}),(0,s.jsx)(N.TableHead,{children:"Students"}),(0,s.jsx)(N.TableHead,{children:"Status"}),(0,s.jsx)(N.TableHead,{children:"Date"}),(0,s.jsx)(N.TableHead,{className:"w-12"})]})}),(0,s.jsx)(N.TableBody,{children:z.map((e,a)=>{let l,r;return(0,s.jsxs)(t.motion.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*a},className:"group hover:bg-muted/50 cursor-pointer",onClick:()=>H(e),children:[(0,s.jsx)(N.TableCell,{children:(0,s.jsx)("div",{className:"font-medium",children:e.schoolName})}),(0,s.jsx)(N.TableCell,{children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"font-medium",children:e.contactPerson}),(0,s.jsx)("p",{className:"text-muted-foreground",children:e.designation})]})}),(0,s.jsx)(N.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,s.jsx)(c.MapPin,{className:"w-3 h-3"}),e.city]})}),(0,s.jsx)(N.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,s.jsx)(d.Users,{className:"w-3 h-3"}),e.studentCount]})}),(0,s.jsx)(N.TableCell,{children:(r=(l=S[e.status]).icon,(0,s.jsxs)(b.Badge,{className:`${l.color} gap-1`,children:[(0,s.jsx)(r,{className:"w-3 h-3"}),l.label]}))}),(0,s.jsx)(N.TableCell,{className:"text-muted-foreground",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),(0,s.jsx)(N.TableCell,{children:(0,s.jsxs)(v.DropdownMenu,{children:[(0,s.jsx)(v.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,s.jsx)(j.Button,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:(0,s.jsx)(o.MoreHorizontal,{className:"w-4 h-4"})})}),(0,s.jsxs)(v.DropdownMenuContent,{align:"end",children:[(0,s.jsx)(v.DropdownMenuItem,{onClick:()=>H(e),children:"View Details"}),(0,s.jsx)(v.DropdownMenuSeparator,{}),(0,s.jsx)(v.DropdownMenuItem,{onClick:()=>I(e.id,"contacted"),children:"Mark as Contacted"}),(0,s.jsx)(v.DropdownMenuItem,{onClick:()=>I(e.id,"scheduled"),children:"Mark as Scheduled"}),(0,s.jsx)(v.DropdownMenuItem,{onClick:()=>I(e.id,"completed"),children:"Mark as Completed"}),(0,s.jsx)(v.DropdownMenuItem,{className:"text-destructive",onClick:()=>I(e.id,"rejected"),children:"Reject"})]})]})})]},e.id)})})]})})})}),(0,s.jsx)(k.Dialog,{open:!!R,onOpenChange:()=>H(null),children:(0,s.jsxs)(k.DialogContent,{className:"sm:max-w-lg",children:[(0,s.jsx)(k.DialogHeader,{children:(0,s.jsx)(k.DialogTitle,{children:"Demo Request Details"})}),R&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:R.schoolName}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(c.MapPin,{className:"w-4 h-4"}),R.city,R.state?`, ${R.state}`:""]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contact Person"}),(0,s.jsx)("p",{className:"font-medium",children:R.contactPerson}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:R.designation})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Student Count"}),(0,s.jsx)("p",{className:"font-medium",children:R.studentCount})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(j.Button,{variant:"outline",className:"flex-1 gap-2",asChild:!0,children:(0,s.jsxs)("a",{href:`mailto:${R.email}`,children:[(0,s.jsx)(i.Mail,{className:"w-4 h-4"}),"Email"]})}),(0,s.jsx)(j.Button,{variant:"outline",className:"flex-1 gap-2",asChild:!0,children:(0,s.jsxs)("a",{href:`tel:${R.phone}`,children:[(0,s.jsx)(r.Phone,{className:"w-4 h-4"}),"Call"]})})]}),R.message&&(0,s.jsxs)("div",{className:"p-4 bg-muted/50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Message"}),(0,s.jsx)("p",{className:"text-sm",children:R.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add Notes"}),(0,s.jsx)(y.Textarea,{placeholder:"Add internal notes about this demo...",value:P,onChange:e=>B(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Update Status"}),(0,s.jsxs)(C.Select,{defaultValue:R.status,onValueChange:e=>I(R.id,e),children:[(0,s.jsx)(C.SelectTrigger,{children:(0,s.jsx)(C.SelectValue,{})}),(0,s.jsx)(C.SelectContent,{children:Object.entries(S).map(([e,a])=>(0,s.jsx)(C.SelectItem,{value:e,children:a.label},e))})]})]})]}),(0,s.jsx)(k.DialogFooter,{children:(0,s.jsx)(j.Button,{variant:"outline",onClick:()=>H(null),children:"Close"})})]})})]})}],64064)}]);