(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1896,e=>{"use strict";var t,r=e.i(43476),a=e.i(71645),s=e.i(18566),i=e.i(46932),n=e.i(71689),l=e.i(56909),o=e.i(86536),d=e.i(27612),c=e.i(87316),u=e.i(75254);let m=(0,u.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var p=e.i(7233),h=e.i(43531);let x=(0,u.default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var f=e.i(31278),v=e.i(39312),g=e.i(83086),j=e.i(61911),y=e.i(19455),b=e.i(93479),C=e.i(24687),N=e.i(10204),w=e.i(15288),S=e.i(99375),E=e.i(87486),k=e.i(67489),D=/[\\\/_+.#"@\[\(\{&]/,I=/[\\\/_+.#"@\[\(\{&]/g,P=/[\s-]/,R=/[\s-]/g;function A(e){return e.toLowerCase().replace(R," ")}var L=e.i(26999),O=e.i(48425),F=e.i(10772),z=e.i(20783),T='[cmdk-group=""]',B='[cmdk-group-items=""]',M='[cmdk-item=""]',V=`${M}:not([aria-disabled="true"])`,H="cmdk-item-select",U="data-value",_=(e,t,r)=>{var a;return a=e,function e(t,r,a,s,i,n,l){if(n===r.length)return i===t.length?1:.99;var o=`${i},${n}`;if(void 0!==l[o])return l[o];for(var d,c,u,m,p=s.charAt(n),h=a.indexOf(p,i),x=0;h>=0;)(d=e(t,r,a,s,h+1,n+1,l))>x&&(h===i?d*=1:D.test(t.charAt(h-1))?(d*=.8,(u=t.slice(i,h-1).match(I))&&i>0&&(d*=Math.pow(.999,u.length))):P.test(t.charAt(h-1))?(d*=.9,(m=t.slice(i,h-1).match(R))&&i>0&&(d*=Math.pow(.999,m.length))):(d*=.17,i>0&&(d*=Math.pow(.999,h-i))),t.charAt(h)!==r.charAt(n)&&(d*=.9999)),(d<.1&&a.charAt(h-1)===s.charAt(n+1)||s.charAt(n+1)===s.charAt(n)&&a.charAt(h-1)!==s.charAt(n))&&.1*(c=e(t,r,a,s,h+1,n+2,l))>d&&(d=.1*c),d>x&&(x=d),h=a.indexOf(p,h+1);return l[o]=x,x}(a=r&&r.length>0?`${a+" "+r.join(" ")}`:a,t,A(a),A(t),0,0,{})},$=a.createContext(void 0),G=a.createContext(void 0),q=a.createContext(void 0),K=a.forwardRef((e,t)=>{let r=ea(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=ea(()=>new Set),i=ea(()=>new Map),n=ea(()=>new Map),l=ea(()=>new Set),o=et(e),{label:d,children:c,value:u,onValueChange:m,filter:p,shouldFilter:h,loop:x,disablePointerSelection:f=!1,vimBindings:v=!0,...g}=e,j=(0,F.useId)(),y=(0,F.useId)(),b=(0,F.useId)(),C=a.useRef(null),N=en();er(()=>{if(void 0!==u){let e=u.trim();r.current.value=e,w.emit()}},[u]),er(()=>{N(6,P)},[]);let w=a.useMemo(()=>({subscribe:e=>(l.current.add(e),()=>l.current.delete(e)),snapshot:()=>r.current,setState:(e,t,a)=>{var s,i,n,l;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)I(),k(),N(1,D);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(b);e?e.focus():null==(s=document.getElementById(j))||s.focus()}if(N(7,()=>{var e;r.current.selectedItemId=null==(e=R())?void 0:e.id,w.emit()}),a||N(5,P),(null==(i=o.current)?void 0:i.value)!==void 0){null==(l=(n=o.current).onValueChange)||l.call(n,null!=t?t:"");return}}w.emit()}},emit:()=>{l.current.forEach(e=>e())}}),[]),S=a.useMemo(()=>({value:(e,t,a)=>{var s;t!==(null==(s=n.current.get(e))?void 0:s.value)&&(n.current.set(e,{value:t,keywords:a}),r.current.filtered.items.set(e,E(t,a)),N(2,()=>{k(),w.emit()}))},item:(e,t)=>(s.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),N(3,()=>{I(),k(),r.current.value||D(),w.emit()}),()=>{n.current.delete(e),s.current.delete(e),r.current.filtered.items.delete(e);let t=R();N(4,()=>{I(),(null==t?void 0:t.getAttribute("id"))===e&&D(),w.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{n.current.delete(e),i.current.delete(e)}),filter:()=>o.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:j,inputId:b,labelId:y,listInnerRef:C}),[]);function E(e,t){var a,s;let i=null!=(s=null==(a=o.current)?void 0:a.filter)?s:_;return e?i(e,r.current.search,t):0}function k(){if(!r.current.search||!1===o.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let a=i.current.get(r),s=0;a.forEach(t=>{s=Math.max(e.get(t),s)}),t.push([r,s])});let a=C.current;A().sort((t,r)=>{var a,s;let i=t.getAttribute("id"),n=r.getAttribute("id");return(null!=(a=e.get(n))?a:0)-(null!=(s=e.get(i))?s:0)}).forEach(e=>{let t=e.closest(B);t?t.appendChild(e.parentElement===t?e:e.closest(`${B} > *`)):a.appendChild(e.parentElement===a?e:e.closest(`${B} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=C.current)?void 0:t.querySelector(`${T}[${U}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function D(){let e=A().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(U);w.setState("value",t||void 0)}function I(){var e,t,a,l;if(!r.current.search||!1===o.current.shouldFilter){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let d=0;for(let i of s.current){let s=E(null!=(t=null==(e=n.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(a=n.current.get(i))?void 0:a.keywords)?l:[]);r.current.filtered.items.set(i,s),s>0&&d++}for(let[e,t]of i.current)for(let a of t)if(r.current.filtered.items.get(a)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=d}function P(){var e,t,r;let a=R();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(r=null==(t=a.closest(T))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function R(){var e;return null==(e=C.current)?void 0:e.querySelector(`${M}[aria-selected="true"]`)}function A(){var e;return Array.from((null==(e=C.current)?void 0:e.querySelectorAll(V))||[])}function L(e){let t=A()[e];t&&w.setState("value",t.getAttribute(U))}function z(e){var t;let r=R(),a=A(),s=a.findIndex(e=>e===r),i=a[s+e];null!=(t=o.current)&&t.loop&&(i=s+e<0?a[a.length-1]:s+e===a.length?a[0]:a[s+e]),i&&w.setState("value",i.getAttribute(U))}function q(e){let t=R(),r=null==t?void 0:t.closest(T),a;for(;r&&!a;)a=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,T):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,T))?void 0:r.querySelector(V);a?w.setState("value",a.getAttribute(U)):z(e)}let K=()=>L(A().length-1),W=e=>{e.preventDefault(),e.metaKey?K():e.altKey?q(1):z(1)},Q=e=>{e.preventDefault(),e.metaKey?L(0):e.altKey?q(-1):z(-1)};return a.createElement(O.Primitive.div,{ref:t,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=g.onKeyDown)||t.call(g,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":v&&e.ctrlKey&&W(e);break;case"ArrowDown":W(e);break;case"p":case"k":v&&e.ctrlKey&&Q(e);break;case"ArrowUp":Q(e);break;case"Home":e.preventDefault(),L(0);break;case"End":e.preventDefault(),K();break;case"Enter":{e.preventDefault();let t=R();if(t){let e=new Event(H);t.dispatchEvent(e)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:eo},d),el(e,e=>a.createElement(G.Provider,{value:w},a.createElement($.Provider,{value:S},e))))}),W=a.forwardRef((e,t)=>{var r,s;let i=(0,F.useId)(),n=a.useRef(null),l=a.useContext(q),o=a.useContext($),d=et(e),c=null!=(s=null==(r=d.current)?void 0:r.forceMount)?s:null==l?void 0:l.forceMount;er(()=>{if(!c)return o.item(i,null==l?void 0:l.id)},[c]);let u=ei(i,n,[e.value,e.children,n],e.keywords),m=a.useContext(G),p=es(e=>e.value&&e.value===u.current),h=es(e=>!!c||!1===o.filter()||!e.search||e.filtered.items.get(i)>0);function x(){var e,t;f(),null==(t=(e=d.current).onSelect)||t.call(e,u.current)}function f(){m.setState("value",u.current,!0)}if(a.useEffect(()=>{let t=n.current;if(!(!t||e.disabled))return t.addEventListener(H,x),()=>t.removeEventListener(H,x)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:v,value:g,onSelect:j,forceMount:y,keywords:b,...C}=e;return a.createElement(O.Primitive.div,{ref:(0,z.composeRefs)(n,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||o.getDisablePointerSelection()?void 0:f,onClick:v?void 0:x},e.children)}),Q=a.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:i,...n}=e,l=(0,F.useId)(),o=a.useRef(null),d=a.useRef(null),c=(0,F.useId)(),u=a.useContext($),m=es(e=>!!i||!1===u.filter()||!e.search||e.filtered.groups.has(l));er(()=>u.group(l),[]),ei(l,o,[e.value,e.heading,d]);let p=a.useMemo(()=>({id:l,forceMount:i}),[i]);return a.createElement(O.Primitive.div,{ref:(0,z.composeRefs)(o,t),...n,"cmdk-group":"",role:"presentation",hidden:!m||void 0},r&&a.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),el(e,e=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},a.createElement(q.Provider,{value:p},e))))}),Z=a.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,i=a.useRef(null),n=es(e=>!e.search);return r||n?a.createElement(O.Primitive.div,{ref:(0,z.composeRefs)(i,t),...s,"cmdk-separator":"",role:"separator"}):null}),J=a.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,i=null!=e.value,n=a.useContext(G),l=es(e=>e.search),o=es(e=>e.selectedItemId),d=a.useContext($);return a.useEffect(()=>{null!=e.value&&n.setState("search",e.value)},[e.value]),a.createElement(O.Primitive.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":o,id:d.inputId,type:"text",value:i?e.value:l,onChange:e=>{i||n.setState("search",e.target.value),null==r||r(e.target.value)}})}),X=a.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...i}=e,n=a.useRef(null),l=a.useRef(null),o=es(e=>e.selectedItemId),d=a.useContext($);return a.useEffect(()=>{if(l.current&&n.current){let e=l.current,t=n.current,r,a=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return a.observe(e),()=>{cancelAnimationFrame(r),a.unobserve(e)}}},[]),a.createElement(O.Primitive.div,{ref:(0,z.composeRefs)(n,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":s,id:d.listId},el(e,e=>a.createElement("div",{ref:(0,z.composeRefs)(l,d.listInnerRef),"cmdk-list-sizer":""},e)))}),Y=a.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:i,contentClassName:n,container:l,...o}=e;return a.createElement(L.Root,{open:r,onOpenChange:s},a.createElement(L.Portal,{container:l},a.createElement(L.Overlay,{"cmdk-overlay":"",className:i}),a.createElement(L.Content,{"aria-label":e.label,"cmdk-dialog":"",className:n},a.createElement(K,{ref:t,...o}))))}),ee=Object.assign(K,{List:X,Item:W,Input:J,Group:Q,Separator:Z,Dialog:Y,Empty:a.forwardRef((e,t)=>es(e=>0===e.filtered.count)?a.createElement(O.Primitive.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:a.forwardRef((e,t)=>{let{progress:r,children:s,label:i="Loading...",...n}=e;return a.createElement(O.Primitive.div,{ref:t,...n,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},el(e,e=>a.createElement("div",{"aria-hidden":!0},e)))})});function et(e){let t=a.useRef(e);return er(()=>{t.current=e}),t}var er="u"<typeof window?a.useEffect:a.useLayoutEffect;function ea(e){let t=a.useRef();return void 0===t.current&&(t.current=e()),t}function es(e){let t=a.useContext(G),r=()=>e(t.snapshot());return a.useSyncExternalStore(t.subscribe,r,r)}function ei(e,t,r,s=[]){let i=a.useRef(),n=a.useContext($);return er(()=>{var a;let l=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():i.current}})(),o=s.map(e=>e.trim());n.value(e,l,o),null==(a=t.current)||a.setAttribute(U,l),i.current=l}),i}var en=()=>{let[e,t]=a.useState(),r=ea(()=>new Map);return er(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,a)=>{r.current.set(e,a),t({})}};function el({asChild:e,children:t},r){let s;return e&&a.isValidElement(t)?a.cloneElement("function"==typeof(s=t.type)?s(t.props):"render"in s?s.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var eo={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},ed=e.i(55436),ec=e.i(75157),eu=e.i(76639);let em=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(ee,{ref:a,className:(0,ec.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));em.displayName=ee.displayName;let ep=a.forwardRef(({className:e,...t},a)=>(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(ed.Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(ee.Input,{ref:a,className:(0,ec.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ep.displayName=ee.Input.displayName;let eh=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(ee.List,{ref:a,className:(0,ec.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));eh.displayName=ee.List.displayName;let ex=a.forwardRef((e,t)=>(0,r.jsx)(ee.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ex.displayName=ee.Empty.displayName;let ef=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(ee.Group,{ref:a,className:(0,ec.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ef.displayName=ee.Group.displayName,a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(ee.Separator,{ref:a,className:(0,ec.cn)("-mx-1 h-px bg-border",e),...t})).displayName=ee.Separator.displayName;let ev=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(ee.Item,{ref:a,className:(0,ec.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));ev.displayName=ee.Item.displayName;var eg=e.i(81140),ej=e.i(30030),ey=e.i(30207),eb=e.i(26083),eC="dismissableLayer.update",eN=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ew=a.forwardRef((e,s)=>{let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:d,onDismiss:c,...u}=e,m=a.useContext(eN),[p,h]=a.useState(null),x=p?.ownerDocument??globalThis?.document,[,f]=a.useState({}),v=(0,z.useComposedRefs)(s,e=>h(e)),g=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(j),b=p?g.indexOf(p):-1,C=m.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,w=function(e,t=globalThis?.document){let r=(0,ey.useCallbackRef)(e),s=a.useRef(!1),i=a.useRef(()=>{});return a.useEffect(()=>{let e=e=>{if(e.target&&!s.current){let a=function(){eE("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=a,t.addEventListener("click",i.current,{once:!0})):a()}else t.removeEventListener("click",i.current);s.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}(e=>{let t=e.target,r=[...m.branches].some(e=>e.contains(t));N&&!r&&(l?.(e),d?.(e),e.defaultPrevented||c?.())},x),S=function(e,t=globalThis?.document){let r=(0,ey.useCallbackRef)(e),s=a.useRef(!1);return a.useEffect(()=>{let e=e=>{e.target&&!s.current&&eE("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(e=>{let t=e.target;![...m.branches].some(e=>e.contains(t))&&(o?.(e),d?.(e),e.defaultPrevented||c?.())},x);return(0,eb.useEscapeKeydown)(e=>{b===m.layers.size-1&&(n?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},x),a.useEffect(()=>{if(p)return i&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(t=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),eS(),()=>{i&&1===m.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=t)}},[p,x,i,m]),a.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),eS())},[p,m]),a.useEffect(()=>{let e=()=>f({});return document.addEventListener(eC,e),()=>document.removeEventListener(eC,e)},[]),(0,r.jsx)(O.Primitive.div,{...u,ref:v,style:{pointerEvents:C?N?"auto":"none":void 0,...e.style},onFocusCapture:(0,eg.composeEventHandlers)(e.onFocusCapture,S.onFocusCapture),onBlurCapture:(0,eg.composeEventHandlers)(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:(0,eg.composeEventHandlers)(e.onPointerDownCapture,w.onPointerDownCapture)})});function eS(){let e=new CustomEvent(eC);document.dispatchEvent(e)}function eE(e,t,r,{discrete:a}){let s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?(0,O.dispatchDiscreteCustomEvent)(s,i):s.dispatchEvent(i)}ew.displayName="DismissableLayer",a.forwardRef((e,t)=>{let s=a.useContext(eN),i=a.useRef(null),n=(0,z.useComposedRefs)(t,i);return a.useEffect(()=>{let e=i.current;if(e)return s.branches.add(e),()=>{s.branches.delete(e)}},[s.branches]),(0,r.jsx)(O.Primitive.div,{...e,ref:n})}).displayName="DismissableLayerBranch";var ek=e.i(3536),eD=e.i(65491),eI=e.i(53660),eP=e.i(74606),eR=e.i(96626),eA=e.i(91918),eL=e.i(69340),eO=e.i(86312),eF=e.i(85369),ez="Popover",[eT,eB]=(0,ej.createContextScope)(ez,[eI.createPopperScope]),eM=(0,eI.createPopperScope)(),[eV,eH]=eT(ez),eU=e=>{let{__scopePopover:t,children:s,open:i,defaultOpen:n,onOpenChange:l,modal:o=!1}=e,d=eM(t),c=a.useRef(null),[u,m]=a.useState(!1),[p,h]=(0,eL.useControllableState)({prop:i,defaultProp:n??!1,onChange:l,caller:ez});return(0,r.jsx)(eI.Root,{...d,children:(0,r.jsx)(eV,{scope:t,contentId:(0,F.useId)(),triggerRef:c,open:p,onOpenChange:h,onOpenToggle:a.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>m(!0),[]),onCustomAnchorRemove:a.useCallback(()=>m(!1),[]),modal:o,children:s})})};eU.displayName=ez;var e_="PopoverAnchor";a.forwardRef((e,t)=>{let{__scopePopover:s,...i}=e,n=eH(e_,s),l=eM(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:d}=n;return a.useEffect(()=>(o(),()=>d()),[o,d]),(0,r.jsx)(eI.Anchor,{...l,...i,ref:t})}).displayName=e_;var e$="PopoverTrigger",eG=a.forwardRef((e,t)=>{let{__scopePopover:a,...s}=e,i=eH(e$,a),n=eM(a),l=(0,z.useComposedRefs)(t,i.triggerRef),o=(0,r.jsx)(O.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":e4(i.open),...s,ref:l,onClick:(0,eg.composeEventHandlers)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:(0,r.jsx)(eI.Anchor,{asChild:!0,...n,children:o})});eG.displayName=e$;var eq="PopoverPortal",[eK,eW]=eT(eq,{forceMount:void 0}),eQ=e=>{let{__scopePopover:t,forceMount:a,children:s,container:i}=e,n=eH(eq,t);return(0,r.jsx)(eK,{scope:t,forceMount:a,children:(0,r.jsx)(eR.Presence,{present:a||n.open,children:(0,r.jsx)(eP.Portal,{asChild:!0,container:i,children:s})})})};eQ.displayName=eq;var eZ="PopoverContent",eJ=a.forwardRef((e,t)=>{let a=eW(eZ,e.__scopePopover),{forceMount:s=a.forceMount,...i}=e,n=eH(eZ,e.__scopePopover);return(0,r.jsx)(eR.Presence,{present:s||n.open,children:n.modal?(0,r.jsx)(eY,{...i,ref:t}):(0,r.jsx)(e0,{...i,ref:t})})});eJ.displayName=eZ;var eX=(0,eA.createSlot)("PopoverContent.RemoveScroll"),eY=a.forwardRef((e,t)=>{let s=eH(eZ,e.__scopePopover),i=a.useRef(null),n=(0,z.useComposedRefs)(t,i),l=a.useRef(!1);return a.useEffect(()=>{let e=i.current;if(e)return(0,eO.hideOthers)(e)},[]),(0,r.jsx)(eF.RemoveScroll,{as:eX,allowPinchZoom:!0,children:(0,r.jsx)(e1,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,eg.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||s.triggerRef.current?.focus()}),onPointerDownOutside:(0,eg.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;l.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,eg.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),e0=a.forwardRef((e,t)=>{let s=eH(eZ,e.__scopePopover),i=a.useRef(!1),n=a.useRef(!1);return(0,r.jsx)(e1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||s.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),e1=a.forwardRef((e,t)=>{let{__scopePopover:a,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...m}=e,p=eH(eZ,a),h=eM(a);return(0,ek.useFocusGuards)(),(0,r.jsx)(eD.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:n,children:(0,r.jsx)(ew,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:(0,r.jsx)(eI.Content,{"data-state":e4(p.open),role:"dialog",id:p.contentId,...h,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),e2="PopoverClose";function e4(e){return e?"open":"closed"}a.forwardRef((e,t)=>{let{__scopePopover:a,...s}=e,i=eH(e2,a);return(0,r.jsx)(O.Primitive.button,{type:"button",...s,ref:t,onClick:(0,eg.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=e2,a.forwardRef((e,t)=>{let{__scopePopover:a,...s}=e,i=eM(a);return(0,r.jsx)(eI.Arrow,{...i,...s,ref:t})}).displayName="PopoverArrow";let e5=a.forwardRef(({className:e,align:t="center",sideOffset:a=4,...s},i)=>(0,r.jsx)(eQ,{children:(0,r.jsx)(eJ,{ref:i,align:t,sideOffset:a,className:(0,ec.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));e5.displayName=eJ.displayName;var e3=e.i(75883),e6=e.i(70703),e7=e.i(87232),e9=e.i(74911),e8=e.i(1132),te=e.i(38047);let tt=(0,e6.default)(()=>e.A(14357),{loadableGenerated:{modules:[13441]},ssr:!1}),tr=e=>{if(!e)return"";try{let t=e&&e.toDate?e.toDate():new Date(e);if(isNaN(t.getTime()))return"";return t.toISOString().split("T")[0]}catch(e){return""}};e.s(["default",0,()=>{let e=(0,s.useRouter)(),t=(0,s.useParams)(),u=t?.id,{toast:D}=(0,e9.useToast)(),I=!!u,[P,R]=(0,a.useState)(I),[A,L]=(0,a.useState)(!1),[O,F]=(0,a.useState)({title:"",type:"scholarship",shortDescription:"",description:"",image:"",organizer:"",location:"",link:"",eligibility:{grades:[],requirements:[]},dates:{registrationStart:new Date,registrationEnd:new Date},prizes:{},fees:0,tags:"",status:"draft",featured:!1,seoConfig:{metaTitle:"",metaDescription:"",aiSummary:"",noIndex:!1,schemaType:"Scholarship"}}),[z,T]=(0,a.useState)([]),[B,M]=(0,a.useState)([]),[V,H]=(0,a.useState)("free"),[U,_]=(0,a.useState)(!1),[$,G]=(0,a.useState)(!1),[q,K]=(0,a.useState)({name:"",type:"school",website:""}),[W,Q]=(0,a.useState)(!1),[Z,J]=(0,a.useState)([]),[X,Y]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!1),er=(e,t)=>{F(r=>({...r,[e]:t}))},ea=(e,t)=>{F(r=>({...r,seoConfig:{...r.seoConfig||{},[e]:t}}))},es=async()=>{try{let e=await e8.settingsService.getOrganizers();T(e)}catch(e){console.error("Error fetching organizers:",e)}},ei=async()=>{try{let t=await e8.settingsService.getGrades();M(t);let r=await e8.settingsService.getOrganizers();if(T(r),u){let t=await e8.opportunitiesService.getById(u);if(t){let e=Array.isArray(t.tags)?t.tags.join(", "):t.tags||"";F({...t,tags:e}),H(t.fees&&t.fees>0?"paid":"free")}else D({title:"Error",description:"Opportunity not found",variant:"destructive"}),e.push("/admin/opportunities")}}catch(e){console.error("Error loading initial data:",e)}finally{R(!1)}u&&en(u)},en=async e=>{Y(!0);try{let t=(await te.default.getAllUsers()).filter(t=>t.appliedOpportunities?.includes(e));J(t)}catch(e){console.error("Error fetching applicants:",e)}finally{Y(!1)}};(0,a.useEffect)(()=>{ei()},[u,e,D]);let el=async()=>{if(q.name.trim()){Q(!0);try{await e8.settingsService.saveOrganizer(q),await es(),er("organizer",q.name),G(!1),K({name:"",type:"school",website:""}),D({title:"Success",description:"Organizer added and selected"})}catch(e){D({title:"Error",description:"Failed to add organizer",variant:"destructive"})}finally{Q(!1)}}},eo=async()=>{if(u){Y(!0);try{let e=await e8.opportunitiesService.syncApplicationCount(u);F(t=>({...t,applicationCount:e})),await en(u),D({title:"Counts Synced",description:`Found ${e} verified applications.`})}catch(e){console.error("Sync failed:",e),D({title:"Sync Failed",description:"Database error.",variant:"destructive"})}finally{Y(!1)}}},ed=async t=>{if(t.preventDefault(),!O.title)return void D({title:"Validation Error",description:"Title is required",variant:"destructive"});L(!0);try{let t=O.tags,r="string"==typeof t?t.split(",").map(e=>e.trim()).filter(e=>""!==e):t,{id:a,applicationCount:s,hypeCount:i,viewCount:n,shareCount:l,createdAt:o,updatedAt:d,...c}=O,m={...c,tags:r};u?(await e8.opportunitiesService.update(u,m),D({title:"Updated",description:"Opportunity updated successfully"})):(await e8.opportunitiesService.create(m),D({title:"Created",description:"Opportunity created successfully"})),e.push("/admin/opportunities")}catch(e){console.error("Error saving opportunity:",e),D({title:"Error",description:"Failed to save opportunity",variant:"destructive"})}finally{L(!1)}};return P?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsx)(f.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,r.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(y.Button,{variant:"ghost",size:"icon",onClick:()=>e.push("/admin/opportunities"),children:(0,r.jsx)(n.ArrowLeft,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold font-display",children:I?"Edit Opportunity":"Add New Opportunity"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Fill in the details below"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(y.Button,{variant:"outline",className:"gap-2",onClick:()=>{let e=O.tags,t="string"==typeof e?e.split(",").map(e=>e.trim()).filter(e=>""!==e):e,r={...O,id:u||"preview",tags:t,updatedAt:new Date};sessionStorage.setItem("opportunity_preview",JSON.stringify(r)),window.open(`/opportunities/${u||"preview"}?preview=true`,"_blank")},children:[(0,r.jsx)(o.Eye,{className:"w-4 h-4"}),"Preview"]}),(0,r.jsxs)(y.Button,{className:"gap-2",onClick:ed,disabled:A,children:[A&&(0,r.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),(0,r.jsx)(l.Save,{className:"w-4 h-4"}),I?"Update":"Save"]})]})]}),(0,r.jsxs)("form",{onSubmit:ed,className:"space-y-6",children:[(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Basic Information"})}),(0,r.jsx)(w.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(N.Label,{htmlFor:"title",children:"Title *"}),(0,r.jsx)(b.Input,{id:"title",placeholder:"e.g., Google Code-In 2024",value:O.title,onChange:e=>er("title",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"type",children:"Type *"}),(0,r.jsxs)(k.Select,{value:O.type,onValueChange:e=>er("type",e),children:[(0,r.jsx)(k.SelectTrigger,{className:"mt-1",children:(0,r.jsx)(k.SelectValue,{placeholder:"Select type"})}),(0,r.jsx)(k.SelectContent,{children:e3.OPPORTUNITY_TYPES.map(e=>(0,r.jsx)(k.SelectItem,{value:e.id,children:(0,r.jsx)("span",{className:e.color,children:e.name})},e.id))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"organizer",children:"Organizer *"}),(0,r.jsxs)("div",{className:"flex gap-2 items-start mt-1",children:[(0,r.jsxs)(eU,{open:U,onOpenChange:_,children:[(0,r.jsx)(eG,{asChild:!0,children:(0,r.jsxs)(y.Button,{variant:"outline",role:"combobox","aria-expanded":U,className:"w-full justify-between font-normal bg-muted/50 border-transparent hover:bg-muted/80",children:[O.organizer||"Select organizer...",(0,r.jsx)(x,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,r.jsx)(e5,{className:"w-[300px] p-0",children:(0,r.jsxs)(em,{children:[(0,r.jsx)(ep,{placeholder:"Search organizer..."}),(0,r.jsxs)(eh,{children:[(0,r.jsx)(ex,{children:"No organizer found."}),(0,r.jsx)(ef,{children:z.map(e=>(0,r.jsxs)(ev,{value:e.name,onSelect:e=>{er("organizer",e),_(!1)},children:[(0,r.jsx)(h.Check,{className:(0,ec.cn)("mr-2 h-4 w-4",O.organizer===e.name?"opacity-100":"opacity-0")}),e.name]},e.id))})]})]})})]}),(0,r.jsx)(y.Button,{type:"button",variant:"secondary",size:"icon",className:"shrink-0",onClick:()=>G(!0),title:"Add New Organizer",children:(0,r.jsx)(p.Plus,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium uppercase",children:"Manage in sidebar"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(N.Label,{htmlFor:"shortDescription",children:"Short Description *"}),(0,r.jsx)(C.Textarea,{id:"shortDescription",placeholder:"Brief summary (shown in cards)",value:O.shortDescription,onChange:e=>er("shortDescription",e.target.value),className:"mt-1",rows:2})]})]})})]})}),(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Details"})}),(0,r.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"pb-12",children:[(0,r.jsx)(N.Label,{htmlFor:"description",children:"Full Description"}),(0,r.jsx)("div",{className:"h-[300px] mt-1 text-black",children:(0,r.jsx)(tt,{theme:"snow",value:O.description,onChange:e=>er("description",e),className:"h-full rounded-xl overflow-hidden",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","clean"]]}})})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsx)("div",{className:"sm:col-span-2 space-y-4 pt-4 border-t",children:(0,r.jsx)(e7.default,{label:"Featured Image",value:O.image||"",onChange:e=>er("image",e)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"link",children:"Apply Link"}),(0,r.jsxs)("div",{className:"mt-1 flex gap-2",children:[(0,r.jsx)(b.Input,{id:"link",placeholder:"https://...",value:O.link,onChange:e=>er("link",e.target.value)}),(0,r.jsx)(y.Button,{type:"button",variant:"outline",size:"icon",children:(0,r.jsx)(m,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"location",children:"Location"}),(0,r.jsx)(b.Input,{id:"location",placeholder:"e.g., Online, Delhi, Pan India",value:O.location,onChange:e=>er("location",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,r.jsx)(b.Input,{id:"tags",placeholder:"e.g., coding, science, math",value:O.tags,onChange:e=>er("tags",e.target.value),className:"mt-1"})]})]})]})]})}),(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Eligibility"})}),(0,r.jsxs)(w.CardContent,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{children:"Eligible Grades"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:B.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{F(t=>({...t,eligibility:{...t.eligibility,grades:t.eligibility?.grades.includes(e)?t.eligibility.grades.filter(t=>t!==e):[...t.eligibility?.grades||[],e].sort((e,t)=>e-t)}}))},className:`px-4 py-2 rounded-lg border transition-all ${O.eligibility?.grades.includes(e)?"bg-primary text-primary-foreground border-primary":"bg-muted/50 border-border hover:border-primary/50"}`,children:["Class ",e]},e))})]}),(0,r.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 pt-6 border-t",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"maxAge",children:"Maximum Age (Optional)"}),(0,r.jsx)(b.Input,{id:"maxAge",type:"number",placeholder:"e.g., 18",value:O.eligibility?.maxAge||"",onChange:e=>er("eligibility",{...O.eligibility,maxAge:Number(e.target.value)}),className:"mt-1"})]})}),(0,r.jsxs)("div",{className:"pb-12 border-t pt-6",children:[(0,r.jsx)(N.Label,{htmlFor:"eligibilityDescription",children:"Detailed Eligibility (Entrance Rights)"}),(0,r.jsx)("div",{className:"h-[250px] mt-1 text-black",children:(0,r.jsx)(tt,{theme:"snow",value:O.eligibility?.description||"",onChange:e=>er("eligibility",{...O.eligibility,description:e}),className:"h-full rounded-xl overflow-hidden",modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Outline specific requirements, age limits, or criteria..."})})]})]})]})}),(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsxs)(w.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(c.Calendar,{className:"w-5 h-5"}),"Important Dates"]})}),(0,r.jsx)(w.CardContent,{children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"registrationStart",children:"Registration Start"}),(0,r.jsx)(b.Input,{id:"registrationStart",type:"date",value:tr(O.dates?.registrationStart),onChange:e=>er("dates",{...O.dates,registrationStart:e.target.value?new Date(e.target.value):null}),className:"mt-1"}),(0,r.jsx)(b.Input,{placeholder:"Custom text (e.g. Ongoing)",value:O.dates?.registrationStartDescription||"",onChange:e=>er("dates",{...O.dates,registrationStartDescription:e.target.value}),className:"mt-2 text-xs"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"registrationEnd",children:"Registration End *"}),(0,r.jsx)(b.Input,{id:"registrationEnd",type:"date",value:tr(O.dates?.registrationEnd),onChange:e=>er("dates",{...O.dates,registrationEnd:e.target.value?new Date(e.target.value):null}),className:"mt-1"}),(0,r.jsx)(b.Input,{placeholder:"Custom text (e.g. No deadline)",value:O.dates?.registrationEndDescription||"",onChange:e=>er("dates",{...O.dates,registrationEndDescription:e.target.value}),className:"mt-2 text-xs"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(N.Label,{htmlFor:"eventDate",children:"Event Date (Optional)"}),(0,r.jsx)(b.Input,{id:"eventDate",type:"date",value:tr(O.dates?.eventDate),onChange:e=>er("dates",{...O.dates,eventDate:e.target.value?new Date(e.target.value):null}),className:"mt-1"}),(0,r.jsx)(b.Input,{placeholder:"Custom text (e.g. January 2026)",value:O.dates?.eventDateDescription||"",onChange:e=>er("dates",{...O.dates,eventDateDescription:e.target.value}),className:"mt-2 text-xs"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Date when the exams, competition or workshop actually takes place."})]})]})})]})}),(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Prizes & Fees"})}),(0,r.jsx)(w.CardContent,{children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{children:"Fee Type"}),(0,r.jsxs)("div",{className:"flex bg-muted rounded-xl p-1 mt-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{H("free"),er("fees",0)},className:`flex-1 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${"free"===V?"bg-background shadow-sm":"text-muted-foreground"}`,children:"Free"}),(0,r.jsx)("button",{type:"button",onClick:()=>H("paid"),className:`flex-1 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${"paid"===V?"bg-background shadow-sm":"text-muted-foreground"}`,children:"Paid"})]})]}),"paid"===V&&(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"fees",children:"Registration Fee (₹\x1a₹)"}),(0,r.jsx)(b.Input,{id:"fees",type:"number",placeholder:"Amount",value:O.fees,onChange:e=>er("fees",Number(e.target.value)),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"prizeFirst",children:"1st Prize"}),(0,r.jsx)(b.Input,{id:"prizeFirst",placeholder:"e.g., ₹\x1a₹50,000",value:O.prizes?.first,onChange:e=>er("prizes",{...O.prizes,first:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"prizeSecond",children:"2nd Prize"}),(0,r.jsx)(b.Input,{id:"prizeSecond",placeholder:"e.g., ₹\x1a₹25,000",value:O.prizes?.second,onChange:e=>er("prizes",{...O.prizes,second:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"prizeThird",children:"3rd Prize"}),(0,r.jsx)(b.Input,{id:"prizeThird",placeholder:"e.g., ₹\x1a₹10,000",value:O.prizes?.third,onChange:e=>er("prizes",{...O.prizes,third:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"prizeOther",children:"Other Perks / Prizes"}),(0,r.jsx)(b.Input,{id:"prizeOther",placeholder:"e.g., Swags, Internships",value:O.prizes?.other,onChange:e=>er("prizes",{...O.prizes,other:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2 flex items-center justify-between p-4 bg-muted/30 rounded-xl border border-border/50",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(N.Label,{className:"text-sm font-bold",children:"Certificates Provided"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Students get a verified certificate"})]}),(0,r.jsx)(S.Switch,{checked:O.prizes?.certificates||!1,onCheckedChange:e=>er("prizes",{...O.prizes,certificates:e})})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2",children:[(0,r.jsxs)(N.Label,{htmlFor:"xpValue",className:"flex items-center gap-1.5",children:[(0,r.jsx)(v.Zap,{className:"w-3.5 h-3.5 text-secondary fill-secondary"}),"XP Points Awarded"]}),(0,r.jsx)(b.Input,{id:"xpValue",type:"number",placeholder:"e.g., 500",value:O.xpValue||"",onChange:e=>er("xpValue",Number(e.target.value)),className:"mt-1 font-bold text-secondary"}),(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 italic uppercase tracking-wider",children:"Redeemable with brand collaborations"})]})]})})]})}),(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,r.jsxs)(w.Card,{className:"border-primary/20 bg-primary/5",children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsxs)(w.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Sparkles,{className:"w-5 h-5 text-primary"}),"SEO & AI Discovery (GEO/AEO)"]})}),(0,r.jsx)(w.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(N.Label,{htmlFor:"metaTitle",children:"Custom Meta Title"}),(0,r.jsx)(b.Input,{id:"metaTitle",placeholder:"Leave blank to use opportunity title",value:O.seoConfig?.metaTitle||"",onChange:e=>ea("metaTitle",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(N.Label,{htmlFor:"metaDescription",children:"Meta Description"}),(0,r.jsx)(C.Textarea,{id:"metaDescription",placeholder:"Brief summary for Google results",value:O.seoConfig?.metaDescription||"",onChange:e=>ea("metaDescription",e.target.value),className:"mt-1",rows:2})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(N.Label,{htmlFor:"aiSummary",children:"AI Quick Summary (Distilled for LLMs)"}),(0,r.jsx)(C.Textarea,{id:"aiSummary",placeholder:"Factual, concise summary for ChatGPT/Gemini to cite...",value:O.seoConfig?.aiSummary||"",onChange:e=>ea("aiSummary",e.target.value),className:"mt-1",rows:3}),(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:"This version is prioritized by AI models during semantic search."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"schemaType",children:"Structured Data Type"}),(0,r.jsxs)(k.Select,{value:O.seoConfig?.schemaType||"Scholarship",onValueChange:e=>ea("schemaType",e),children:[(0,r.jsx)(k.SelectTrigger,{className:"mt-1",children:(0,r.jsx)(k.SelectValue,{})}),(0,r.jsxs)(k.SelectContent,{children:[(0,r.jsx)(k.SelectItem,{value:"Scholarship",children:"Scholarship"}),(0,r.jsx)(k.SelectItem,{value:"EducationEvent",children:"Competition/Event"}),(0,r.jsx)(k.SelectItem,{value:"Course",children:"Workshop/Course"}),(0,r.jsx)(k.SelectItem,{value:"FAQPage",children:"Help/FAQ"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{htmlFor:"canonicalUrl",children:"Canonical URL"}),(0,r.jsx)(b.Input,{id:"canonicalUrl",placeholder:"https://myark.in/...",value:O.seoConfig?.canonicalUrl||"",onChange:e=>ea("canonicalUrl",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 flex items-center justify-between p-4 bg-background rounded-xl border border-primary/10",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(N.Label,{className:"text-sm font-bold",children:"Hide from Search Engines"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sets robots to 'noindex'"})]}),(0,r.jsx)(S.Switch,{checked:O.seoConfig?.noIndex||!1,onCheckedChange:e=>ea("noIndex",e)})]})]})})]})}),(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Settings"})}),(0,r.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{children:"Status"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Control visibility of this opportunity"})]}),(0,r.jsxs)(k.Select,{value:O.status,onValueChange:e=>er("status",e),children:[(0,r.jsx)(k.SelectTrigger,{className:"w-40",children:(0,r.jsx)(k.SelectValue,{})}),(0,r.jsxs)(k.SelectContent,{children:[(0,r.jsx)(k.SelectItem,{value:"draft",children:"Draft"}),(0,r.jsx)(k.SelectItem,{value:"published",children:"Published"}),(0,r.jsx)(k.SelectItem,{value:"closed",children:"Closed"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Label,{children:"Featured"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show in featured section on homepage"})]}),(0,r.jsx)(S.Switch,{checked:O.featured,onCheckedChange:e=>er("featured",e)})]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,r.jsx)(y.Button,{type:"button",variant:"outline",onClick:()=>e.push("/admin/opportunities"),children:"Cancel"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[I&&(0,r.jsxs)(y.Button,{type:"button",variant:"destructive",className:"gap-2",onClick:()=>{confirm("Are you sure?")&&e8.opportunitiesService.delete(u).then(()=>e.push("/admin/opportunities"))},children:[(0,r.jsx)(d.Trash2,{className:"w-4 h-4"}),"Delete"]}),(0,r.jsxs)(y.Button,{type:"submit",className:"gap-2",disabled:A,children:[A&&(0,r.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),(0,r.jsx)(l.Save,{className:"w-4 h-4"}),I?"Update Opportunity":"Create Opportunity"]})]})]})]}),I&&(0,r.jsx)("div",{className:"mt-8 pt-8 border-t border-border/50",children:(0,r.jsxs)("div",{className:"glass-card p-6 rounded-2xl flex items-center justify-between bg-secondary/5 border-secondary/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 flex items-center justify-center",children:(0,r.jsx)(j.Users,{className:"w-6 h-6 text-secondary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-bold",children:"Quest Participants"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[Z.length," heroes have joined this opportunity"]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)(y.Button,{variant:"outline",onClick:eo,disabled:X,className:"border-secondary/30 text-secondary hover:bg-secondary/10",children:[X?(0,r.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):(0,r.jsx)(v.Zap,{className:"w-4 h-4 mr-2"}),"Sync DB"]}),(0,r.jsxs)(y.Button,{className:"bg-secondary hover:bg-secondary/80 text-secondary-foreground",onClick:()=>et(!0),children:[(0,r.jsx)(o.Eye,{className:"w-4 h-4 mr-2"}),"View Applicants"]})]})]})}),(0,r.jsx)(eu.Dialog,{open:ee,onOpenChange:et,children:(0,r.jsxs)(eu.DialogContent,{className:"sm:max-w-3xl max-h-[80vh] overflow-hidden flex flex-col p-0 border-secondary/20 bg-card",children:[(0,r.jsx)(eu.DialogHeader,{className:"p-6 border-b border-border/50 bg-muted/30",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(eu.DialogTitle,{className:"text-2xl font-display font-bold",children:"Quest Applicants"}),(0,r.jsxs)(eu.DialogDescription,{children:['Verified students for "',O.title,'"']})]}),(0,r.jsxs)(y.Button,{variant:"ghost",size:"sm",onClick:()=>en(u),disabled:X,className:"gap-2",children:[X?(0,r.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin"}):(0,r.jsx)(g.Sparkles,{className:"w-4 h-4"}),"Refresh"]})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-0",children:0===Z.length?(0,r.jsxs)("div",{className:"py-20 text-center",children:[(0,r.jsx)(j.Users,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"No heroes have stepped forward yet."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground/60",children:"Share this quest to attract participants!"})]}):(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"sticky top-0 bg-muted z-10",children:(0,r.jsxs)("tr",{className:"border-b border-border/50",children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Student"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Contact"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Class"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left font-bold text-muted-foreground",children:"Aura (XP)"}),(0,r.jsx)("th",{className:"px-6 py-4 text-right font-bold text-muted-foreground",children:"Action"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-border/30",children:Z.map(t=>(0,r.jsxs)("tr",{className:"transition-colors hover:bg-muted/30 group",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center font-bold text-primary border border-primary/10",children:t.name?t.name.charAt(0):"S"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-foreground",children:t.name||"Anonymous Student"}),(0,r.jsxs)("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:["Level ",t.level||1]})]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"text-foreground font-mono",children:["+91 ",t.phone]}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:t.email||"No email provided"})]}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)(E.Badge,{variant:"secondary",className:"bg-muted border-primary/10",children:["Class ",t.grade||"N/A"]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-secondary font-bold",children:[(0,r.jsx)(v.Zap,{className:"w-3.5 h-3.5 fill-current"}),t.xpPoints?.toLocaleString()]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsx)(y.Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>e.push("/admin/students"),children:"View User"})})]},t.id))})]})}),(0,r.jsx)(eu.DialogFooter,{className:"p-4 border-t border-border/50 bg-muted/10",children:(0,r.jsx)(y.Button,{variant:"ghost",onClick:()=>et(!1),children:"Close"})})]})}),(0,r.jsx)(eu.Dialog,{open:$,onOpenChange:G,children:(0,r.jsxs)(eu.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsx)(eu.DialogHeader,{children:(0,r.jsx)(eu.DialogTitle,{children:"Add New Organizer"})}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.Label,{children:"Organizer Name *"}),(0,r.jsx)(b.Input,{value:q.name,onChange:e=>K({...q,name:e.target.value}),placeholder:"e.g., Delhi Public School"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.Label,{children:"Type"}),(0,r.jsxs)(k.Select,{value:q.type,onValueChange:e=>K({...q,type:e}),children:[(0,r.jsx)(k.SelectTrigger,{children:(0,r.jsx)(k.SelectValue,{})}),(0,r.jsxs)(k.SelectContent,{children:[(0,r.jsx)(k.SelectItem,{value:"school",children:"School"}),(0,r.jsx)(k.SelectItem,{value:"government",children:"Government"}),(0,r.jsx)(k.SelectItem,{value:"ngo",children:"NGO"}),(0,r.jsx)(k.SelectItem,{value:"corporate",children:"Corporate"}),(0,r.jsx)(k.SelectItem,{value:"other",children:"Other"})]})]})]})]}),(0,r.jsxs)(eu.DialogFooter,{children:[(0,r.jsx)(y.Button,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),(0,r.jsxs)(y.Button,{onClick:el,disabled:W||!q.name.trim(),children:[W&&(0,r.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),"Add Organizer"]})]})]})})]})}],1896)}]);