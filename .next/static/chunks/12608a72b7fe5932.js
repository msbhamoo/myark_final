(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1896,e=>{"use strict";var t,r=e.i(43476),a=e.i(71645),i=e.i(18566),n=e.i(46932),s=e.i(71689),l=e.i(56909),o=e.i(86536),d=e.i(27612),c=e.i(87316),u=e.i(75254);let p=(0,u.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var m=e.i(7233),h=e.i(43531);let f=(0,u.default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var v=e.i(31278),x=e.i(39312),g=e.i(83086),y=e.i(19455),j=e.i(93479),b=e.i(24687),C=e.i(10204),w=e.i(15288),N=e.i(99375),S=e.i(67489),E=/[\\\/_+.#"@\[\(\{&]/,k=/[\\\/_+.#"@\[\(\{&]/g,I=/[\s-]/,P=/[\s-]/g;function D(e){return e.toLowerCase().replace(P," ")}var R=e.i(26999),A=e.i(48425),O=e.i(10772),L=e.i(20783),F='[cmdk-group=""]',z='[cmdk-group-items=""]',T='[cmdk-item=""]',M=`${T}:not([aria-disabled="true"])`,B="cmdk-item-select",H="data-value",V=(e,t,r)=>{var a;return a=e,function e(t,r,a,i,n,s,l){if(s===r.length)return n===t.length?1:.99;var o=`${n},${s}`;if(void 0!==l[o])return l[o];for(var d,c,u,p,m=i.charAt(s),h=a.indexOf(m,n),f=0;h>=0;)(d=e(t,r,a,i,h+1,s+1,l))>f&&(h===n?d*=1:E.test(t.charAt(h-1))?(d*=.8,(u=t.slice(n,h-1).match(k))&&n>0&&(d*=Math.pow(.999,u.length))):I.test(t.charAt(h-1))?(d*=.9,(p=t.slice(n,h-1).match(P))&&n>0&&(d*=Math.pow(.999,p.length))):(d*=.17,n>0&&(d*=Math.pow(.999,h-n))),t.charAt(h)!==r.charAt(s)&&(d*=.9999)),(d<.1&&a.charAt(h-1)===i.charAt(s+1)||i.charAt(s+1)===i.charAt(s)&&a.charAt(h-1)!==i.charAt(s))&&.1*(c=e(t,r,a,i,h+1,s+2,l))>d&&(d=.1*c),d>f&&(f=d),h=a.indexOf(m,h+1);return l[o]=f,f}(a=r&&r.length>0?`${a+" "+r.join(" ")}`:a,t,D(a),D(t),0,0,{})},_=a.createContext(void 0),U=a.createContext(void 0),G=a.createContext(void 0),$=a.forwardRef((e,t)=>{let r=et(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=et(()=>new Set),n=et(()=>new Map),s=et(()=>new Map),l=et(()=>new Set),o=X(e),{label:d,children:c,value:u,onValueChange:p,filter:m,shouldFilter:h,loop:f,disablePointerSelection:v=!1,vimBindings:x=!0,...g}=e,y=(0,O.useId)(),j=(0,O.useId)(),b=(0,O.useId)(),C=a.useRef(null),w=ei();ee(()=>{if(void 0!==u){let e=u.trim();r.current.value=e,N.emit()}},[u]),ee(()=>{w(6,D)},[]);let N=a.useMemo(()=>({subscribe:e=>(l.current.add(e),()=>l.current.delete(e)),snapshot:()=>r.current,setState:(e,t,a)=>{var i,n,s,l;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)P(),k(),w(1,I);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(b);e?e.focus():null==(i=document.getElementById(y))||i.focus()}if(w(7,()=>{var e;r.current.selectedItemId=null==(e=R())?void 0:e.id,N.emit()}),a||w(5,D),(null==(n=o.current)?void 0:n.value)!==void 0){null==(l=(s=o.current).onValueChange)||l.call(s,null!=t?t:"");return}}N.emit()}},emit:()=>{l.current.forEach(e=>e())}}),[]),S=a.useMemo(()=>({value:(e,t,a)=>{var i;t!==(null==(i=s.current.get(e))?void 0:i.value)&&(s.current.set(e,{value:t,keywords:a}),r.current.filtered.items.set(e,E(t,a)),w(2,()=>{k(),N.emit()}))},item:(e,t)=>(i.current.add(e),t&&(n.current.has(t)?n.current.get(t).add(e):n.current.set(t,new Set([e]))),w(3,()=>{P(),k(),r.current.value||I(),N.emit()}),()=>{s.current.delete(e),i.current.delete(e),r.current.filtered.items.delete(e);let t=R();w(4,()=>{P(),(null==t?void 0:t.getAttribute("id"))===e&&I(),N.emit()})}),group:e=>(n.current.has(e)||n.current.set(e,new Set),()=>{s.current.delete(e),n.current.delete(e)}),filter:()=>o.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:y,inputId:b,labelId:j,listInnerRef:C}),[]);function E(e,t){var a,i;let n=null!=(i=null==(a=o.current)?void 0:a.filter)?i:V;return e?n(e,r.current.search,t):0}function k(){if(!r.current.search||!1===o.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let a=n.current.get(r),i=0;a.forEach(t=>{i=Math.max(e.get(t),i)}),t.push([r,i])});let a=C.current;L().sort((t,r)=>{var a,i;let n=t.getAttribute("id"),s=r.getAttribute("id");return(null!=(a=e.get(s))?a:0)-(null!=(i=e.get(n))?i:0)}).forEach(e=>{let t=e.closest(z);t?t.appendChild(e.parentElement===t?e:e.closest(`${z} > *`)):a.appendChild(e.parentElement===a?e:e.closest(`${z} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=C.current)?void 0:t.querySelector(`${F}[${H}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function I(){let e=L().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(H);N.setState("value",t||void 0)}function P(){var e,t,a,l;if(!r.current.search||!1===o.current.shouldFilter){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let d=0;for(let n of i.current){let i=E(null!=(t=null==(e=s.current.get(n))?void 0:e.value)?t:"",null!=(l=null==(a=s.current.get(n))?void 0:a.keywords)?l:[]);r.current.filtered.items.set(n,i),i>0&&d++}for(let[e,t]of n.current)for(let a of t)if(r.current.filtered.items.get(a)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=d}function D(){var e,t,r;let a=R();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(r=null==(t=a.closest(F))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function R(){var e;return null==(e=C.current)?void 0:e.querySelector(`${T}[aria-selected="true"]`)}function L(){var e;return Array.from((null==(e=C.current)?void 0:e.querySelectorAll(M))||[])}function G(e){let t=L()[e];t&&N.setState("value",t.getAttribute(H))}function $(e){var t;let r=R(),a=L(),i=a.findIndex(e=>e===r),n=a[i+e];null!=(t=o.current)&&t.loop&&(n=i+e<0?a[a.length-1]:i+e===a.length?a[0]:a[i+e]),n&&N.setState("value",n.getAttribute(H))}function K(e){let t=R(),r=null==t?void 0:t.closest(F),a;for(;r&&!a;)a=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,F):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,F))?void 0:r.querySelector(M);a?N.setState("value",a.getAttribute(H)):$(e)}let q=()=>G(L().length-1),W=e=>{e.preventDefault(),e.metaKey?q():e.altKey?K(1):$(1)},Q=e=>{e.preventDefault(),e.metaKey?G(0):e.altKey?K(-1):$(-1)};return a.createElement(A.Primitive.div,{ref:t,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=g.onKeyDown)||t.call(g,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":x&&e.ctrlKey&&W(e);break;case"ArrowDown":W(e);break;case"p":case"k":x&&e.ctrlKey&&Q(e);break;case"ArrowUp":Q(e);break;case"Home":e.preventDefault(),G(0);break;case"End":e.preventDefault(),q();break;case"Enter":{e.preventDefault();let t=R();if(t){let e=new Event(B);t.dispatchEvent(e)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:es},d),en(e,e=>a.createElement(U.Provider,{value:N},a.createElement(_.Provider,{value:S},e))))}),K=a.forwardRef((e,t)=>{var r,i;let n=(0,O.useId)(),s=a.useRef(null),l=a.useContext(G),o=a.useContext(_),d=X(e),c=null!=(i=null==(r=d.current)?void 0:r.forceMount)?i:null==l?void 0:l.forceMount;ee(()=>{if(!c)return o.item(n,null==l?void 0:l.id)},[c]);let u=ea(n,s,[e.value,e.children,s],e.keywords),p=a.useContext(U),m=er(e=>e.value&&e.value===u.current),h=er(e=>!!c||!1===o.filter()||!e.search||e.filtered.items.get(n)>0);function f(){var e,t;v(),null==(t=(e=d.current).onSelect)||t.call(e,u.current)}function v(){p.setState("value",u.current,!0)}if(a.useEffect(()=>{let t=s.current;if(!(!t||e.disabled))return t.addEventListener(B,f),()=>t.removeEventListener(B,f)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:x,value:g,onSelect:y,forceMount:j,keywords:b,...C}=e;return a.createElement(A.Primitive.div,{ref:(0,L.composeRefs)(s,t),...C,id:n,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||o.getDisablePointerSelection()?void 0:v,onClick:x?void 0:f},e.children)}),q=a.forwardRef((e,t)=>{let{heading:r,children:i,forceMount:n,...s}=e,l=(0,O.useId)(),o=a.useRef(null),d=a.useRef(null),c=(0,O.useId)(),u=a.useContext(_),p=er(e=>!!n||!1===u.filter()||!e.search||e.filtered.groups.has(l));ee(()=>u.group(l),[]),ea(l,o,[e.value,e.heading,d]);let m=a.useMemo(()=>({id:l,forceMount:n}),[n]);return a.createElement(A.Primitive.div,{ref:(0,L.composeRefs)(o,t),...s,"cmdk-group":"",role:"presentation",hidden:!p||void 0},r&&a.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),en(e,e=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},a.createElement(G.Provider,{value:m},e))))}),W=a.forwardRef((e,t)=>{let{alwaysRender:r,...i}=e,n=a.useRef(null),s=er(e=>!e.search);return r||s?a.createElement(A.Primitive.div,{ref:(0,L.composeRefs)(n,t),...i,"cmdk-separator":"",role:"separator"}):null}),Q=a.forwardRef((e,t)=>{let{onValueChange:r,...i}=e,n=null!=e.value,s=a.useContext(U),l=er(e=>e.search),o=er(e=>e.selectedItemId),d=a.useContext(_);return a.useEffect(()=>{null!=e.value&&s.setState("search",e.value)},[e.value]),a.createElement(A.Primitive.input,{ref:t,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":o,id:d.inputId,type:"text",value:n?e.value:l,onChange:e=>{n||s.setState("search",e.target.value),null==r||r(e.target.value)}})}),Y=a.forwardRef((e,t)=>{let{children:r,label:i="Suggestions",...n}=e,s=a.useRef(null),l=a.useRef(null),o=er(e=>e.selectedItemId),d=a.useContext(_);return a.useEffect(()=>{if(l.current&&s.current){let e=l.current,t=s.current,r,a=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return a.observe(e),()=>{cancelAnimationFrame(r),a.unobserve(e)}}},[]),a.createElement(A.Primitive.div,{ref:(0,L.composeRefs)(s,t),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":i,id:d.listId},en(e,e=>a.createElement("div",{ref:(0,L.composeRefs)(l,d.listInnerRef),"cmdk-list-sizer":""},e)))}),Z=a.forwardRef((e,t)=>{let{open:r,onOpenChange:i,overlayClassName:n,contentClassName:s,container:l,...o}=e;return a.createElement(R.Root,{open:r,onOpenChange:i},a.createElement(R.Portal,{container:l},a.createElement(R.Overlay,{"cmdk-overlay":"",className:n}),a.createElement(R.Content,{"aria-label":e.label,"cmdk-dialog":"",className:s},a.createElement($,{ref:t,...o}))))}),J=Object.assign($,{List:Y,Item:K,Input:Q,Group:q,Separator:W,Dialog:Z,Empty:a.forwardRef((e,t)=>er(e=>0===e.filtered.count)?a.createElement(A.Primitive.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:a.forwardRef((e,t)=>{let{progress:r,children:i,label:n="Loading...",...s}=e;return a.createElement(A.Primitive.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},en(e,e=>a.createElement("div",{"aria-hidden":!0},e)))})});function X(e){let t=a.useRef(e);return ee(()=>{t.current=e}),t}var ee="u"<typeof window?a.useEffect:a.useLayoutEffect;function et(e){let t=a.useRef();return void 0===t.current&&(t.current=e()),t}function er(e){let t=a.useContext(U),r=()=>e(t.snapshot());return a.useSyncExternalStore(t.subscribe,r,r)}function ea(e,t,r,i=[]){let n=a.useRef(),s=a.useContext(_);return ee(()=>{var a;let l=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():n.current}})(),o=i.map(e=>e.trim());s.value(e,l,o),null==(a=t.current)||a.setAttribute(H,l),n.current=l}),n}var ei=()=>{let[e,t]=a.useState(),r=et(()=>new Map);return ee(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,a)=>{r.current.set(e,a),t({})}};function en({asChild:e,children:t},r){let i;return e&&a.isValidElement(t)?a.cloneElement("function"==typeof(i=t.type)?i(t.props):"render"in i?i.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var es={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},el=e.i(55436),eo=e.i(75157),ed=e.i(76639);let ec=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(J,{ref:a,className:(0,eo.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ec.displayName=J.displayName;let eu=a.forwardRef(({className:e,...t},a)=>(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(el.Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(J.Input,{ref:a,className:(0,eo.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));eu.displayName=J.Input.displayName;let ep=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(J.List,{ref:a,className:(0,eo.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ep.displayName=J.List.displayName;let em=a.forwardRef((e,t)=>(0,r.jsx)(J.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));em.displayName=J.Empty.displayName;let eh=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(J.Group,{ref:a,className:(0,eo.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));eh.displayName=J.Group.displayName,a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(J.Separator,{ref:a,className:(0,eo.cn)("-mx-1 h-px bg-border",e),...t})).displayName=J.Separator.displayName;let ef=a.forwardRef(({className:e,...t},a)=>(0,r.jsx)(J.Item,{ref:a,className:(0,eo.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));ef.displayName=J.Item.displayName;var ev=e.i(81140),ex=e.i(30030),eg=e.i(30207),ey=e.i(26083),ej="dismissableLayer.update",eb=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eC=a.forwardRef((e,i)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:d,onDismiss:c,...u}=e,p=a.useContext(eb),[m,h]=a.useState(null),f=m?.ownerDocument??globalThis?.document,[,v]=a.useState({}),x=(0,L.useComposedRefs)(i,e=>h(e)),g=Array.from(p.layers),[y]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(y),b=m?g.indexOf(m):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,w=b>=j,N=function(e,t=globalThis?.document){let r=(0,eg.useCallbackRef)(e),i=a.useRef(!1),n=a.useRef(()=>{});return a.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let a=function(){eN("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",n.current),n.current=a,t.addEventListener("click",n.current,{once:!0})):a()}else t.removeEventListener("click",n.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...p.branches].some(e=>e.contains(t));w&&!r&&(l?.(e),d?.(e),e.defaultPrevented||c?.())},f),S=function(e,t=globalThis?.document){let r=(0,eg.useCallbackRef)(e),i=a.useRef(!1);return a.useEffect(()=>{let e=e=>{e.target&&!i.current&&eN("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;![...p.branches].some(e=>e.contains(t))&&(o?.(e),d?.(e),e.defaultPrevented||c?.())},f);return(0,ey.useEscapeKeydown)(e=>{b===p.layers.size-1&&(s?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},f),a.useEffect(()=>{if(m)return n&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(t=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),ew(),()=>{n&&1===p.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=t)}},[m,f,n,p]),a.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),ew())},[m,p]),a.useEffect(()=>{let e=()=>v({});return document.addEventListener(ej,e),()=>document.removeEventListener(ej,e)},[]),(0,r.jsx)(A.Primitive.div,{...u,ref:x,style:{pointerEvents:C?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,ev.composeEventHandlers)(e.onFocusCapture,S.onFocusCapture),onBlurCapture:(0,ev.composeEventHandlers)(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:(0,ev.composeEventHandlers)(e.onPointerDownCapture,N.onPointerDownCapture)})});function ew(){let e=new CustomEvent(ej);document.dispatchEvent(e)}function eN(e,t,r,{discrete:a}){let i=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?(0,A.dispatchDiscreteCustomEvent)(i,n):i.dispatchEvent(n)}eC.displayName="DismissableLayer",a.forwardRef((e,t)=>{let i=a.useContext(eb),n=a.useRef(null),s=(0,L.useComposedRefs)(t,n);return a.useEffect(()=>{let e=n.current;if(e)return i.branches.add(e),()=>{i.branches.delete(e)}},[i.branches]),(0,r.jsx)(A.Primitive.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var eS=e.i(3536),eE=e.i(65491),ek=e.i(53660),eI=e.i(74606),eP=e.i(96626),eD=e.i(91918),eR=e.i(69340),eA=e.i(86312),eO=e.i(85369),eL="Popover",[eF,ez]=(0,ex.createContextScope)(eL,[ek.createPopperScope]),eT=(0,ek.createPopperScope)(),[eM,eB]=eF(eL),eH=e=>{let{__scopePopover:t,children:i,open:n,defaultOpen:s,onOpenChange:l,modal:o=!1}=e,d=eT(t),c=a.useRef(null),[u,p]=a.useState(!1),[m,h]=(0,eR.useControllableState)({prop:n,defaultProp:s??!1,onChange:l,caller:eL});return(0,r.jsx)(ek.Root,{...d,children:(0,r.jsx)(eM,{scope:t,contentId:(0,O.useId)(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:a.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>p(!0),[]),onCustomAnchorRemove:a.useCallback(()=>p(!1),[]),modal:o,children:i})})};eH.displayName=eL;var eV="PopoverAnchor";a.forwardRef((e,t)=>{let{__scopePopover:i,...n}=e,s=eB(eV,i),l=eT(i),{onCustomAnchorAdd:o,onCustomAnchorRemove:d}=s;return a.useEffect(()=>(o(),()=>d()),[o,d]),(0,r.jsx)(ek.Anchor,{...l,...n,ref:t})}).displayName=eV;var e_="PopoverTrigger",eU=a.forwardRef((e,t)=>{let{__scopePopover:a,...i}=e,n=eB(e_,a),s=eT(a),l=(0,L.useComposedRefs)(t,n.triggerRef),o=(0,r.jsx)(A.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":e1(n.open),...i,ref:l,onClick:(0,ev.composeEventHandlers)(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?o:(0,r.jsx)(ek.Anchor,{asChild:!0,...s,children:o})});eU.displayName=e_;var eG="PopoverPortal",[e$,eK]=eF(eG,{forceMount:void 0}),eq=e=>{let{__scopePopover:t,forceMount:a,children:i,container:n}=e,s=eB(eG,t);return(0,r.jsx)(e$,{scope:t,forceMount:a,children:(0,r.jsx)(eP.Presence,{present:a||s.open,children:(0,r.jsx)(eI.Portal,{asChild:!0,container:n,children:i})})})};eq.displayName=eG;var eW="PopoverContent",eQ=a.forwardRef((e,t)=>{let a=eK(eW,e.__scopePopover),{forceMount:i=a.forceMount,...n}=e,s=eB(eW,e.__scopePopover);return(0,r.jsx)(eP.Presence,{present:i||s.open,children:s.modal?(0,r.jsx)(eZ,{...n,ref:t}):(0,r.jsx)(eJ,{...n,ref:t})})});eQ.displayName=eW;var eY=(0,eD.createSlot)("PopoverContent.RemoveScroll"),eZ=a.forwardRef((e,t)=>{let i=eB(eW,e.__scopePopover),n=a.useRef(null),s=(0,L.useComposedRefs)(t,n),l=a.useRef(!1);return a.useEffect(()=>{let e=n.current;if(e)return(0,eA.hideOthers)(e)},[]),(0,r.jsx)(eO.RemoveScroll,{as:eY,allowPinchZoom:!0,children:(0,r.jsx)(eX,{...e,ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,ev.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||i.triggerRef.current?.focus()}),onPointerDownOutside:(0,ev.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;l.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,ev.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),eJ=a.forwardRef((e,t)=>{let i=eB(eW,e.__scopePopover),n=a.useRef(!1),s=a.useRef(!1);return(0,r.jsx)(eX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||i.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let r=t.target;i.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),eX=a.forwardRef((e,t)=>{let{__scopePopover:a,trapFocus:i,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...p}=e,m=eB(eW,a),h=eT(a);return(0,eS.useFocusGuards)(),(0,r.jsx)(eE.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:n,onUnmountAutoFocus:s,children:(0,r.jsx)(eC,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:(0,r.jsx)(ek.Content,{"data-state":e1(m.open),role:"dialog",id:m.contentId,...h,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),e0="PopoverClose";function e1(e){return e?"open":"closed"}a.forwardRef((e,t)=>{let{__scopePopover:a,...i}=e,n=eB(e0,a);return(0,r.jsx)(A.Primitive.button,{type:"button",...i,ref:t,onClick:(0,ev.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})}).displayName=e0,a.forwardRef((e,t)=>{let{__scopePopover:a,...i}=e,n=eT(a);return(0,r.jsx)(ek.Arrow,{...n,...i,ref:t})}).displayName="PopoverArrow";let e2=a.forwardRef(({className:e,align:t="center",sideOffset:a=4,...i},n)=>(0,r.jsx)(eq,{children:(0,r.jsx)(eQ,{ref:n,align:t,sideOffset:a,className:(0,eo.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));e2.displayName=eQ.displayName;var e4=e.i(75883),e5=e.i(70703),e3=e.i(87232),e7=e.i(74911),e9=e.i(1132);let e6=(0,e5.default)(()=>e.A(14357),{loadableGenerated:{modules:[13441]},ssr:!1}),e8=e=>{if(!e)return"";try{let t=e&&e.toDate?e.toDate():new Date(e);if(isNaN(t.getTime()))return"";return t.toISOString().split("T")[0]}catch(e){return""}};e.s(["default",0,()=>{let e=(0,i.useRouter)(),t=(0,i.useParams)(),u=t?.id,{toast:E}=(0,e7.useToast)(),k=!!u,[I,P]=(0,a.useState)(k),[D,R]=(0,a.useState)(!1),[A,O]=(0,a.useState)({title:"",type:"scholarship",shortDescription:"",description:"",image:"",organizer:"",location:"",link:"",eligibility:{grades:[],requirements:[]},dates:{registrationStart:new Date,registrationEnd:new Date},prizes:{},fees:0,tags:"",status:"draft",featured:!1,seoConfig:{metaTitle:"",metaDescription:"",aiSummary:"",noIndex:!1,schemaType:"Scholarship"}}),[L,F]=(0,a.useState)([]),[z,T]=(0,a.useState)([]),[M,B]=(0,a.useState)("free"),[H,V]=(0,a.useState)(!1),[_,U]=(0,a.useState)(!1),[G,$]=(0,a.useState)({name:"",type:"school",website:""}),[K,q]=(0,a.useState)(!1),W=(e,t)=>{O(r=>({...r,[e]:t}))},Q=(e,t)=>{O(r=>({...r,seoConfig:{...r.seoConfig||{},[e]:t}}))},Y=async()=>{try{let e=await e9.settingsService.getOrganizers();F(e)}catch(e){console.error("Error fetching organizers:",e)}},Z=async()=>{try{let t=await e9.settingsService.getGrades();T(t);let r=await e9.settingsService.getOrganizers();if(F(r),u){let t=await e9.opportunitiesService.getById(u);if(t){let e=Array.isArray(t.tags)?t.tags.join(", "):t.tags||"";O({...t,tags:e}),B(t.fees&&t.fees>0?"paid":"free")}else E({title:"Error",description:"Opportunity not found",variant:"destructive"}),e.push("/admin/opportunities")}}catch(e){console.error("Error loading initial data:",e)}finally{P(!1)}};(0,a.useEffect)(()=>{Z()},[u,e,E]);let J=async()=>{if(G.name.trim()){q(!0);try{await e9.settingsService.saveOrganizer(G),await Y(),W("organizer",G.name),U(!1),$({name:"",type:"school",website:""}),E({title:"Success",description:"Organizer added and selected"})}catch(e){E({title:"Error",description:"Failed to add organizer",variant:"destructive"})}finally{q(!1)}}},X=async t=>{if(t.preventDefault(),!A.title)return void E({title:"Validation Error",description:"Title is required",variant:"destructive"});R(!0);try{let t=A.tags,r="string"==typeof t?t.split(",").map(e=>e.trim()).filter(e=>""!==e):t,a={...A,tags:r};u?(await e9.opportunitiesService.update(u,a),E({title:"Updated",description:"Opportunity updated successfully"})):(await e9.opportunitiesService.create(a),E({title:"Created",description:"Opportunity created successfully"})),e.push("/admin/opportunities")}catch(e){console.error("Error saving opportunity:",e),E({title:"Error",description:"Failed to save opportunity",variant:"destructive"})}finally{R(!1)}};return I?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsx)(v.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):(0,r.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(y.Button,{variant:"ghost",size:"icon",onClick:()=>e.push("/admin/opportunities"),children:(0,r.jsx)(s.ArrowLeft,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold font-display",children:k?"Edit Opportunity":"Add New Opportunity"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Fill in the details below"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(y.Button,{variant:"outline",className:"gap-2",onClick:()=>{let e=A.tags,t="string"==typeof e?e.split(",").map(e=>e.trim()).filter(e=>""!==e):e,r={...A,id:u||"preview",tags:t,updatedAt:new Date};sessionStorage.setItem("opportunity_preview",JSON.stringify(r)),window.open(`/opportunities/${u||"preview"}?preview=true`,"_blank")},children:[(0,r.jsx)(o.Eye,{className:"w-4 h-4"}),"Preview"]}),(0,r.jsxs)(y.Button,{className:"gap-2",onClick:X,disabled:D,children:[D&&(0,r.jsx)(v.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),(0,r.jsx)(l.Save,{className:"w-4 h-4"}),k?"Update":"Save"]})]})]}),(0,r.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Basic Information"})}),(0,r.jsx)(w.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(C.Label,{htmlFor:"title",children:"Title *"}),(0,r.jsx)(j.Input,{id:"title",placeholder:"e.g., Google Code-In 2024",value:A.title,onChange:e=>W("title",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"type",children:"Type *"}),(0,r.jsxs)(S.Select,{value:A.type,onValueChange:e=>W("type",e),children:[(0,r.jsx)(S.SelectTrigger,{className:"mt-1",children:(0,r.jsx)(S.SelectValue,{placeholder:"Select type"})}),(0,r.jsx)(S.SelectContent,{children:e4.OPPORTUNITY_TYPES.map(e=>(0,r.jsx)(S.SelectItem,{value:e.id,children:(0,r.jsx)("span",{className:e.color,children:e.name})},e.id))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"organizer",children:"Organizer *"}),(0,r.jsxs)("div",{className:"flex gap-2 items-start mt-1",children:[(0,r.jsxs)(eH,{open:H,onOpenChange:V,children:[(0,r.jsx)(eU,{asChild:!0,children:(0,r.jsxs)(y.Button,{variant:"outline",role:"combobox","aria-expanded":H,className:"w-full justify-between font-normal bg-muted/50 border-transparent hover:bg-muted/80",children:[A.organizer||"Select organizer...",(0,r.jsx)(f,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,r.jsx)(e2,{className:"w-[300px] p-0",children:(0,r.jsxs)(ec,{children:[(0,r.jsx)(eu,{placeholder:"Search organizer..."}),(0,r.jsxs)(ep,{children:[(0,r.jsx)(em,{children:"No organizer found."}),(0,r.jsx)(eh,{children:L.map(e=>(0,r.jsxs)(ef,{value:e.name,onSelect:e=>{W("organizer",e),V(!1)},children:[(0,r.jsx)(h.Check,{className:(0,eo.cn)("mr-2 h-4 w-4",A.organizer===e.name?"opacity-100":"opacity-0")}),e.name]},e.id))})]})]})})]}),(0,r.jsx)(y.Button,{type:"button",variant:"secondary",size:"icon",className:"shrink-0",onClick:()=>U(!0),title:"Add New Organizer",children:(0,r.jsx)(m.Plus,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium uppercase",children:"Manage in sidebar"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(C.Label,{htmlFor:"shortDescription",children:"Short Description *"}),(0,r.jsx)(b.Textarea,{id:"shortDescription",placeholder:"Brief summary (shown in cards)",value:A.shortDescription,onChange:e=>W("shortDescription",e.target.value),className:"mt-1",rows:2})]})]})})]})}),(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Details"})}),(0,r.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"pb-12",children:[(0,r.jsx)(C.Label,{htmlFor:"description",children:"Full Description"}),(0,r.jsx)("div",{className:"h-[300px] mt-1 text-black",children:(0,r.jsx)(e6,{theme:"snow",value:A.description,onChange:e=>W("description",e),className:"h-full rounded-xl overflow-hidden",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","clean"]]}})})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsx)("div",{className:"sm:col-span-2 space-y-4 pt-4 border-t",children:(0,r.jsx)(e3.default,{label:"Featured Image",value:A.image||"",onChange:e=>W("image",e)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"link",children:"Apply Link"}),(0,r.jsxs)("div",{className:"mt-1 flex gap-2",children:[(0,r.jsx)(j.Input,{id:"link",placeholder:"https://...",value:A.link,onChange:e=>W("link",e.target.value)}),(0,r.jsx)(y.Button,{type:"button",variant:"outline",size:"icon",children:(0,r.jsx)(p,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"location",children:"Location"}),(0,r.jsx)(j.Input,{id:"location",placeholder:"e.g., Online, Delhi, Pan India",value:A.location,onChange:e=>W("location",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,r.jsx)(j.Input,{id:"tags",placeholder:"e.g., coding, science, math",value:A.tags,onChange:e=>W("tags",e.target.value),className:"mt-1"})]})]})]})]})}),(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Eligibility"})}),(0,r.jsxs)(w.CardContent,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{children:"Eligible Grades"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:z.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{O(t=>({...t,eligibility:{...t.eligibility,grades:t.eligibility?.grades.includes(e)?t.eligibility.grades.filter(t=>t!==e):[...t.eligibility?.grades||[],e].sort((e,t)=>e-t)}}))},className:`px-4 py-2 rounded-lg border transition-all ${A.eligibility?.grades.includes(e)?"bg-primary text-primary-foreground border-primary":"bg-muted/50 border-border hover:border-primary/50"}`,children:["Class ",e]},e))})]}),(0,r.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 pt-6 border-t",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"maxAge",children:"Maximum Age (Optional)"}),(0,r.jsx)(j.Input,{id:"maxAge",type:"number",placeholder:"e.g., 18",value:A.eligibility?.maxAge||"",onChange:e=>W("eligibility",{...A.eligibility,maxAge:Number(e.target.value)}),className:"mt-1"})]})}),(0,r.jsxs)("div",{className:"pb-12 border-t pt-6",children:[(0,r.jsx)(C.Label,{htmlFor:"eligibilityDescription",children:"Detailed Eligibility (Entrance Rights)"}),(0,r.jsx)("div",{className:"h-[250px] mt-1 text-black",children:(0,r.jsx)(e6,{theme:"snow",value:A.eligibility?.description||"",onChange:e=>W("eligibility",{...A.eligibility,description:e}),className:"h-full rounded-xl overflow-hidden",modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Outline specific requirements, age limits, or criteria..."})})]})]})]})}),(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsxs)(w.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(c.Calendar,{className:"w-5 h-5"}),"Important Dates"]})}),(0,r.jsx)(w.CardContent,{children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"registrationStart",children:"Registration Start"}),(0,r.jsx)(j.Input,{id:"registrationStart",type:"date",value:e8(A.dates?.registrationStart),onChange:e=>W("dates",{...A.dates,registrationStart:e.target.value?new Date(e.target.value):null}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"registrationEnd",children:"Registration End *"}),(0,r.jsx)(j.Input,{id:"registrationEnd",type:"date",value:e8(A.dates?.registrationEnd),onChange:e=>W("dates",{...A.dates,registrationEnd:e.target.value?new Date(e.target.value):null}),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(C.Label,{htmlFor:"eventDate",children:"Event Date (Optional)"}),(0,r.jsx)(j.Input,{id:"eventDate",type:"date",value:e8(A.dates?.eventDate),onChange:e=>W("dates",{...A.dates,eventDate:e.target.value?new Date(e.target.value):null}),className:"mt-1"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Date when the exams, competition or workshop actually takes place."})]})]})})]})}),(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Prizes & Fees"})}),(0,r.jsx)(w.CardContent,{children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{children:"Fee Type"}),(0,r.jsxs)("div",{className:"flex bg-muted rounded-xl p-1 mt-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{B("free"),W("fees",0)},className:`flex-1 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${"free"===M?"bg-background shadow-sm":"text-muted-foreground"}`,children:"Free"}),(0,r.jsx)("button",{type:"button",onClick:()=>B("paid"),className:`flex-1 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${"paid"===M?"bg-background shadow-sm":"text-muted-foreground"}`,children:"Paid"})]})]}),"paid"===M&&(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"fees",children:"Registration Fee (₹\x1a₹)"}),(0,r.jsx)(j.Input,{id:"fees",type:"number",placeholder:"Amount",value:A.fees,onChange:e=>W("fees",Number(e.target.value)),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"prizeFirst",children:"1st Prize"}),(0,r.jsx)(j.Input,{id:"prizeFirst",placeholder:"e.g., ₹\x1a₹50,000",value:A.prizes?.first,onChange:e=>W("prizes",{...A.prizes,first:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"prizeSecond",children:"2nd Prize"}),(0,r.jsx)(j.Input,{id:"prizeSecond",placeholder:"e.g., ₹\x1a₹25,000",value:A.prizes?.second,onChange:e=>W("prizes",{...A.prizes,second:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"prizeThird",children:"3rd Prize"}),(0,r.jsx)(j.Input,{id:"prizeThird",placeholder:"e.g., ₹\x1a₹10,000",value:A.prizes?.third,onChange:e=>W("prizes",{...A.prizes,third:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"prizeOther",children:"Other Perks / Prizes"}),(0,r.jsx)(j.Input,{id:"prizeOther",placeholder:"e.g., Swags, Internships",value:A.prizes?.other,onChange:e=>W("prizes",{...A.prizes,other:e.target.value}),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2 flex items-center justify-between p-4 bg-muted/30 rounded-xl border border-border/50",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(C.Label,{className:"text-sm font-bold",children:"Certificates Provided"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Students get a verified certificate"})]}),(0,r.jsx)(N.Switch,{checked:A.prizes?.certificates||!1,onCheckedChange:e=>W("prizes",{...A.prizes,certificates:e})})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2",children:[(0,r.jsxs)(C.Label,{htmlFor:"xpValue",className:"flex items-center gap-1.5",children:[(0,r.jsx)(x.Zap,{className:"w-3.5 h-3.5 text-secondary fill-secondary"}),"XP Points Awarded"]}),(0,r.jsx)(j.Input,{id:"xpValue",type:"number",placeholder:"e.g., 500",value:A.xpValue||"",onChange:e=>W("xpValue",Number(e.target.value)),className:"mt-1 font-bold text-secondary"}),(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 italic uppercase tracking-wider",children:"Redeemable with brand collaborations"})]})]})})]})}),(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,r.jsxs)(w.Card,{className:"border-primary/20 bg-primary/5",children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsxs)(w.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Sparkles,{className:"w-5 h-5 text-primary"}),"SEO & AI Discovery (GEO/AEO)"]})}),(0,r.jsx)(w.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(C.Label,{htmlFor:"metaTitle",children:"Custom Meta Title"}),(0,r.jsx)(j.Input,{id:"metaTitle",placeholder:"Leave blank to use opportunity title",value:A.seoConfig?.metaTitle||"",onChange:e=>Q("metaTitle",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(C.Label,{htmlFor:"metaDescription",children:"Meta Description"}),(0,r.jsx)(b.Textarea,{id:"metaDescription",placeholder:"Brief summary for Google results",value:A.seoConfig?.metaDescription||"",onChange:e=>Q("metaDescription",e.target.value),className:"mt-1",rows:2})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)(C.Label,{htmlFor:"aiSummary",children:"AI Quick Summary (Distilled for LLMs)"}),(0,r.jsx)(b.Textarea,{id:"aiSummary",placeholder:"Factual, concise summary for ChatGPT/Gemini to cite...",value:A.seoConfig?.aiSummary||"",onChange:e=>Q("aiSummary",e.target.value),className:"mt-1",rows:3}),(0,r.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:"This version is prioritized by AI models during semantic search."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"schemaType",children:"Structured Data Type"}),(0,r.jsxs)(S.Select,{value:A.seoConfig?.schemaType||"Scholarship",onValueChange:e=>Q("schemaType",e),children:[(0,r.jsx)(S.SelectTrigger,{className:"mt-1",children:(0,r.jsx)(S.SelectValue,{})}),(0,r.jsxs)(S.SelectContent,{children:[(0,r.jsx)(S.SelectItem,{value:"Scholarship",children:"Scholarship"}),(0,r.jsx)(S.SelectItem,{value:"EducationEvent",children:"Competition/Event"}),(0,r.jsx)(S.SelectItem,{value:"Course",children:"Workshop/Course"}),(0,r.jsx)(S.SelectItem,{value:"FAQPage",children:"Help/FAQ"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{htmlFor:"canonicalUrl",children:"Canonical URL"}),(0,r.jsx)(j.Input,{id:"canonicalUrl",placeholder:"https://myark.in/...",value:A.seoConfig?.canonicalUrl||"",onChange:e=>Q("canonicalUrl",e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"sm:col-span-2 flex items-center justify-between p-4 bg-background rounded-xl border border-primary/10",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(C.Label,{className:"text-sm font-bold",children:"Hide from Search Engines"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sets robots to 'noindex'"})]}),(0,r.jsx)(N.Switch,{checked:A.seoConfig?.noIndex||!1,onCheckedChange:e=>Q("noIndex",e)})]})]})})]})}),(0,r.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,r.jsxs)(w.Card,{children:[(0,r.jsx)(w.CardHeader,{children:(0,r.jsx)(w.CardTitle,{children:"Settings"})}),(0,r.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{children:"Status"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Control visibility of this opportunity"})]}),(0,r.jsxs)(S.Select,{value:A.status,onValueChange:e=>W("status",e),children:[(0,r.jsx)(S.SelectTrigger,{className:"w-40",children:(0,r.jsx)(S.SelectValue,{})}),(0,r.jsxs)(S.SelectContent,{children:[(0,r.jsx)(S.SelectItem,{value:"draft",children:"Draft"}),(0,r.jsx)(S.SelectItem,{value:"published",children:"Published"}),(0,r.jsx)(S.SelectItem,{value:"closed",children:"Closed"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Label,{children:"Featured"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show in featured section on homepage"})]}),(0,r.jsx)(N.Switch,{checked:A.featured,onCheckedChange:e=>W("featured",e)})]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,r.jsx)(y.Button,{type:"button",variant:"outline",onClick:()=>e.push("/admin/opportunities"),children:"Cancel"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k&&(0,r.jsxs)(y.Button,{type:"button",variant:"destructive",className:"gap-2",onClick:()=>{confirm("Are you sure?")&&e9.opportunitiesService.delete(u).then(()=>e.push("/admin/opportunities"))},children:[(0,r.jsx)(d.Trash2,{className:"w-4 h-4"}),"Delete"]}),(0,r.jsxs)(y.Button,{type:"submit",className:"gap-2",disabled:D,children:[D&&(0,r.jsx)(v.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),(0,r.jsx)(l.Save,{className:"w-4 h-4"}),k?"Update Opportunity":"Create Opportunity"]})]})]})]}),(0,r.jsx)(ed.Dialog,{open:_,onOpenChange:U,children:(0,r.jsxs)(ed.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsx)(ed.DialogHeader,{children:(0,r.jsx)(ed.DialogTitle,{children:"Add New Organizer"})}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C.Label,{children:"Organizer Name *"}),(0,r.jsx)(j.Input,{value:G.name,onChange:e=>$({...G,name:e.target.value}),placeholder:"e.g., Delhi Public School"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C.Label,{children:"Type"}),(0,r.jsxs)(S.Select,{value:G.type,onValueChange:e=>$({...G,type:e}),children:[(0,r.jsx)(S.SelectTrigger,{children:(0,r.jsx)(S.SelectValue,{})}),(0,r.jsxs)(S.SelectContent,{children:[(0,r.jsx)(S.SelectItem,{value:"school",children:"School"}),(0,r.jsx)(S.SelectItem,{value:"government",children:"Government"}),(0,r.jsx)(S.SelectItem,{value:"ngo",children:"NGO"}),(0,r.jsx)(S.SelectItem,{value:"corporate",children:"Corporate"}),(0,r.jsx)(S.SelectItem,{value:"other",children:"Other"})]})]})]})]}),(0,r.jsxs)(ed.DialogFooter,{children:[(0,r.jsx)(y.Button,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),(0,r.jsxs)(y.Button,{onClick:J,disabled:K||!G.name.trim(),children:[K&&(0,r.jsx)(v.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),"Add Organizer"]})]})]})})]})}],1896)}]);