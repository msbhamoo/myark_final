(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},58377,e=>{"use strict";let t=(0,e.i(75254).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>t],58377)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},45423,e=>{"use strict";let t=(0,e.i(75254).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);e.s(["Bell",()=>t],45423)},62031,e=>{"use strict";let t=(0,e.i(75254).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>t],62031)},95116,e=>{"use strict";let t=(0,e.i(75254).default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>t],95116)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},73675,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(46932),s=e.i(88653),l=e.i(18566),r=e.i(31278),n=e.i(75254);let o=(0,n.default)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var d=e.i(16715),c=e.i(83086),p=e.i(75157),m=e.i(1132),u=e.i(62475),h=e.i(3116),x=e.i(86536),g=e.i(71930),f=e.i(62031),b=e.i(58377),y=e.i(64030),v=e.i(39312),j=e.i(74911);let k={competition:{label:"Competition ðŸ†",vibe:"Win big or go home",gradient:"from-purple-500/80 via-pink-500/70 to-transparent",badge:"bg-purple-500/90 text-white",icon:y.Trophy},scholarship:{label:"Scholarship ðŸ’°",vibe:"Free money alert",gradient:"from-emerald-500/80 via-teal-500/70 to-transparent",badge:"bg-emerald-500/90 text-white",icon:c.Sparkles},olympiad:{label:"Olympiad ðŸ§ ",vibe:"Big brain energy",gradient:"from-blue-500/80 via-cyan-500/70 to-transparent",badge:"bg-blue-500/90 text-white",icon:v.Zap},workshop:{label:"Workshop ðŸ› ï¸",vibe:"Level up your skills",gradient:"from-orange-500/80 via-amber-500/70 to-transparent",badge:"bg-orange-500/90 text-white",icon:b.Flame}},N=({opportunity:e,onTap:s,isActive:l})=>{let[r,n]=(0,a.useState)(!1),{student:o,showAuthModal:d,saveOpportunity:c,unsaveOpportunity:m}=(0,u.useStudentAuth)(),{toast:y}=(0,j.useToast)(),v=k[e.type]||k.competition,N=v.icon,w=async t=>{if(t.stopPropagation(),!o)return void d({mode:"login",trigger:"save",message:"Sign in to save this W for later! ðŸ”–"});try{r?(await m(e.id),n(!1),y({title:"Removed from saves ðŸ˜¢"})):(await c(e.id),n(!0),y({title:"Saved! No cap, smart move ðŸ’¯"}))}catch{y({title:"Bruh, something went wrong ðŸ˜…",variant:"destructive"})}},S=async t=>{t.stopPropagation();let a={title:e.title,text:`Yo check this out! ${e.title} on MyArk ðŸ”¥`,url:`https://myark.in/opportunity/${e.id}`};try{navigator.share?await navigator.share(a):(await navigator.clipboard.writeText(a.url),y({title:"Link copied! Share the W ðŸ”—"}))}catch{}};return(0,t.jsxs)(i.motion.div,{className:(0,p.cn)("absolute inset-0 w-full h-full bg-background overflow-hidden","cursor-pointer select-none touch-pan-y"),onClick:s,initial:{opacity:0,scale:.95},animate:{opacity:+!!l,scale:l?1:.95},transition:{duration:.3,ease:"easeOut"},children:[(0,t.jsxs)("div",{className:"relative h-[30vh] w-full overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:e.image?`url(${e.image})`:"linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%)"}}),(0,t.jsx)("div",{className:(0,p.cn)("absolute inset-0 bg-gradient-to-t",v.gradient)}),(0,t.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-background via-background/80 to-transparent"}),(0,t.jsx)("div",{className:"absolute top-4 left-4 flex items-center gap-2",children:(0,t.jsxs)("div",{className:(0,p.cn)("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold","backdrop-blur-md shadow-lg",v.badge),children:[(0,t.jsx)(N,{className:"w-4 h-4"}),v.label]})}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-black/40 backdrop-blur-md text-white text-xs font-medium",children:[(0,t.jsx)(x.Eye,{className:"w-3.5 h-3.5"}),e.viewCount||0]}),(e.hypeCount||0)>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-orange-500/80 backdrop-blur-md text-white text-xs font-medium",children:[(0,t.jsx)(b.Flame,{className:"w-3.5 h-3.5"}),e.hypeCount]})]}),(0,t.jsxs)("div",{className:"absolute bottom-16 right-4 flex flex-col gap-2",children:[(0,t.jsx)(i.motion.button,{whileTap:{scale:.9},onClick:w,className:(0,p.cn)("p-2.5 rounded-full backdrop-blur-md shadow-lg transition-all",r?"bg-primary text-primary-foreground":"bg-black/40 text-white hover:bg-black/60"),children:(0,t.jsx)(g.Bookmark,{className:(0,p.cn)("w-5 h-5",r&&"fill-current")})}),(0,t.jsx)(i.motion.button,{whileTap:{scale:.9},onClick:S,className:"p-2.5 rounded-full bg-black/40 backdrop-blur-md text-white shadow-lg hover:bg-black/60 transition-all",children:(0,t.jsx)(f.Share2,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"absolute bottom-0 inset-x-0 h-[70vh] bg-background px-5 py-4 overflow-y-auto no-scrollbar",children:[(0,t.jsx)("h2",{className:"font-display text-xl md:text-2xl font-bold leading-tight mb-1 line-clamp-2",children:e.title}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:["by ",e.organizer||"MyArk Verified"," âœ“"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3 overflow-x-auto no-scrollbar whitespace-nowrap pb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-primary/10 text-xs",children:[(0,t.jsx)(h.Clock,{className:"w-3.5 h-3.5 text-primary"}),(0,t.jsx)("span",{className:"font-semibold text-primary",children:(e=>{if(e.dates?.registrationEndDescription)return e.dates.registrationEndDescription;if(!e.dates?.registrationEnd)return"No deadline vibes";let t=Math.ceil((new Date(e.dates.registrationEnd).getTime()-Date.now())/864e5);return t<=0?"âš ï¸ Already closed":1===t?"ðŸ”¥ Last day! GO GO GO!":t<=3?`âš¡ ${t} days - Act fast!`:t<=7?`ðŸš¨ ${t} days left`:t<=14?`ðŸ“… ${t} days - Still time`:`${t} days to apply`})(e)})]}),(0,t.jsx)("div",{className:(0,p.cn)("flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold",e.fees&&e.fees>0?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400"),children:e.fees&&e.fees>0?(0,t.jsxs)(t.Fragment,{children:["ðŸ’³ â‚¹",e.fees]}):(0,t.jsx)(t.Fragment,{children:"ðŸ†“ Free"})}),e.prizes?.first&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-500/10 text-xs font-semibold text-amber-400",children:["ðŸ† ",e.prizes.first]}),e.eligibility?.grades&&e.eligibility.grades.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-muted/50 text-xs text-muted-foreground",children:["ðŸ“š Class ",1===e.eligibility.grades.length?e.eligibility.grades[0]:`${Math.min(...e.eligibility.grades)}-${Math.max(...e.eligibility.grades)}`]})]}),(0,t.jsx)("p",{className:"text-foreground/80 text-sm leading-relaxed mb-4 text-justify",children:((e,t=80)=>{if(!e)return"No cap, this one's fire. Tap to peep the deets! ðŸ‘€";let a=e.replace(/<[^>]*>/g,""),i=(a=(a=a.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&rsquo;/g,"'").replace(/&lsquo;/g,"'").replace(/&rdquo;/g,'"').replace(/&ldquo;/g,'"').replace(/&mdash;/g,"â€”").replace(/&ndash;/g,"â€“").replace(/&hellip;/g,"...")).replace(/\s+/g," ").trim()).split(/\s+/);return i.length<=t?a:i.slice(0,t).join(" ")+"..."})(e.description||e.shortDescription)}),(e.prizes?.second||e.prizes?.third)&&(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium",children:"More prizes:"}),e.prizes?.second&&(0,t.jsxs)("span",{children:["ðŸ¥ˆ ",e.prizes.second]}),e.prizes?.third&&(0,t.jsxs)("span",{children:["ðŸ¥‰ ",e.prizes.third]})]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-4 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"ðŸ“"}),(0,t.jsx)("span",{children:e.location})]}),(0,t.jsx)("div",{className:"flex justify-center pb-2",children:(0,t.jsx)("p",{className:"text-xs text-muted-foreground animate-pulse",children:"Tap to peep full deets ðŸ‘†"})})]}),(0,t.jsx)("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 opacity-30",children:(0,t.jsx)("div",{className:"w-1 h-16 bg-white/30 rounded-full"})}),(0,t.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-30",children:(0,t.jsx)("div",{className:"w-1 h-16 bg-white/30 rounded-full"})})]})};var w=e.i(45423),S=e.i(39616);let M=(0,n.default)("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);var C=e.i(95116);let T=[{id:"all",label:"For You",icon:b.Flame,emoji:"ðŸ”¥"},{id:"scholarship",label:"Scholarships",icon:c.Sparkles,emoji:"ðŸ’°"},{id:"competition",label:"Competitions",icon:y.Trophy,emoji:"ðŸ†"},{id:"olympiad",label:"Olympiads",icon:M,emoji:"ðŸ§ "},{id:"workshop",label:"Workshops",icon:C.Wrench,emoji:"ðŸ› ï¸"}],z=({activeCategory:e,onCategoryChange:a,onNotificationsClick:s,onSettingsClick:l})=>(0,t.jsxs)(i.motion.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100},className:"fixed top-0 inset-x-0 z-50",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-background/70 backdrop-blur-xl border-b border-white/5"}),(0,t.jsxs)("div",{className:"relative px-4 pt-2 pb-3 safe-area-inset-top",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl font-display font-bold gradient-text-primary",children:"MyArk"}),(0,t.jsx)("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-bold",children:"BETA âœ¨"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(i.motion.button,{whileTap:{scale:.9},onClick:s,className:"relative p-2 rounded-full bg-muted/50 hover:bg-muted transition-colors",children:[(0,t.jsx)(w.Bell,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),(0,t.jsx)(i.motion.button,{whileTap:{scale:.9},onClick:l,className:"p-2 rounded-full bg-muted/50 hover:bg-muted transition-colors",children:(0,t.jsx)(S.Settings,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar -mx-4 px-4",children:T.map(s=>{let l=e===s.id,r=s.icon;return(0,t.jsxs)(i.motion.button,{whileTap:{scale:.95},onClick:()=>a(s.id),className:(0,p.cn)("flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all",l?"bg-primary text-primary-foreground shadow-lg glow-primary":"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground"),children:[l?(0,t.jsx)("span",{className:"text-base",children:s.emoji}):(0,t.jsx)(r,{className:"w-4 h-4"}),s.label]},s.id)})})]})]}),A=(0,n.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),q=(0,n.default)("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var E=e.i(84614);let $=[{id:"home",label:"Home",icon:A,path:"/"},{id:"explore",label:"Explore",icon:e.i(55436).Search,path:"/explore"},{id:"discover",label:"Swipe",icon:q,path:"/beta"},{id:"profile",label:"You",icon:E.User,path:"/profile",requiresAuth:!0}],B=({activeTab:e="discover"})=>{let a=(0,l.useRouter)(),{student:s,showAuthModal:r}=(0,u.useStudentAuth)();return(0,t.jsxs)(i.motion.nav,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100,delay:.2},className:"fixed bottom-0 inset-x-0 z-50",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-xl border-t border-white/5"}),(0,t.jsx)("div",{className:"relative flex items-center justify-around px-4 py-3 safe-area-inset-bottom",children:$.map(l=>{let n=e===l.id,o=l.icon;return(0,t.jsxs)(i.motion.button,{whileTap:{scale:.9},onClick:()=>{l.requiresAuth&&!s?r({mode:"login",trigger:"profile",message:"Sign in to access your profile and saved stuff! ðŸ’ª",onSuccess:()=>a.push(l.path)}):a.push(l.path)},className:(0,p.cn)("flex flex-col items-center gap-1 px-4 py-1 rounded-xl transition-all",n&&"text-primary"),children:[(0,t.jsxs)("div",{className:(0,p.cn)("relative p-2 rounded-xl transition-all",n&&"bg-primary/20"),children:[(0,t.jsx)(o,{className:(0,p.cn)("w-5 h-5 transition-all",n?"text-primary":"text-muted-foreground")}),n&&(0,t.jsx)(i.motion.div,{layoutId:"activeNavIndicator",className:"absolute inset-0 bg-primary/20 rounded-xl",initial:!1,transition:{type:"spring",stiffness:400,damping:30}})]}),(0,t.jsx)("span",{className:(0,p.cn)("text-[10px] font-bold transition-all",n?"text-primary":"text-muted-foreground"),children:l.label})]},l.id)})})]})},O={all:"Nothing here yet fam ðŸ˜¢ Check back later!",scholarship:"No scholarship bags rn... More dropping soon! ðŸ’°",competition:"No competitions atm... Stay tuned for the next W! ðŸ†",olympiad:"Olympiad szn coming soon... Big brain time! ðŸ§ ",workshop:"No workshops live rn... Skill up loading... ðŸ› ï¸"},W=()=>{let e=(0,l.useRouter)(),{student:n,showAuthModal:h}=(0,u.useStudentAuth)(),[x,g]=(0,a.useState)([]),[f,b]=(0,a.useState)({}),[y,v]=(0,a.useState)(!0),[j,k]=(0,a.useState)(null),[w,S]=(0,a.useState)("all"),[M,C]=(0,a.useState)(0),[T,A]=(0,a.useState)(null),q=["all","scholarship","competition","olympiad","workshop"],E="all"===w?x:f[w]||[],$=E[M],W=(0,a.useCallback)(async()=>{try{v(!0),k(null);let e=(await m.opportunitiesService.getAll({status:"published"})).sort((e,t)=>e.featured&&!t.featured?-1:!e.featured&&t.featured?1:new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());g(e);let t={};e.forEach(e=>{let a=e.type||"other";t[a]||(t[a]=[]),t[a].push(e)}),b(t)}catch(e){console.error("Error fetching opportunities:",e),k("Oof, couldn't load the content. Try again? ðŸ˜…")}finally{v(!1)}},[]);(0,a.useEffect)(()=>{W()},[W]),(0,a.useEffect)(()=>{C(0),A(null)},[w]);let F=(0,a.useCallback)(()=>{if($){if(!n)return void h({mode:"login",trigger:"apply",message:"Sign in to peep the full deets! ðŸ‘€",onSuccess:()=>e.push(`/opportunity/${$.id}`)});e.push(`/opportunity/${$.id}`)}},[$,n,h,e]),L=(0,a.useCallback)(e=>{"up"===e&&M<E.length-1?(A("up"),C(e=>e+1)):"down"===e&&M>0&&(A("down"),C(e=>e-1))},[M,E.length]),D=(0,a.useCallback)(e=>{let t=q.indexOf(w);"left"===e&&t<q.length-1?S(q[t+1]):"right"===e&&t>0&&S(q[t-1])},[w]),R=(0,a.useCallback)((e,t)=>{let{offset:a,velocity:i}=t;Math.abs(a.x)>Math.abs(a.y)?(Math.abs(a.x)>50||Math.abs(i.x)>300)&&D(a.x<0?"left":"right"):(Math.abs(a.y)>50||Math.abs(i.y)>300)&&L(a.y<0?"up":"down")},[D,L]);return y?(0,t.jsxs)("div",{className:"fixed inset-0 bg-background flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)(i.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,t.jsx)(r.Loader2,{className:"w-12 h-12 text-primary"})}),(0,t.jsx)(i.motion.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-muted-foreground font-medium",children:"Loading the vibes..."})]}):j?(0,t.jsxs)("div",{className:"fixed inset-0 bg-background flex flex-col items-center justify-center gap-4 px-6 text-center",children:[(0,t.jsx)(o,{className:"w-16 h-16 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:j}),(0,t.jsxs)(i.motion.button,{whileTap:{scale:.95},onClick:W,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-full font-bold",children:[(0,t.jsx)(d.RefreshCw,{className:"w-4 h-4"}),"Try Again"]})]}):0===E.length?(0,t.jsxs)("div",{className:"fixed inset-0 bg-background",children:[(0,t.jsx)(z,{activeCategory:w,onCategoryChange:S}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 px-6 text-center",children:[(0,t.jsx)(i.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10},children:(0,t.jsx)(c.Sparkles,{className:"w-20 h-20 text-muted-foreground"})}),(0,t.jsx)("p",{className:"text-xl font-bold",children:O[w]||O.all}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Swipe left/right to check other categories âœ¨"})]}),(0,t.jsx)(B,{activeTab:"discover"})]}):(0,t.jsxs)("div",{className:"fixed inset-0 bg-background overflow-hidden",children:[(0,t.jsx)(z,{activeCategory:w,onCategoryChange:S}),(0,t.jsxs)(i.motion.div,{className:"absolute inset-0 pt-24 pb-20",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.2,onDragEnd:R,children:[(0,t.jsx)(s.AnimatePresence,{mode:"wait",custom:T,children:$&&(0,t.jsx)(i.motion.div,{custom:T,variants:{enter:e=>({y:"up"===e?"100%":"down"===e?"-100%":0,opacity:0}),center:{y:0,opacity:1},exit:e=>({y:"up"===e?"-100%":"down"===e?"100%":0,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{y:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute inset-0",children:(0,t.jsx)(N,{opportunity:$,onTap:F,isActive:!0})},`${w}-${$.id}`)}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 z-10",children:[E.slice(0,Math.min(5,E.length)).map((e,a)=>(0,t.jsx)("div",{className:(0,p.cn)("h-1 rounded-full transition-all duration-300",a===M%5?"w-6 bg-primary":"w-1.5 bg-muted-foreground/30")},a)),E.length>5&&(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground ml-1",children:["+",E.length-5]})]}),0===M&&(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:1},className:"absolute bottom-24 inset-x-0 flex justify-center pointer-events-none",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 text-muted-foreground/60",children:[(0,t.jsx)(i.motion.div,{animate:{y:[0,-8,0]},transition:{duration:1.5,repeat:1/0},children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M12 19V5M5 12l7-7 7 7"})})}),(0,t.jsx)("span",{className:"text-xs",children:"Swipe up for more"})]})})]}),(0,t.jsx)("div",{className:"absolute top-24 right-4 z-10",children:(0,t.jsxs)("div",{className:"px-2.5 py-1 bg-black/40 backdrop-blur-md rounded-full text-white text-xs font-bold",children:[M+1," / ",E.length]})}),(0,t.jsx)(B,{activeTab:"discover"})]})},F=()=>(0,t.jsx)("div",{className:"fixed inset-0 bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:"Loading the vibes..."})]})});function L(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(F,{}),children:(0,t.jsx)(W,{})})}e.s(["default",()=>L],73675)}]);