(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},72299,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(51718);var i=e.i(6973);e.i(36180);var a=e.i(98925),s=e.i(59141);let n=(0,r.createContext)(void 0);e.s(["AuthProvider",0,({children:e})=>{let[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[d,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=(0,i.onAuthStateChanged)(s.auth,async e=>{if(e)try{let t=await (0,a.getDoc)((0,a.doc)(s.db,"admins",e.uid));if(t.exists()){let r=t.data();l({uid:e.uid,email:e.email,displayName:e.displayName||r.name||"Admin",role:r.role||"admin"})}else l(null),await (0,i.signOut)(s.auth)}catch(e){console.error("Error checking admin status:",e),l(null)}else l(null);u(!1)});return()=>e()},[]);let m=async(e,t)=>{p(null),u(!0);try{let r=await (0,i.signInWithEmailAndPassword)(s.auth,e,t),n=await (0,a.getDoc)((0,a.doc)(s.db,"admins",r.user.uid));if(!n.exists())return await (0,i.signOut)(s.auth),p("You do not have admin access."),u(!1),!1;let o=n.data();return l({uid:r.user.uid,email:r.user.email,displayName:r.user.displayName||o.name||"Admin",role:o.role||"admin"}),u(!1),!0}catch(e){return p(e instanceof Error?e.message:"Failed to sign in"),u(!1),!1}},h=async()=>{await (0,i.signOut)(s.auth),l(null)};return(0,t.jsxs)(n.Provider,{value:{user:o,loading:c,error:d,signIn:m,signOut:h,isAdmin:!!o},children:[" ",e," "]})},"useAuth",0,()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}])},8402,e=>{"use strict";let t=(0,e.i(75254).default)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);e.s(["Ticket",()=>t],8402)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},1960,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(46932),a=e.i(88653);let s=["#00E5CC","#FF6B47","#FFD93D","#6BCB77","#4D96FF"];e.s(["default",0,({isActive:e,duration:n=3e3})=>{let[o,l]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(e){l(Array.from({length:50},(e,t)=>({id:t,x:100*Math.random(),color:s[Math.floor(Math.random()*s.length)],delay:.5*Math.random(),rotation:360*Math.random()})));let e=setTimeout(()=>l([]),n);return()=>clearTimeout(e)}},[e,n]),(0,t.jsx)(a.AnimatePresence,{children:o.map(e=>(0,t.jsx)(i.motion.div,{className:"fixed pointer-events-none z-50",style:{left:`${e.x}%`,top:-20},initial:{y:0,opacity:1,rotate:0},animate:{y:window.innerHeight+100,opacity:[1,1,0],rotate:e.rotation+720},exit:{opacity:0},transition:{duration:2.5,delay:e.delay,ease:"easeOut"},children:(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:e.color}})},e.id))})}])},43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},96626,e=>{"use strict";var t=e.i(71645),r=e.i(20783),i=e.i(34620),a=e=>{var a;let n,o,{present:l,children:c}=e,u=function(e){var r,a;let[n,o]=t.useState(),l=t.useRef(null),c=t.useRef(e),u=t.useRef("none"),[d,p]=(r=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>a[e][t]??e,r));return t.useEffect(()=>{let e=s(l.current);u.current="mounted"===d?e:"none"},[d]),(0,i.useLayoutEffect)(()=>{let t=l.current,r=c.current;if(r!==e){let i=u.current,a=s(t);e?p("MOUNT"):"none"===a||t?.display==="none"?p("UNMOUNT"):r&&i!==a?p("ANIMATION_OUT"):p("UNMOUNT"),c.current=e}},[e,p]),(0,i.useLayoutEffect)(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let i=s(l.current).includes(r.animationName);if(r.target===n&&i&&(p("ANIMATION_END"),!c.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},i=e=>{e.target===n&&(u.current=s(l.current))};return n.addEventListener("animationstart",i),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",i),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:t.useCallback(e=>{l.current=e?getComputedStyle(e):null,o(e)},[])}}(l),d="function"==typeof c?c({present:u.isPresent}):t.Children.only(c),p=(0,r.useComposedRefs)(u.ref,(a=d,(o=(n=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?a.ref:(o=(n=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?a.props.ref:a.props.ref||a.ref));return"function"==typeof c||u.isPresent?t.cloneElement(d,{ref:p}):null};function s(e){return e?.animationName||"none"}a.displayName="Presence",e.s(["Presence",()=>a])},39312,e=>{"use strict";let t=(0,e.i(75254).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],39312)},38047,e=>{"use strict";e.i(36180);var t=e.i(98925),r=e.i(59141);let i="studentUsers",a="studentSessions";async function s(e){let t=new TextEncoder().encode(e+"myark_salt_2026");return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}async function n(e,t){return await s(e)===t}let o={async register(e,a){try{let n=e.replace(/\D/g,"");if(10!==n.length)return{success:!1,error:"Please enter a valid 10-digit mobile number",errorCode:"INVALID_PHONE"};if(!/^\d{4}$/.test(a))return{success:!1,error:"PIN must be 4 digits",errorCode:"INVALID_PIN"};let o=(0,t.query)((0,t.collection)(r.db,i),(0,t.where)("phone","==",n));if(!(await (0,t.getDocs)(o)).empty)return{success:!1,error:"This number is already registered. Try logging in!",errorCode:"PHONE_EXISTS"};let l=await s(a),c=`user_${n}_${Date.now()}`,u=new Date,d={id:c,phone:n,xpPoints:50,level:1,streakDays:1,badges:["early_bird"],interests:[],appliedOpportunities:[],savedOpportunities:[],isVerified:!0,isBlocked:!1,failedLoginAttempts:0,lastLoginAt:u,createdAt:u,createdVia:"web"};await (0,t.setDoc)((0,t.doc)(r.db,i,c),{...d,pinHash:l,createdAt:t.Timestamp.fromDate(u),lastLoginAt:t.Timestamp.fromDate(u)});let p=await this.createSession(c);return{success:!0,user:d,session:p}}catch(e){return console.error("Registration error:",e),{success:!1,error:"Something went wrong. Please try again!"}}},async login(e,a){try{let s=e.replace(/\D/g,"");if(10!==s.length)return{success:!1,error:"Please enter a valid 10-digit mobile number",errorCode:"INVALID_PHONE"};let o=(0,t.query)((0,t.collection)(r.db,i),(0,t.where)("phone","==",s)),l=await (0,t.getDocs)(o);if(l.empty)return{success:!1,error:"No account found with this number. Want to register?",errorCode:"USER_NOT_FOUND"};let c=l.docs[0],u=c.data();if(u.isBlocked)return{success:!1,error:"Your account has been blocked. Contact support for help.",errorCode:"BLOCKED"};let d=await this.checkRateLimit(u);if(!d.allowed){let e=Math.ceil((d.lockoutUntil.getTime()-Date.now())/6e4);return{success:!1,error:`Too many attempts! Take a break for ${e} min â˜•`,errorCode:"RATE_LIMITED"}}if(!await n(a,u.pinHash)){await this.incrementFailedAttempts(c.id);let e=5-(u.failedLoginAttempts+1);return{success:!1,error:e>0?`Wrong PIN! ${e} attempts left ðŸŽ¯`:"Wrong PIN! Account locked for 5 minutes.",errorCode:"WRONG_PIN"}}let p=function(e,t){if(!e)return 1;let r=new Date,i=new Date(e);i.setHours(0,0,0,0);let a=new Date(r);a.setHours(0,0,0,0);let s=Math.round((a.getTime()-i.getTime())/864e5);return 1===s?t+1:s>1?1:t||1}(u.lastLoginAt?.toDate(),u.streakDays||0);await (0,t.updateDoc)((0,t.doc)(r.db,i,c.id),{failedLoginAttempts:0,lastLoginAt:t.Timestamp.now(),streakDays:p,xpPoints:(0,t.increment)(10)});let m=await this.createSession(c.id),h={id:c.id,phone:u.phone,name:u.name,grade:u.grade,school:u.school,city:u.city,state:u.state,profilePicture:u.profilePicture,gender:u.gender,interests:u.interests||[],appliedOpportunities:u.appliedOpportunities||[],savedOpportunities:u.savedOpportunities||[],xpPoints:(u.xpPoints||0)+10,level:u.level||1,streakDays:p,badges:u.badges||[],isVerified:u.isVerified||!0,isBlocked:!1,failedLoginAttempts:0,lastLoginAt:new Date,createdAt:u.createdAt?.toDate()||new Date,createdVia:u.createdVia||"web"};return{success:!0,user:h,session:m}}catch(e){return console.error("Login error:",e),{success:!1,error:"Something went wrong. Please try again!"}}},async createSession(e){let i,s,n,{device:o,browser:l}=(i=navigator.userAgent,s="Unknown Device",n="Unknown Browser",/iPhone/i.test(i)?s="iPhone":/iPad/i.test(i)?s="iPad":/Android/i.test(i)?s="Android":/Windows/i.test(i)?s="Windows":/Mac/i.test(i)?s="Mac":/Linux/i.test(i)&&(s="Linux"),/Chrome/i.test(i)&&!/Edg/i.test(i)?n="Chrome":/Safari/i.test(i)&&!/Chrome/i.test(i)?n="Safari":/Firefox/i.test(i)?n="Firefox":/Edg/i.test(i)&&(n="Edge"),{device:s,browser:n}),c=`session_${e}_${Date.now()}`,u=new Date,d={id:c,userId:e,device:o,browser:l,createdAt:u,lastActiveAt:u,isActive:!0};return await (0,t.setDoc)((0,t.doc)(r.db,a,c),{...d,createdAt:t.Timestamp.fromDate(u),lastActiveAt:t.Timestamp.fromDate(u)}),localStorage.setItem("myark_session",c),localStorage.setItem("myark_user_id",e),d},async validateSession(e){try{let s=await (0,t.getDoc)((0,t.doc)(r.db,a,e));if(!s.exists())return null;let n=s.data();if(!n.isActive)return null;let o=n.createdAt?.toDate()||new Date,l=new Date(o.getTime()+2592e6);if(new Date>l)return await this.terminateSession(e),null;let c=await (0,t.getDoc)((0,t.doc)(r.db,i,n.userId));if(!c.exists())return null;let u=c.data();if(u.isBlocked)return null;return await (0,t.updateDoc)((0,t.doc)(r.db,a,e),{lastActiveAt:t.Timestamp.now()}),{id:c.id,phone:u.phone,name:u.name,grade:u.grade,school:u.school,city:u.city,state:u.state,profilePicture:u.profilePicture,gender:u.gender,interests:u.interests||[],appliedOpportunities:u.appliedOpportunities||[],savedOpportunities:u.savedOpportunities||[],xpPoints:u.xpPoints||0,level:u.level||1,streakDays:u.streakDays||0,badges:u.badges||[],isVerified:u.isVerified||!0,isBlocked:!1,failedLoginAttempts:0,lastLoginAt:u.lastLoginAt?.toDate(),createdAt:u.createdAt?.toDate()||new Date,createdVia:u.createdVia||"web"}}catch(e){return console.error("Session validation error:",e),null}},async terminateSession(e){try{await (0,t.updateDoc)((0,t.doc)(r.db,a,e),{isActive:!1})}catch(e){console.error("Session termination error:",e)}},async logout(){let e=localStorage.getItem("myark_session");e&&await this.terminateSession(e),localStorage.removeItem("myark_session"),localStorage.removeItem("myark_user_id")},async checkRateLimit(e){let t=e.failedLoginAttempts||0,r=e.lastFailedAttempt?.toDate();if(t>=5&&r){let e=new Date(r.getTime()+3e5);if(new Date<e)return{allowed:!1,remainingAttempts:0,lockoutUntil:e}}return{allowed:!0,remainingAttempts:5-t}},async incrementFailedAttempts(e){await (0,t.updateDoc)((0,t.doc)(r.db,i,e),{failedLoginAttempts:(0,t.increment)(1),lastFailedAttempt:t.Timestamp.now()})},async getAllUsers(e){try{let a=(0,t.collection)(r.db,i),s=(await (0,t.getDocs)(a)).docs.map(e=>{let t=e.data();return{id:e.id,phone:t.phone,name:t.name,grade:t.grade,school:t.school,city:t.city,xpPoints:t.xpPoints||0,level:t.level||1,streakDays:t.streakDays||0,badges:t.badges||[],isVerified:t.isVerified||!0,isBlocked:t.isBlocked||!1,blockReason:t.blockReason,failedLoginAttempts:t.failedLoginAttempts||0,lastLoginAt:t.lastLoginAt?.toDate(),lastFailedAttempt:t.lastFailedAttempt?.toDate(),createdAt:t.createdAt?.toDate()||new Date,createdVia:t.createdVia||"web",personaGoal:t.personaGoal,competitiveness:t.competitiveness,weeklyTimeCommitment:t.weeklyTimeCommitment,deliveryPreference:t.deliveryPreference,interests:t.interests||[],appliedOpportunities:t.appliedOpportunities||[],savedOpportunities:t.savedOpportunities||[],email:t.email}});if(e?.search){let t=e.search.toLowerCase();s=s.filter(e=>e.phone.includes(t)||e.name?.toLowerCase().includes(t))}return e?.blocked!==void 0&&(s=s.filter(t=>t.isBlocked===e.blocked)),s.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}catch(e){return console.error("Error fetching users:",e),[]}},async getUserSessions(e){try{let i=(0,t.query)((0,t.collection)(r.db,a),(0,t.where)("userId","==",e));return(await (0,t.getDocs)(i)).docs.map(e=>{let t=e.data();return{id:e.id,userId:t.userId,device:t.device,browser:t.browser,createdAt:t.createdAt?.toDate()||new Date,lastActiveAt:t.lastActiveAt?.toDate()||new Date,isActive:t.isActive}}).sort((e,t)=>t.lastActiveAt.getTime()-e.lastActiveAt.getTime())}catch(e){return console.error("Error fetching sessions:",e),[]}},async blockUser(e,a){for(let s of(await (0,t.updateDoc)((0,t.doc)(r.db,i,e),{isBlocked:!0,blockReason:a}),await this.getUserSessions(e)))await this.terminateSession(s.id)},async unblockUser(e){await (0,t.updateDoc)((0,t.doc)(r.db,i,e),{isBlocked:!1,blockReason:null,failedLoginAttempts:0})},async resetUserPin(e,a){let n=await s(a);await (0,t.updateDoc)((0,t.doc)(r.db,i,e),{pinHash:n,failedLoginAttempts:0})},async terminateAllUserSessions(e){for(let t of(await this.getUserSessions(e)))await this.terminateSession(t.id)},async updateUserXP(e,a){await (0,t.updateDoc)((0,t.doc)(r.db,i,e),{xpPoints:(0,t.increment)(a)})},async updateProfile(e,a){let s=["name","profilePicture","grade","school","city","state","gender","interests","personaGoal","competitiveness","weeklyTimeCommitment","deliveryPreference","badges"],n={};for(let[e,t]of Object.entries(a))s.includes(e)&&void 0!==t&&(n[e]=t);Object.keys(n).length>0&&await (0,t.updateDoc)((0,t.doc)(r.db,i,e),n)},async saveOpportunity(a,s){let{arrayUnion:n}=await e.A(27510);await (0,t.updateDoc)((0,t.doc)(r.db,i,a),{savedOpportunities:n(s),xpPoints:(0,t.increment)(5)})},async unsaveOpportunity(a,s){let{arrayRemove:n}=await e.A(27510);await (0,t.updateDoc)((0,t.doc)(r.db,i,a),{savedOpportunities:n(s)})},async applyToOpportunity(a,s){let{arrayUnion:n}=await e.A(27510),o=(0,t.doc)(r.db,i,a),l=(0,t.doc)(r.db,"opportunities",s);await (0,t.updateDoc)(o,{appliedOpportunities:n(s),xpPoints:(0,t.increment)(40)}),await (0,t.updateDoc)(l,{applicationCount:(0,t.increment)(1)})},async addProfileXP(e,a){await (0,t.updateDoc)((0,t.doc)(r.db,i,e),{xpPoints:(0,t.increment)(a)})}};e.s(["default",0,o,"studentAuthService",0,o])},83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},90597,e=>{"use strict";let t=(0,e.i(75254).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);e.s(["Heart",()=>t],90597)},62475,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(38047);let a=(0,r.createContext)(void 0);e.s(["StudentAuthProvider",0,({children:e})=>{let[s,n]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("myark_session");if(e){let t=await i.studentAuthService.validateSession(e);t?n(t):(localStorage.removeItem("myark_session"),localStorage.removeItem("myark_user_id"))}}catch(e){console.error("Session check error:",e)}finally{l(!1)}})()},[]);let m=(0,r.useCallback)(e=>{p(e||{mode:"login"}),u(!0)},[]),h=(0,r.useCallback)(()=>{u(!1),d?.onClose?.(),setTimeout(()=>p(null),300)},[d]),f=(0,r.useCallback)(async(e,t)=>{let r=await i.studentAuthService.login(e,t);return r.success&&r.user&&(n(r.user),h(),d?.onSuccess?.()),r},[h,d]),y=(0,r.useCallback)(async(e,t)=>{let r=await i.studentAuthService.register(e,t);return r.success&&r.user&&(n(r.user),h(),d?.onSuccess?.()),r},[h,d]),g=(0,r.useCallback)(async()=>{await i.studentAuthService.logout(),n(null)},[]),w=(0,r.useCallback)(async()=>{let e=localStorage.getItem("myark_session");if(e){let t=await i.studentAuthService.validateSession(e);t&&n(t)}},[]),v=(0,r.useCallback)(e=>{s&&n(t=>t?{...t,xpPoints:t.xpPoints+e}:null)},[s]),A=(0,r.useCallback)(async e=>{if(s){n(t=>t?{...t,...e}:null);try{await i.studentAuthService.updateProfile(s.id,e)}catch(e){throw console.error("Failed to update profile:",e),await w(),e}}},[s,w]),k=(0,r.useCallback)(async e=>{if(s){n(t=>t?{...t,savedOpportunities:[...t.savedOpportunities||[],e],xpPoints:t.xpPoints+5}:null);try{await i.studentAuthService.saveOpportunity(s.id,e)}catch(e){console.error("Failed to save opportunity:",e),await w()}}},[s,w]),b=(0,r.useCallback)(async e=>{if(s){n(t=>t?{...t,savedOpportunities:(t.savedOpportunities||[]).filter(t=>t!==e)}:null);try{await i.studentAuthService.unsaveOpportunity(s.id,e)}catch(e){console.error("Failed to unsave opportunity:",e),await w()}}},[s,w]),D=(0,r.useCallback)(async e=>{if(s){n(t=>t?{...t,appliedOpportunities:[...t.appliedOpportunities||[],e],xpPoints:t.xpPoints+40}:null);try{await i.studentAuthService.applyToOpportunity(s.id,e)}catch(e){console.error("Failed to apply to opportunity:",e),await w()}}},[s,w]),P=(0,r.useCallback)(async e=>{if(s){n(t=>t?{...t,xpPoints:t.xpPoints+e}:null);try{await i.studentAuthService.addProfileXP(s.id,e)}catch(e){console.error("Failed to add XP:",e),await w()}}},[s,w]);return(0,t.jsx)(a.Provider,{value:{student:s,loading:o,isAuthenticated:!!s,authModalOpen:c,authModalOptions:d,showAuthModal:m,hideAuthModal:h,login:f,register:y,logout:g,refreshUser:w,addXP:v,updateStudent:A,saveOpportunity:k,unsaveOpportunity:b,applyToOpportunity:D,addXPWithPersist:P},children:e})},"useStudentAuth",0,()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useStudentAuth must be used within a StudentAuthProvider");return e}])},71930,e=>{"use strict";let t=(0,e.i(75254).default)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);e.s(["Bookmark",()=>t],71930)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),i=e.i(31178),a=e.i(47414),s=e.i(74008),n=e.i(21476),o=e.i(72846),l=r,c=e.i(37806);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,o.isHTMLElement)(e)&&e.offsetWidth||0,i=(0,o.isHTMLElement)(e)&&e.offsetHeight||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left,a.bottom=i-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:i,anchorX:a,anchorY:s,root:n}){let o=(0,l.useId)(),p=(0,l.useRef)(null),m=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=(0,l.useContext)(c.MotionConfigContext),f=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=u(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(p,e.props?.ref??e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:l,right:c,bottom:u}=m.current;if(i||!p.current||!e||!t)return;let d="left"===a?`left: ${l}`:`right: ${c}`,f="bottom"===s?`bottom: ${u}`:`top: ${r}`;p.current.dataset.motionPopId=o;let y=document.createElement("style");h&&(y.nonce=h);let g=n??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            ${f}px !important;
          }
        `),()=>{g.contains(y)&&g.removeChild(y)}},[i]),(0,t.jsx)(d,{isPresent:i,childRef:p,sizeRef:m,children:l.cloneElement(e,{ref:f})})}let m=({children:e,initial:i,isPresent:s,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:m,root:f})=>{let y=(0,a.useConstant)(h),g=(0,r.useId)(),w=!0,v=(0,r.useMemo)(()=>(w=!1,{id:g,initial:i,isPresent:s,custom:l,onExitComplete:e=>{for(let t of(y.set(e,!0),y.values()))if(!t)return;o&&o()},register:e=>(y.set(e,!1),()=>y.delete(e))}),[s,y,o]);return c&&w&&(v={...v}),(0,r.useMemo)(()=>{y.forEach((e,t)=>y.set(t,!1))},[s]),r.useEffect(()=>{s||y.size||!o||o()},[s]),"popLayout"===u&&(e=(0,t.jsx)(p,{isPresent:s,anchorX:d,anchorY:m,root:f,children:e})),(0,t.jsx)(n.PresenceContext.Provider,{value:v,children:e})};function h(){return new Map}var f=e.i(64978);let y=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let w=({children:e,custom:n,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:p="left",anchorY:h="top",root:w})=>{let[v,A]=(0,f.usePresence)(d),k=(0,r.useMemo)(()=>g(e),[e]),b=d&&!v?[]:k.map(y),D=(0,r.useRef)(!0),P=(0,r.useRef)(k),S=(0,a.useConstant)(()=>new Map),x=(0,r.useRef)(new Set),[C,O]=(0,r.useState)(k),[M,L]=(0,r.useState)(k);(0,s.useIsomorphicLayoutEffect)(()=>{D.current=!1,P.current=k;for(let e=0;e<M.length;e++){let t=y(M[e]);b.includes(t)?(S.delete(t),x.current.delete(t)):!0!==S.get(t)&&S.set(t,!1)}},[M,b.length,b.join("-")]);let T=[];if(k!==C){let e=[...k];for(let t=0;t<M.length;t++){let r=M[t],i=y(r);b.includes(i)||(e.splice(t,0,r),T.push(r))}return"wait"===u&&T.length&&(e=T),L(g(e)),O(k),null}let{forceRender:E}=(0,r.useContext)(i.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:M.map(e=>{let r=y(e),i=(!d||!!v)&&(k===M||b.includes(r));return(0,t.jsx)(m,{isPresent:i,initial:(!D.current||!!o)&&void 0,custom:n,presenceAffectsLayout:c,mode:u,root:w,onExitComplete:i?void 0:()=>{if(x.current.has(r)||(x.current.add(r),!S.has(r)))return;S.set(r,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(E?.(),L(P.current),d&&A?.(),l&&l())},anchorX:p,anchorY:h,children:e},r)})})};e.s(["AnimatePresence",()=>w],88653)},84243,e=>{"use strict";let t=(0,e.i(75254).default)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);e.s(["Medal",()=>t],84243)},64030,e=>{"use strict";let t=(0,e.i(75254).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["Trophy",()=>t],64030)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},27510,e=>{e.v(t=>Promise.all(["static/chunks/54ab083194d7bfbe.js"].map(t=>e.l(t))).then(()=>t(48323)))}]);