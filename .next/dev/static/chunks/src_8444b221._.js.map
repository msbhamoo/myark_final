{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/hooks/use-toast.ts"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\r\n\r\nconst TOAST_LIMIT = 1;\r\nconst TOAST_REMOVE_DELAY = 1000000;\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string;\r\n  title?: React.ReactNode;\r\n  description?: React.ReactNode;\r\n  action?: ToastActionElement;\r\n};\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const;\r\n\r\nlet count = 0;\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\r\n  return count.toString();\r\n}\r\n\r\ntype ActionType = typeof actionTypes;\r\n\r\ntype Action =\r\n  | {\r\n      type: ActionType[\"ADD_TOAST\"];\r\n      toast: ToasterToast;\r\n    }\r\n  | {\r\n      type: ActionType[\"UPDATE_TOAST\"];\r\n      toast: Partial<ToasterToast>;\r\n    }\r\n  | {\r\n      type: ActionType[\"DISMISS_TOAST\"];\r\n      toastId?: ToasterToast[\"id\"];\r\n    }\r\n  | {\r\n      type: ActionType[\"REMOVE_TOAST\"];\r\n      toastId?: ToasterToast[\"id\"];\r\n    };\r\n\r\ninterface State {\r\n  toasts: ToasterToast[];\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return;\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId);\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId,\r\n    });\r\n  }, TOAST_REMOVE_DELAY);\r\n\r\n  toastTimeouts.set(toastId, timeout);\r\n};\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      };\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) => (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\r\n      };\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action;\r\n\r\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\r\n      // but I'll keep it here for simplicity\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId);\r\n      } else {\r\n        state.toasts.forEach((toast) => {\r\n          addToRemoveQueue(toast.id);\r\n        });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? {\r\n                ...t,\r\n                open: false,\r\n              }\r\n            : t,\r\n        ),\r\n      };\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: [],\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      };\r\n  }\r\n};\r\n\r\nconst listeners: Array<(state: State) => void> = [];\r\n\r\nlet memoryState: State = { toasts: [] };\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action);\r\n  listeners.forEach((listener) => {\r\n    listener(memoryState);\r\n  });\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">;\r\n\r\nfunction toast({ ...props }: Toast) {\r\n  const id = genId();\r\n\r\n  const update = (props: ToasterToast) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id },\r\n    });\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open) => {\r\n        if (!open) dismiss();\r\n      },\r\n    },\r\n  });\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update,\r\n  };\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState);\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState);\r\n    return () => {\r\n      const index = listeners.indexOf(setState);\r\n      if (index > -1) {\r\n        listeners.splice(index, 1);\r\n      }\r\n    };\r\n  }, [state]);\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  };\r\n}\r\n\r\nexport { useToast, toast };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/toast.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { X } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst ToastProvider = ToastPrimitives.Provider;\r\n\r\nconst ToastViewport = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Viewport\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;\r\n\r\nconst toastVariants = cva(\r\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border bg-background text-foreground\",\r\n        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nconst Toast = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> & VariantProps<typeof toastVariants>\r\n>(({ className, variant, ...props }, ref) => {\r\n  return <ToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} />;\r\n});\r\nToast.displayName = ToastPrimitives.Root.displayName;\r\n\r\nconst ToastAction = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Action>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Action\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nToastAction.displayName = ToastPrimitives.Action.displayName;\r\n\r\nconst ToastClose = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Close>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Close\r\n    ref={ref}\r\n    className={cn(\r\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\r\n      className,\r\n    )}\r\n    toast-close=\"\"\r\n    {...props}\r\n  >\r\n    <X className=\"h-4 w-4\" />\r\n  </ToastPrimitives.Close>\r\n));\r\nToastClose.displayName = ToastPrimitives.Close.displayName;\r\n\r\nconst ToastTitle = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Title>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} />\r\n));\r\nToastTitle.displayName = ToastPrimitives.Title.displayName;\r\n\r\nconst ToastDescription = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Description>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} />\r\n));\r\nToastDescription.displayName = ToastPrimitives.Description.displayName;\r\n\r\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;\r\n\r\ntype ToastActionElement = React.ReactElement<typeof ToastAction>;\r\n\r\nexport {\r\n  type ToastProps,\r\n  type ToastActionElement,\r\n  ToastProvider,\r\n  ToastViewport,\r\n  Toast,\r\n  ToastTitle,\r\n  ToastDescription,\r\n  ToastClose,\r\n  ToastAction,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,gBAAgB,gLAAwB;AAE9C,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,gLAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;QACf;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,OAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBAAO,6LAAC,4KAAoB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AACxG;;AACA,MAAM,WAAW,GAAG,4KAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,oMAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QAAa,GAAG,KAAK;;;;;;;AAE/F,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,2KAAgB,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mLAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,sBAAsB;QAAa,GAAG,KAAK;;;;;;;AAElG,iBAAiB,WAAW,GAAG,mLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/toaster.tsx"],"sourcesContent":["import { useToast } from \"@/hooks/use-toast\";\r\nimport { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\r\n\r\nexport function Toaster() {\r\n  const { toasts } = useToast();\r\n\r\n  return (\r\n    <ToastProvider>\r\n      {toasts.map(function ({ id, title, description, action, ...props }) {\r\n        return (\r\n          <Toast key={id} {...props}>\r\n            <div className=\"grid gap-1\">\r\n              {title && <ToastTitle>{title}</ToastTitle>}\r\n              {description && <ToastDescription>{description}</ToastDescription>}\r\n            </div>\r\n            {action}\r\n            <ToastClose />\r\n          </Toast>\r\n        );\r\n      })}\r\n      <ToastViewport />\r\n    </ToastProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAEO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,2IAAQ;IAE3B,qBACE,6LAAC,qJAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,6IAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,kJAAU;8CAAE;;;;;;gCACtB,6BAAe,6LAAC,wJAAgB;8CAAE;;;;;;;;;;;;wBAEpC;sCACD,6LAAC,kJAAU;;;;;;mBAND;;;;;YAShB;0BACA,6LAAC,qJAAa;;;;;;;;;;;AAGpB;GApBgB;;QACK,2IAAQ;;;KADb"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/sonner.tsx"],"sourcesContent":["import { useTheme } from \"next-themes\";\r\nimport { Toaster as Sonner, toast } from \"sonner\";\r\n\r\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = \"system\" } = useTheme();\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps[\"theme\"]}\r\n      className=\"toaster group\"\r\n      toastOptions={{\r\n        classNames: {\r\n          toast:\r\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\r\n          description: \"group-[.toast]:text-muted-foreground\",\r\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\r\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\r\n        },\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport { Toaster, toast };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAIA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAErC,qBACE,6LAAC,sJAAM;QACL,OAAO;QACP,WAAU;QACV,cAAc;YACZ,YAAY;gBACV,OACE;gBACF,aAAa;gBACb,cAAc;gBACd,cAAc;YAChB;QACF;QACC,GAAG,KAAK;;;;;;AAGf;GAnBM;;QACyB,+JAAQ;;;KADjC"}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/tooltip.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst TooltipProvider = TooltipPrimitive.Provider;\r\n\r\nconst Tooltip = TooltipPrimitive.Root;\r\n\r\nconst TooltipTrigger = TooltipPrimitive.Trigger;\r\n\r\nconst TooltipContent = React.forwardRef<\r\n  React.ElementRef<typeof TooltipPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <TooltipPrimitive.Content\r\n    ref={ref}\r\n    sideOffset={sideOffset}\r\n    className={cn(\r\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,kBAAkB,kLAAyB;AAEjD,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,+BAAiB,2KAAgB,MAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,iLAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,IAAA,4HAAE,EACX,sYACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/lib/firebase.ts"],"sourcesContent":["// Firebase configuration for MyArk\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAS6sSC9lakDPTcz9OPQfo89tLkvcaX3rY\",\r\n    authDomain: \"myark-dbbee.firebaseapp.com\",\r\n    projectId: \"myark-dbbee\",\r\n    storageBucket: \"myark-dbbee.firebasestorage.app\",\r\n    messagingSenderId: \"1012733770035\",\r\n    appId: \"1:1012733770035:web:0fc2b6d5a627c05937e646\",\r\n    measurementId: \"G-DT3CW7GT1B\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Initialize services\r\nexport const db = getFirestore(app);\r\nexport const auth = getAuth(app);\r\nexport const storage = getStorage(app);\r\n\r\n// Analytics (only in browser)\r\nexport const initAnalytics = async () => {\r\n    if (await isSupported()) {\r\n        return getAnalytics(app);\r\n    }\r\n    return null;\r\n};\r\n\r\nexport default app;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,mCAAmC;AACnC;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;AAEA,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACnB;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,oLAAa,EAAC;AAGnB,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,oMAAO,EAAC;AACrB,MAAM,UAAU,IAAA,8KAAU,EAAC;AAG3B,MAAM,gBAAgB;IACzB,IAAI,MAAM,IAAA,wLAAW,KAAI;QACrB,OAAO,IAAA,yLAAY,EAAC;IACxB;IACA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/lib/auth.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\";\r\nimport {\r\n    signInWithEmailAndPassword,\r\n    signOut as firebaseSignOut,\r\n    onAuthStateChanged,\r\n    type User,\r\n} from \"firebase/auth\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { auth, db } from \"./firebase\";\r\n\r\ninterface AdminUser {\r\n    uid: string;\r\n    email: string | null;\r\n    displayName: string | null;\r\n    role: \"admin\" | \"super-admin\";\r\n}\r\n\r\ninterface AuthContextType {\r\n    user: AdminUser | null;\r\n    loading: boolean;\r\n    error: string | null;\r\n    signIn: (email: string, password: string) => Promise<boolean>;\r\n    signOut: () => Promise<void>;\r\n    isAdmin: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error(\"useAuth must be used within an AuthProvider\");\r\n    }\r\n    return context;\r\n};\r\n\r\ninterface AuthProviderProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport const AuthProvider = ({ children }: AuthProviderProps) => {\r\n    const [user, setUser] = useState<AdminUser | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {\r\n            if (firebaseUser) {\r\n                // Check if user is an admin\r\n                try {\r\n                    const adminDoc = await getDoc(doc(db, \"admins\", firebaseUser.uid));\r\n\r\n                    if (adminDoc.exists()) {\r\n                        const adminData = adminDoc.data();\r\n                        setUser({\r\n                            uid: firebaseUser.uid,\r\n                            email: firebaseUser.email,\r\n                            displayName: firebaseUser.displayName || adminData.name || \"Admin\",\r\n                            role: adminData.role || \"admin\",\r\n                        });\r\n                    } else {\r\n                        // User is authenticated but not an admin\r\n                        setUser(null);\r\n                        await firebaseSignOut(auth);\r\n                    }\r\n                } catch (err) {\r\n                    console.error(\"Error checking admin status:\", err);\r\n                    setUser(null);\r\n                }\r\n            } else {\r\n                setUser(null);\r\n            }\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const signIn = async (email: string, password: string): Promise<boolean> => {\r\n        setError(null);\r\n        setLoading(true);\r\n\r\n        try {\r\n            const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n\r\n            // Check if user is an admin\r\n            const adminDoc = await getDoc(doc(db, \"admins\", userCredential.user.uid));\r\n\r\n            if (!adminDoc.exists()) {\r\n                await firebaseSignOut(auth);\r\n                setError(\"You do not have admin access.\");\r\n                setLoading(false);\r\n                return false;\r\n            }\r\n\r\n            const adminData = adminDoc.data();\r\n            setUser({\r\n                uid: userCredential.user.uid,\r\n                email: userCredential.user.email,\r\n                displayName: userCredential.user.displayName || adminData.name || \"Admin\",\r\n                role: adminData.role || \"admin\",\r\n            });\r\n\r\n            setLoading(false);\r\n            return true;\r\n        } catch (err: unknown) {\r\n            const errorMessage = err instanceof Error ? err.message : \"Failed to sign in\";\r\n            setError(errorMessage);\r\n            setLoading(false);\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const signOut = async () => {\r\n        await firebaseSignOut(auth);\r\n        setUser(null);\r\n    };\r\n\r\n    const value: AuthContextType = {\r\n        user,\r\n        loading,\r\n        error,\r\n        signIn,\r\n        signOut,\r\n        isAdmin: !!user,\r\n    };\r\n\r\n    return <AuthContext.Provider value={value}> {children} </AuthContext.Provider>;\r\n};\r\n\r\nexport default AuthContext;\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAAA;AAMA;AAAA;AACA;;;AAVA;;;;;AA4BA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,MAAM,UAAU;;IACnB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACV,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;GANa;AAYN,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAqB;;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAmB;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;kCAAC;YACN,MAAM,cAAc,IAAA,+MAAkB,EAAC,iIAAI;sDAAE,OAAO;oBAChD,IAAI,cAAc;wBACd,4BAA4B;wBAC5B,IAAI;4BACA,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,UAAU,aAAa,GAAG;4BAEhE,IAAI,SAAS,MAAM,IAAI;gCACnB,MAAM,YAAY,SAAS,IAAI;gCAC/B,QAAQ;oCACJ,KAAK,aAAa,GAAG;oCACrB,OAAO,aAAa,KAAK;oCACzB,aAAa,aAAa,WAAW,IAAI,UAAU,IAAI,IAAI;oCAC3D,MAAM,UAAU,IAAI,IAAI;gCAC5B;4BACJ,OAAO;gCACH,yCAAyC;gCACzC,QAAQ;gCACR,MAAM,IAAA,oMAAe,EAAC,iIAAI;4BAC9B;wBACJ,EAAE,OAAO,KAAK;4BACV,QAAQ,KAAK,CAAC,gCAAgC;4BAC9C,QAAQ;wBACZ;oBACJ,OAAO;wBACH,QAAQ;oBACZ;oBACA,WAAW;gBACf;;YAEA;0CAAO,IAAM;;QACjB;iCAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACjC,SAAS;QACT,WAAW;QAEX,IAAI;YACA,MAAM,iBAAiB,MAAM,IAAA,uNAA0B,EAAC,iIAAI,EAAE,OAAO;YAErE,4BAA4B;YAC5B,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,UAAU,eAAe,IAAI,CAAC,GAAG;YAEvE,IAAI,CAAC,SAAS,MAAM,IAAI;gBACpB,MAAM,IAAA,oMAAe,EAAC,iIAAI;gBAC1B,SAAS;gBACT,WAAW;gBACX,OAAO;YACX;YAEA,MAAM,YAAY,SAAS,IAAI;YAC/B,QAAQ;gBACJ,KAAK,eAAe,IAAI,CAAC,GAAG;gBAC5B,OAAO,eAAe,IAAI,CAAC,KAAK;gBAChC,aAAa,eAAe,IAAI,CAAC,WAAW,IAAI,UAAU,IAAI,IAAI;gBAClE,MAAM,UAAU,IAAI,IAAI;YAC5B;YAEA,WAAW;YACX,OAAO;QACX,EAAE,OAAO,KAAc;YACnB,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC1D,SAAS;YACT,WAAW;YACX,OAAO;QACX;IACJ;IAEA,MAAM,UAAU;QACZ,MAAM,IAAA,oMAAe,EAAC,iIAAI;QAC1B,QAAQ;IACZ;IAEA,MAAM,QAAyB;QAC3B;QACA;QACA;QACA;QACA;QACA,SAAS,CAAC,CAAC;IACf;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;;YAAO;YAAE;YAAS;;;;;;;AAC1D;IAxFa;KAAA;uCA0FE"}},
    {"offset": {"line": 696, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/lib/studentAuthService.ts"],"sourcesContent":["/**\r\n * Student Authentication Service\r\n * Handles registration, login, session management, and security\r\n */\r\n\r\nimport {\r\n    collection,\r\n    doc,\r\n    getDoc,\r\n    setDoc,\r\n    updateDoc,\r\n    deleteDoc,\r\n    query,\r\n    where,\r\n    getDocs,\r\n    Timestamp,\r\n    increment,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\n\r\n// ============================================\r\n// TYPES\r\n// ============================================\r\n\r\nexport interface StudentUser {\r\n    id: string;\r\n    phone: string;\r\n    name?: string;\r\n    profilePicture?: string;\r\n    grade?: number;\r\n    school?: string;\r\n    city?: string;\r\n    state?: string;\r\n    gender?: 'male' | 'female' | 'other' | 'prefer_not_to_say';\r\n    interests: string[];\r\n    appliedOpportunities: string[];\r\n    savedOpportunities: string[];\r\n    xpPoints: number;\r\n    level: number;\r\n    streakDays: number;\r\n    badges: string[];\r\n    // Discovery Quiz Data\r\n    personaGoal?: 'top_college' | 'skills' | 'recognition' | 'exploring';\r\n    competitiveness?: 'chill' | 'balanced' | 'beast_mode';\r\n    weeklyTimeCommitment?: '1_2_hours' | '3_5_hours' | '5_plus_hours';\r\n    deliveryPreference?: 'online' | 'offline' | 'both';\r\n    isVerified: boolean;\r\n    isBlocked: boolean;\r\n    blockReason?: string;\r\n    failedLoginAttempts: number;\r\n    lastFailedAttempt?: Date;\r\n    lastLoginAt?: Date;\r\n    createdAt: Date;\r\n    createdVia: 'web' | 'mobile' | 'admin';\r\n}\r\n\r\nexport interface SessionInfo {\r\n    id: string;\r\n    userId: string;\r\n    device: string;\r\n    browser: string;\r\n    createdAt: Date;\r\n    lastActiveAt: Date;\r\n    isActive: boolean;\r\n}\r\n\r\nexport interface AuthResult {\r\n    success: boolean;\r\n    user?: StudentUser;\r\n    session?: SessionInfo;\r\n    error?: string;\r\n    errorCode?: 'INVALID_PHONE' | 'INVALID_PIN' | 'USER_NOT_FOUND' | 'WRONG_PIN' | 'RATE_LIMITED' | 'BLOCKED' | 'PIN_MISMATCH' | 'PHONE_EXISTS';\r\n}\r\n\r\nexport interface RateLimitResult {\r\n    allowed: boolean;\r\n    remainingAttempts: number;\r\n    lockoutUntil?: Date;\r\n}\r\n\r\n// ============================================\r\n// CONSTANTS\r\n// ============================================\r\n\r\nconst COLLECTIONS = {\r\n    studentUsers: \"studentUsers\",\r\n    studentSessions: \"studentSessions\",\r\n} as const;\r\n\r\nconst MAX_FAILED_ATTEMPTS = 5;\r\nconst LOCKOUT_DURATION_MS = 5 * 60 * 1000; // 5 minutes\r\nconst SESSION_EXPIRY_DAYS = 30;\r\n\r\n// ============================================\r\n// CRYPTO HELPERS (PIN Hashing)\r\n// ============================================\r\n\r\nasync function hashPin(pin: string): Promise<string> {\r\n    // Use Web Crypto API for secure hashing\r\n    const encoder = new TextEncoder();\r\n    const data = encoder.encode(pin + 'myark_salt_2026');\r\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\r\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\nasync function verifyPin(pin: string, hash: string): Promise<boolean> {\r\n    const inputHash = await hashPin(pin);\r\n    return inputHash === hash;\r\n}\r\n\r\n// ============================================\r\n// DEVICE DETECTION\r\n// ============================================\r\n\r\nfunction getDeviceInfo(): { device: string; browser: string } {\r\n    const ua = navigator.userAgent;\r\n    let device = 'Unknown Device';\r\n    let browser = 'Unknown Browser';\r\n\r\n    // Detect device\r\n    if (/iPhone/i.test(ua)) device = 'iPhone';\r\n    else if (/iPad/i.test(ua)) device = 'iPad';\r\n    else if (/Android/i.test(ua)) device = 'Android';\r\n    else if (/Windows/i.test(ua)) device = 'Windows';\r\n    else if (/Mac/i.test(ua)) device = 'Mac';\r\n    else if (/Linux/i.test(ua)) device = 'Linux';\r\n\r\n    // Detect browser\r\n    if (/Chrome/i.test(ua) && !/Edg/i.test(ua)) browser = 'Chrome';\r\n    else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) browser = 'Safari';\r\n    else if (/Firefox/i.test(ua)) browser = 'Firefox';\r\n    else if (/Edg/i.test(ua)) browser = 'Edge';\r\n\r\n    return { device, browser };\r\n}\r\n\r\n/**\r\n * Calculates a new streak based on the last login time and the current streak.\r\n * @param lastLoginAt Date of the last login\r\n * @param currentStreak The current streak number\r\n * @returns The updated streak number\r\n */\r\nfunction calculateNewStreak(lastLoginAt: Date | undefined, currentStreak: number): number {\r\n    if (!lastLoginAt) return 1;\r\n\r\n    const now = new Date();\r\n    const lastDate = new Date(lastLoginAt);\r\n    lastDate.setHours(0, 0, 0, 0);\r\n    const nowDate = new Date(now);\r\n    nowDate.setHours(0, 0, 0, 0);\r\n\r\n    const dayDiff = Math.round((nowDate.getTime() - lastDate.getTime()) / (1000 * 60 * 60 * 24));\r\n\r\n    if (dayDiff === 1) {\r\n        // Logged in exactly the next day\r\n        return currentStreak + 1;\r\n    } else if (dayDiff > 1) {\r\n        // Missed at least one day\r\n        return 1;\r\n    } else if (dayDiff === 0) {\r\n        // Already logged in today\r\n        return currentStreak || 1;\r\n    }\r\n\r\n    return currentStreak || 1;\r\n}\r\n\r\n// ============================================\r\n// STUDENT AUTH SERVICE\r\n// ============================================\r\n\r\nexport const studentAuthService = {\r\n    // ============================================\r\n    // REGISTRATION\r\n    // ============================================\r\n\r\n    async register(phone: string, pin: string): Promise<AuthResult> {\r\n        try {\r\n            // Validate phone format (Indian mobile)\r\n            const cleanPhone = phone.replace(/\\D/g, '');\r\n            if (cleanPhone.length !== 10) {\r\n                return { success: false, error: \"Please enter a valid 10-digit mobile number\", errorCode: 'INVALID_PHONE' };\r\n            }\r\n\r\n            // Validate PIN format\r\n            if (!/^\\d{4}$/.test(pin)) {\r\n                return { success: false, error: \"PIN must be 4 digits\", errorCode: 'INVALID_PIN' };\r\n            }\r\n\r\n            // Check if phone already registered\r\n            const existingQuery = query(\r\n                collection(db, COLLECTIONS.studentUsers),\r\n                where(\"phone\", \"==\", cleanPhone)\r\n            );\r\n            const existingDocs = await getDocs(existingQuery);\r\n            if (!existingDocs.empty) {\r\n                return { success: false, error: \"This number is already registered. Try logging in!\", errorCode: 'PHONE_EXISTS' };\r\n            }\r\n\r\n            // Hash the PIN\r\n            const pinHash = await hashPin(pin);\r\n\r\n            // Create user document\r\n            const userId = `user_${cleanPhone}_${Date.now()}`;\r\n            const now = new Date();\r\n\r\n            const newUser: StudentUser = {\r\n                id: userId,\r\n                phone: cleanPhone,\r\n                xpPoints: 50, // Welcome bonus!\r\n                level: 1,\r\n                streakDays: 1, // Start the first streak!\r\n                badges: ['early_bird'], // First badge!\r\n                interests: [],\r\n                appliedOpportunities: [],\r\n                savedOpportunities: [],\r\n                isVerified: true,\r\n                isBlocked: false,\r\n                failedLoginAttempts: 0,\r\n                lastLoginAt: now,\r\n                createdAt: now,\r\n                createdVia: 'web',\r\n            };\r\n\r\n            // Save to Firestore\r\n            await setDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n                ...newUser,\r\n                pinHash,\r\n                createdAt: Timestamp.fromDate(now),\r\n                lastLoginAt: Timestamp.fromDate(now),\r\n            });\r\n\r\n            // Create session\r\n            const session = await this.createSession(userId);\r\n\r\n            return { success: true, user: newUser, session };\r\n        } catch (error) {\r\n            console.error(\"Registration error:\", error);\r\n            return { success: false, error: \"Something went wrong. Please try again!\" };\r\n        }\r\n    },\r\n\r\n    // ============================================\r\n    // LOGIN\r\n    // ============================================\r\n\r\n    async login(phone: string, pin: string): Promise<AuthResult> {\r\n        try {\r\n            // Validate phone format\r\n            const cleanPhone = phone.replace(/\\D/g, '');\r\n            if (cleanPhone.length !== 10) {\r\n                return { success: false, error: \"Please enter a valid 10-digit mobile number\", errorCode: 'INVALID_PHONE' };\r\n            }\r\n\r\n            // Find user by phone\r\n            const userQuery = query(\r\n                collection(db, COLLECTIONS.studentUsers),\r\n                where(\"phone\", \"==\", cleanPhone)\r\n            );\r\n            const userDocs = await getDocs(userQuery);\r\n\r\n            if (userDocs.empty) {\r\n                return { success: false, error: \"No account found with this number. Want to register?\", errorCode: 'USER_NOT_FOUND' };\r\n            }\r\n\r\n            const userDoc = userDocs.docs[0];\r\n            const userData = userDoc.data();\r\n\r\n            // Check if blocked\r\n            if (userData.isBlocked) {\r\n                return { success: false, error: \"Your account has been blocked. Contact support for help.\", errorCode: 'BLOCKED' };\r\n            }\r\n\r\n            // Check rate limiting\r\n            const rateLimit = await this.checkRateLimit(userData);\r\n            if (!rateLimit.allowed) {\r\n                const waitTime = Math.ceil((rateLimit.lockoutUntil!.getTime() - Date.now()) / 60000);\r\n                return {\r\n                    success: false,\r\n                    error: `Too many attempts! Take a break for ${waitTime} min â˜•`,\r\n                    errorCode: 'RATE_LIMITED'\r\n                };\r\n            }\r\n\r\n            // Verify PIN\r\n            const isValidPin = await verifyPin(pin, userData.pinHash);\r\n            if (!isValidPin) {\r\n                await this.incrementFailedAttempts(userDoc.id);\r\n                const remaining = MAX_FAILED_ATTEMPTS - (userData.failedLoginAttempts + 1);\r\n                return {\r\n                    success: false,\r\n                    error: remaining > 0\r\n                        ? `Wrong PIN! ${remaining} attempts left ðŸŽ¯`\r\n                        : \"Wrong PIN! Account locked for 5 minutes.\",\r\n                    errorCode: 'WRONG_PIN'\r\n                };\r\n            }\r\n\r\n            // Calculate new streak\r\n            const newStreak = calculateNewStreak(userData.lastLoginAt?.toDate(), userData.streakDays || 0);\r\n\r\n            // Clear failed attempts and update last login\r\n            await updateDoc(doc(db, COLLECTIONS.studentUsers, userDoc.id), {\r\n                failedLoginAttempts: 0,\r\n                lastLoginAt: Timestamp.now(),\r\n                streakDays: newStreak,\r\n                xpPoints: increment(10), // Daily login bonus!\r\n            });\r\n\r\n            // Create session\r\n            const session = await this.createSession(userDoc.id);\r\n\r\n            // Build user object\r\n            const user: StudentUser = {\r\n                id: userDoc.id,\r\n                phone: userData.phone,\r\n                name: userData.name,\r\n                grade: userData.grade,\r\n                school: userData.school,\r\n                city: userData.city,\r\n                state: userData.state,\r\n                profilePicture: userData.profilePicture,\r\n                gender: userData.gender,\r\n                interests: userData.interests || [],\r\n                appliedOpportunities: userData.appliedOpportunities || [],\r\n                savedOpportunities: userData.savedOpportunities || [],\r\n                xpPoints: (userData.xpPoints || 0) + 10,\r\n                level: userData.level || 1,\r\n                streakDays: newStreak,\r\n                badges: userData.badges || [],\r\n                isVerified: userData.isVerified || true,\r\n                isBlocked: false,\r\n                failedLoginAttempts: 0,\r\n                lastLoginAt: new Date(),\r\n                createdAt: userData.createdAt?.toDate() || new Date(),\r\n                createdVia: userData.createdVia || 'web',\r\n            };\r\n\r\n            return { success: true, user, session };\r\n        } catch (error) {\r\n            console.error(\"Login error:\", error);\r\n            return { success: false, error: \"Something went wrong. Please try again!\" };\r\n        }\r\n    },\r\n\r\n    // ============================================\r\n    // SESSION MANAGEMENT\r\n    // ============================================\r\n\r\n    async createSession(userId: string): Promise<SessionInfo> {\r\n        const { device, browser } = getDeviceInfo();\r\n        const sessionId = `session_${userId}_${Date.now()}`;\r\n        const now = new Date();\r\n\r\n        const session: SessionInfo = {\r\n            id: sessionId,\r\n            userId,\r\n            device,\r\n            browser,\r\n            createdAt: now,\r\n            lastActiveAt: now,\r\n            isActive: true,\r\n        };\r\n\r\n        await setDoc(doc(db, COLLECTIONS.studentSessions, sessionId), {\r\n            ...session,\r\n            createdAt: Timestamp.fromDate(now),\r\n            lastActiveAt: Timestamp.fromDate(now),\r\n        });\r\n\r\n        // Store session ID in localStorage\r\n        localStorage.setItem('myark_session', sessionId);\r\n        localStorage.setItem('myark_user_id', userId);\r\n\r\n        return session;\r\n    },\r\n\r\n    async validateSession(sessionId: string): Promise<StudentUser | null> {\r\n        try {\r\n            const sessionDoc = await getDoc(doc(db, COLLECTIONS.studentSessions, sessionId));\r\n            if (!sessionDoc.exists()) return null;\r\n\r\n            const sessionData = sessionDoc.data();\r\n            if (!sessionData.isActive) return null;\r\n\r\n            // Check session expiry\r\n            const createdAt = sessionData.createdAt?.toDate() || new Date();\r\n            const expiryDate = new Date(createdAt.getTime() + SESSION_EXPIRY_DAYS * 24 * 60 * 60 * 1000);\r\n            if (new Date() > expiryDate) {\r\n                await this.terminateSession(sessionId);\r\n                return null;\r\n            }\r\n\r\n            // Get user data\r\n            const userDoc = await getDoc(doc(db, COLLECTIONS.studentUsers, sessionData.userId));\r\n            if (!userDoc.exists()) return null;\r\n\r\n            const userData = userDoc.data();\r\n            if (userData.isBlocked) return null;\r\n\r\n            // Update last active\r\n            await updateDoc(doc(db, COLLECTIONS.studentSessions, sessionId), {\r\n                lastActiveAt: Timestamp.now(),\r\n            });\r\n\r\n            return {\r\n                id: userDoc.id,\r\n                phone: userData.phone,\r\n                name: userData.name,\r\n                grade: userData.grade,\r\n                school: userData.school,\r\n                city: userData.city,\r\n                state: userData.state,\r\n                profilePicture: userData.profilePicture,\r\n                gender: userData.gender,\r\n                interests: userData.interests || [],\r\n                appliedOpportunities: userData.appliedOpportunities || [],\r\n                savedOpportunities: userData.savedOpportunities || [],\r\n                xpPoints: userData.xpPoints || 0,\r\n                level: userData.level || 1,\r\n                streakDays: userData.streakDays || 0,\r\n                badges: userData.badges || [],\r\n                isVerified: userData.isVerified || true,\r\n                isBlocked: false,\r\n                failedLoginAttempts: 0,\r\n                lastLoginAt: userData.lastLoginAt?.toDate(),\r\n                createdAt: userData.createdAt?.toDate() || new Date(),\r\n                createdVia: userData.createdVia || 'web',\r\n            };\r\n        } catch (error) {\r\n            console.error(\"Session validation error:\", error);\r\n            return null;\r\n        }\r\n    },\r\n\r\n    async terminateSession(sessionId: string): Promise<void> {\r\n        try {\r\n            await updateDoc(doc(db, COLLECTIONS.studentSessions, sessionId), {\r\n                isActive: false,\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Session termination error:\", error);\r\n        }\r\n    },\r\n\r\n    async logout(): Promise<void> {\r\n        const sessionId = localStorage.getItem('myark_session');\r\n        if (sessionId) {\r\n            await this.terminateSession(sessionId);\r\n        }\r\n        localStorage.removeItem('myark_session');\r\n        localStorage.removeItem('myark_user_id');\r\n    },\r\n\r\n    // ============================================\r\n    // RATE LIMITING\r\n    // ============================================\r\n\r\n    async checkRateLimit(userData: any): Promise<RateLimitResult> {\r\n        const failedAttempts = userData.failedLoginAttempts || 0;\r\n        const lastFailed = userData.lastFailedAttempt?.toDate();\r\n\r\n        if (failedAttempts >= MAX_FAILED_ATTEMPTS && lastFailed) {\r\n            const lockoutUntil = new Date(lastFailed.getTime() + LOCKOUT_DURATION_MS);\r\n            if (new Date() < lockoutUntil) {\r\n                return {\r\n                    allowed: false,\r\n                    remainingAttempts: 0,\r\n                    lockoutUntil,\r\n                };\r\n            }\r\n        }\r\n\r\n        return {\r\n            allowed: true,\r\n            remainingAttempts: MAX_FAILED_ATTEMPTS - failedAttempts,\r\n        };\r\n    },\r\n\r\n    async incrementFailedAttempts(userId: string): Promise<void> {\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            failedLoginAttempts: increment(1),\r\n            lastFailedAttempt: Timestamp.now(),\r\n        });\r\n    },\r\n\r\n    // ============================================\r\n    // ADMIN FUNCTIONS\r\n    // ============================================\r\n\r\n    async getAllUsers(filters?: { search?: string; blocked?: boolean }): Promise<StudentUser[]> {\r\n        try {\r\n            let q = collection(db, COLLECTIONS.studentUsers);\r\n            const snapshot = await getDocs(q);\r\n\r\n            let users = snapshot.docs.map(doc => {\r\n                const data = doc.data();\r\n                return {\r\n                    id: doc.id,\r\n                    phone: data.phone,\r\n                    name: data.name,\r\n                    grade: data.grade,\r\n                    school: data.school,\r\n                    city: data.city,\r\n                    xpPoints: data.xpPoints || 0,\r\n                    level: data.level || 1,\r\n                    streakDays: data.streakDays || 0,\r\n                    badges: data.badges || [],\r\n                    isVerified: data.isVerified || true,\r\n                    isBlocked: data.isBlocked || false,\r\n                    blockReason: data.blockReason,\r\n                    failedLoginAttempts: data.failedLoginAttempts || 0,\r\n                    lastLoginAt: data.lastLoginAt?.toDate(),\r\n                    lastFailedAttempt: data.lastFailedAttempt?.toDate(),\r\n                    createdAt: data.createdAt?.toDate() || new Date(),\r\n                    createdVia: data.createdVia || 'web',\r\n                    // Discovery Quiz Data\r\n                    personaGoal: data.personaGoal,\r\n                    competitiveness: data.competitiveness,\r\n                    weeklyTimeCommitment: data.weeklyTimeCommitment,\r\n                    deliveryPreference: data.deliveryPreference,\r\n                    interests: data.interests || [],\r\n                } as StudentUser;\r\n            });\r\n\r\n            // Apply filters\r\n            if (filters?.search) {\r\n                const search = filters.search.toLowerCase();\r\n                users = users.filter(u =>\r\n                    u.phone.includes(search) ||\r\n                    u.name?.toLowerCase().includes(search)\r\n                );\r\n            }\r\n\r\n            if (filters?.blocked !== undefined) {\r\n                users = users.filter(u => u.isBlocked === filters.blocked);\r\n            }\r\n\r\n            return users.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\r\n        } catch (error) {\r\n            console.error(\"Error fetching users:\", error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    async getUserSessions(userId: string): Promise<SessionInfo[]> {\r\n        try {\r\n            const q = query(\r\n                collection(db, COLLECTIONS.studentSessions),\r\n                where(\"userId\", \"==\", userId)\r\n            );\r\n            const snapshot = await getDocs(q);\r\n\r\n            return snapshot.docs.map(doc => {\r\n                const data = doc.data();\r\n                return {\r\n                    id: doc.id,\r\n                    userId: data.userId,\r\n                    device: data.device,\r\n                    browser: data.browser,\r\n                    createdAt: data.createdAt?.toDate() || new Date(),\r\n                    lastActiveAt: data.lastActiveAt?.toDate() || new Date(),\r\n                    isActive: data.isActive,\r\n                };\r\n            }).sort((a, b) => b.lastActiveAt.getTime() - a.lastActiveAt.getTime());\r\n        } catch (error) {\r\n            console.error(\"Error fetching sessions:\", error);\r\n            return [];\r\n        }\r\n    },\r\n\r\n    async blockUser(userId: string, reason: string): Promise<void> {\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            isBlocked: true,\r\n            blockReason: reason,\r\n        });\r\n\r\n        // Terminate all sessions\r\n        const sessions = await this.getUserSessions(userId);\r\n        for (const session of sessions) {\r\n            await this.terminateSession(session.id);\r\n        }\r\n    },\r\n\r\n    async unblockUser(userId: string): Promise<void> {\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            isBlocked: false,\r\n            blockReason: null,\r\n            failedLoginAttempts: 0,\r\n        });\r\n    },\r\n\r\n    async resetUserPin(userId: string, newPin: string): Promise<void> {\r\n        const pinHash = await hashPin(newPin);\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            pinHash,\r\n            failedLoginAttempts: 0,\r\n        });\r\n    },\r\n\r\n    async terminateAllUserSessions(userId: string): Promise<void> {\r\n        const sessions = await this.getUserSessions(userId);\r\n        for (const session of sessions) {\r\n            await this.terminateSession(session.id);\r\n        }\r\n    },\r\n\r\n    async updateUserXP(userId: string, xpDelta: number): Promise<void> {\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            xpPoints: increment(xpDelta),\r\n        });\r\n    },\r\n\r\n    // Update student profile\r\n    async updateProfile(userId: string, updates: Partial<StudentUser>): Promise<void> {\r\n        // Filter out undefined values and non-updatable fields\r\n        const allowedFields = [\r\n            'name', 'profilePicture', 'grade', 'school', 'city', 'state', 'gender', 'interests',\r\n            'personaGoal', 'competitiveness', 'weeklyTimeCommitment', 'deliveryPreference', 'badges'\r\n        ];\r\n        const filtered: Record<string, any> = {};\r\n\r\n        for (const [key, value] of Object.entries(updates)) {\r\n            if (allowedFields.includes(key) && value !== undefined) {\r\n                filtered[key] = value;\r\n            }\r\n        }\r\n\r\n        if (Object.keys(filtered).length > 0) {\r\n            await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), filtered);\r\n        }\r\n    },\r\n\r\n    // Save opportunity to user's savedOpportunities array\r\n    async saveOpportunity(userId: string, opportunityId: string): Promise<void> {\r\n        const { arrayUnion } = await import('firebase/firestore');\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            savedOpportunities: arrayUnion(opportunityId),\r\n            xpPoints: increment(5), // +5 XP for saving\r\n        });\r\n    },\r\n\r\n    // Unsave opportunity from user's savedOpportunities array\r\n    async unsaveOpportunity(userId: string, opportunityId: string): Promise<void> {\r\n        const { arrayRemove } = await import('firebase/firestore');\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            savedOpportunities: arrayRemove(opportunityId),\r\n        });\r\n    },\r\n\r\n    // Apply to opportunity and track it\r\n    async applyToOpportunity(userId: string, opportunityId: string): Promise<void> {\r\n        const { arrayUnion } = await import('firebase/firestore');\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            appliedOpportunities: arrayUnion(opportunityId),\r\n            xpPoints: increment(40), // +40 XP for applying\r\n        });\r\n    },\r\n\r\n    // Add XP when completing profile fields\r\n    async addProfileXP(userId: string, xpAmount: number): Promise<void> {\r\n        await updateDoc(doc(db, COLLECTIONS.studentUsers, userId), {\r\n            xpPoints: increment(xpAmount),\r\n        });\r\n    },\r\n};\r\n\r\nexport default studentAuthService;\r\n"],"names":[],"mappings":";;;;;;AAAA;;;CAGC,GAED;AAAA;AAaA;;;AA8DA,+CAA+C;AAC/C,YAAY;AACZ,+CAA+C;AAE/C,MAAM,cAAc;IAChB,cAAc;IACd,iBAAiB;AACrB;AAEA,MAAM,sBAAsB;AAC5B,MAAM,sBAAsB,IAAI,KAAK,MAAM,YAAY;AACvD,MAAM,sBAAsB;AAE5B,+CAA+C;AAC/C,+BAA+B;AAC/B,+CAA+C;AAE/C,eAAe,QAAQ,GAAW;IAC9B,wCAAwC;IACxC,MAAM,UAAU,IAAI;IACpB,MAAM,OAAO,QAAQ,MAAM,CAAC,MAAM;IAClC,MAAM,aAAa,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,WAAW;IACzD,MAAM,YAAY,MAAM,IAAI,CAAC,IAAI,WAAW;IAC5C,OAAO,UAAU,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC;AACpE;AAEA,eAAe,UAAU,GAAW,EAAE,IAAY;IAC9C,MAAM,YAAY,MAAM,QAAQ;IAChC,OAAO,cAAc;AACzB;AAEA,+CAA+C;AAC/C,mBAAmB;AACnB,+CAA+C;AAE/C,SAAS;IACL,MAAM,KAAK,UAAU,SAAS;IAC9B,IAAI,SAAS;IACb,IAAI,UAAU;IAEd,gBAAgB;IAChB,IAAI,UAAU,IAAI,CAAC,KAAK,SAAS;SAC5B,IAAI,QAAQ,IAAI,CAAC,KAAK,SAAS;SAC/B,IAAI,WAAW,IAAI,CAAC,KAAK,SAAS;SAClC,IAAI,WAAW,IAAI,CAAC,KAAK,SAAS;SAClC,IAAI,OAAO,IAAI,CAAC,KAAK,SAAS;SAC9B,IAAI,SAAS,IAAI,CAAC,KAAK,SAAS;IAErC,iBAAiB;IACjB,IAAI,UAAU,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,KAAK,UAAU;SACjD,IAAI,UAAU,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,CAAC,KAAK,UAAU;SACzD,IAAI,WAAW,IAAI,CAAC,KAAK,UAAU;SACnC,IAAI,OAAO,IAAI,CAAC,KAAK,UAAU;IAEpC,OAAO;QAAE;QAAQ;IAAQ;AAC7B;AAEA;;;;;CAKC,GACD,SAAS,mBAAmB,WAA6B,EAAE,aAAqB;IAC5E,IAAI,CAAC,aAAa,OAAO;IAEzB,MAAM,MAAM,IAAI;IAChB,MAAM,WAAW,IAAI,KAAK;IAC1B,SAAS,QAAQ,CAAC,GAAG,GAAG,GAAG;IAC3B,MAAM,UAAU,IAAI,KAAK;IACzB,QAAQ,QAAQ,CAAC,GAAG,GAAG,GAAG;IAE1B,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,QAAQ,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;IAE1F,IAAI,YAAY,GAAG;QACf,iCAAiC;QACjC,OAAO,gBAAgB;IAC3B,OAAO,IAAI,UAAU,GAAG;QACpB,0BAA0B;QAC1B,OAAO;IACX,OAAO,IAAI,YAAY,GAAG;QACtB,0BAA0B;QAC1B,OAAO,iBAAiB;IAC5B;IAEA,OAAO,iBAAiB;AAC5B;AAMO,MAAM,qBAAqB;IAC9B,+CAA+C;IAC/C,eAAe;IACf,+CAA+C;IAE/C,MAAM,UAAS,KAAa,EAAE,GAAW;QACrC,IAAI;YACA,wCAAwC;YACxC,MAAM,aAAa,MAAM,OAAO,CAAC,OAAO;YACxC,IAAI,WAAW,MAAM,KAAK,IAAI;gBAC1B,OAAO;oBAAE,SAAS;oBAAO,OAAO;oBAA+C,WAAW;gBAAgB;YAC9G;YAEA,sBAAsB;YACtB,IAAI,CAAC,UAAU,IAAI,CAAC,MAAM;gBACtB,OAAO;oBAAE,SAAS;oBAAO,OAAO;oBAAwB,WAAW;gBAAc;YACrF;YAEA,oCAAoC;YACpC,MAAM,gBAAgB,IAAA,2KAAK,EACvB,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,YAAY,GACvC,IAAA,2KAAK,EAAC,SAAS,MAAM;YAEzB,MAAM,eAAe,MAAM,IAAA,6KAAO,EAAC;YACnC,IAAI,CAAC,aAAa,KAAK,EAAE;gBACrB,OAAO;oBAAE,SAAS;oBAAO,OAAO;oBAAsD,WAAW;gBAAe;YACpH;YAEA,eAAe;YACf,MAAM,UAAU,MAAM,QAAQ;YAE9B,uBAAuB;YACvB,MAAM,SAAS,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,KAAK,GAAG,IAAI;YACjD,MAAM,MAAM,IAAI;YAEhB,MAAM,UAAuB;gBACzB,IAAI;gBACJ,OAAO;gBACP,UAAU;gBACV,OAAO;gBACP,YAAY;gBACZ,QAAQ;oBAAC;iBAAa;gBACtB,WAAW,EAAE;gBACb,sBAAsB,EAAE;gBACxB,oBAAoB,EAAE;gBACtB,YAAY;gBACZ,WAAW;gBACX,qBAAqB;gBACrB,aAAa;gBACb,WAAW;gBACX,YAAY;YAChB;YAEA,oBAAoB;YACpB,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;gBACpD,GAAG,OAAO;gBACV;gBACA,WAAW,+KAAS,CAAC,QAAQ,CAAC;gBAC9B,aAAa,+KAAS,CAAC,QAAQ,CAAC;YACpC;YAEA,iBAAiB;YACjB,MAAM,UAAU,MAAM,IAAI,CAAC,aAAa,CAAC;YAEzC,OAAO;gBAAE,SAAS;gBAAM,MAAM;gBAAS;YAAQ;QACnD,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,uBAAuB;YACrC,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAA0C;QAC9E;IACJ;IAEA,+CAA+C;IAC/C,QAAQ;IACR,+CAA+C;IAE/C,MAAM,OAAM,KAAa,EAAE,GAAW;QAClC,IAAI;YACA,wBAAwB;YACxB,MAAM,aAAa,MAAM,OAAO,CAAC,OAAO;YACxC,IAAI,WAAW,MAAM,KAAK,IAAI;gBAC1B,OAAO;oBAAE,SAAS;oBAAO,OAAO;oBAA+C,WAAW;gBAAgB;YAC9G;YAEA,qBAAqB;YACrB,MAAM,YAAY,IAAA,2KAAK,EACnB,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,YAAY,GACvC,IAAA,2KAAK,EAAC,SAAS,MAAM;YAEzB,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;YAE/B,IAAI,SAAS,KAAK,EAAE;gBAChB,OAAO;oBAAE,SAAS;oBAAO,OAAO;oBAAwD,WAAW;gBAAiB;YACxH;YAEA,MAAM,UAAU,SAAS,IAAI,CAAC,EAAE;YAChC,MAAM,WAAW,QAAQ,IAAI;YAE7B,mBAAmB;YACnB,IAAI,SAAS,SAAS,EAAE;gBACpB,OAAO;oBAAE,SAAS;oBAAO,OAAO;oBAA4D,WAAW;gBAAU;YACrH;YAEA,sBAAsB;YACtB,MAAM,YAAY,MAAM,IAAI,CAAC,cAAc,CAAC;YAC5C,IAAI,CAAC,UAAU,OAAO,EAAE;gBACpB,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,UAAU,YAAY,CAAE,OAAO,KAAK,KAAK,GAAG,EAAE,IAAI;gBAC9E,OAAO;oBACH,SAAS;oBACT,OAAO,CAAC,oCAAoC,EAAE,SAAS,MAAM,CAAC;oBAC9D,WAAW;gBACf;YACJ;YAEA,aAAa;YACb,MAAM,aAAa,MAAM,UAAU,KAAK,SAAS,OAAO;YACxD,IAAI,CAAC,YAAY;gBACb,MAAM,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE;gBAC7C,MAAM,YAAY,sBAAsB,CAAC,SAAS,mBAAmB,GAAG,CAAC;gBACzE,OAAO;oBACH,SAAS;oBACT,OAAO,YAAY,IACb,CAAC,WAAW,EAAE,UAAU,iBAAiB,CAAC,GAC1C;oBACN,WAAW;gBACf;YACJ;YAEA,uBAAuB;YACvB,MAAM,YAAY,mBAAmB,SAAS,WAAW,EAAE,UAAU,SAAS,UAAU,IAAI;YAE5F,8CAA8C;YAC9C,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,QAAQ,EAAE,GAAG;gBAC3D,qBAAqB;gBACrB,aAAa,+KAAS,CAAC,GAAG;gBAC1B,YAAY;gBACZ,UAAU,IAAA,+KAAS,EAAC;YACxB;YAEA,iBAAiB;YACjB,MAAM,UAAU,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YAEnD,oBAAoB;YACpB,MAAM,OAAoB;gBACtB,IAAI,QAAQ,EAAE;gBACd,OAAO,SAAS,KAAK;gBACrB,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,KAAK;gBACrB,QAAQ,SAAS,MAAM;gBACvB,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,KAAK;gBACrB,gBAAgB,SAAS,cAAc;gBACvC,QAAQ,SAAS,MAAM;gBACvB,WAAW,SAAS,SAAS,IAAI,EAAE;gBACnC,sBAAsB,SAAS,oBAAoB,IAAI,EAAE;gBACzD,oBAAoB,SAAS,kBAAkB,IAAI,EAAE;gBACrD,UAAU,CAAC,SAAS,QAAQ,IAAI,CAAC,IAAI;gBACrC,OAAO,SAAS,KAAK,IAAI;gBACzB,YAAY;gBACZ,QAAQ,SAAS,MAAM,IAAI,EAAE;gBAC7B,YAAY,SAAS,UAAU,IAAI;gBACnC,WAAW;gBACX,qBAAqB;gBACrB,aAAa,IAAI;gBACjB,WAAW,SAAS,SAAS,EAAE,YAAY,IAAI;gBAC/C,YAAY,SAAS,UAAU,IAAI;YACvC;YAEA,OAAO;gBAAE,SAAS;gBAAM;gBAAM;YAAQ;QAC1C,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAA0C;QAC9E;IACJ;IAEA,+CAA+C;IAC/C,qBAAqB;IACrB,+CAA+C;IAE/C,MAAM,eAAc,MAAc;QAC9B,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG;QAC5B,MAAM,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,IAAI;QACnD,MAAM,MAAM,IAAI;QAEhB,MAAM,UAAuB;YACzB,IAAI;YACJ;YACA;YACA;YACA,WAAW;YACX,cAAc;YACd,UAAU;QACd;QAEA,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,eAAe,EAAE,YAAY;YAC1D,GAAG,OAAO;YACV,WAAW,+KAAS,CAAC,QAAQ,CAAC;YAC9B,cAAc,+KAAS,CAAC,QAAQ,CAAC;QACrC;QAEA,mCAAmC;QACnC,aAAa,OAAO,CAAC,iBAAiB;QACtC,aAAa,OAAO,CAAC,iBAAiB;QAEtC,OAAO;IACX;IAEA,MAAM,iBAAgB,SAAiB;QACnC,IAAI;YACA,MAAM,aAAa,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,eAAe,EAAE;YACrE,IAAI,CAAC,WAAW,MAAM,IAAI,OAAO;YAEjC,MAAM,cAAc,WAAW,IAAI;YACnC,IAAI,CAAC,YAAY,QAAQ,EAAE,OAAO;YAElC,uBAAuB;YACvB,MAAM,YAAY,YAAY,SAAS,EAAE,YAAY,IAAI;YACzD,MAAM,aAAa,IAAI,KAAK,UAAU,OAAO,KAAK,sBAAsB,KAAK,KAAK,KAAK;YACvF,IAAI,IAAI,SAAS,YAAY;gBACzB,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBAC5B,OAAO;YACX;YAEA,gBAAgB;YAChB,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,YAAY,MAAM;YACjF,IAAI,CAAC,QAAQ,MAAM,IAAI,OAAO;YAE9B,MAAM,WAAW,QAAQ,IAAI;YAC7B,IAAI,SAAS,SAAS,EAAE,OAAO;YAE/B,qBAAqB;YACrB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,eAAe,EAAE,YAAY;gBAC7D,cAAc,+KAAS,CAAC,GAAG;YAC/B;YAEA,OAAO;gBACH,IAAI,QAAQ,EAAE;gBACd,OAAO,SAAS,KAAK;gBACrB,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,KAAK;gBACrB,QAAQ,SAAS,MAAM;gBACvB,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,KAAK;gBACrB,gBAAgB,SAAS,cAAc;gBACvC,QAAQ,SAAS,MAAM;gBACvB,WAAW,SAAS,SAAS,IAAI,EAAE;gBACnC,sBAAsB,SAAS,oBAAoB,IAAI,EAAE;gBACzD,oBAAoB,SAAS,kBAAkB,IAAI,EAAE;gBACrD,UAAU,SAAS,QAAQ,IAAI;gBAC/B,OAAO,SAAS,KAAK,IAAI;gBACzB,YAAY,SAAS,UAAU,IAAI;gBACnC,QAAQ,SAAS,MAAM,IAAI,EAAE;gBAC7B,YAAY,SAAS,UAAU,IAAI;gBACnC,WAAW;gBACX,qBAAqB;gBACrB,aAAa,SAAS,WAAW,EAAE;gBACnC,WAAW,SAAS,SAAS,EAAE,YAAY,IAAI;gBAC/C,YAAY,SAAS,UAAU,IAAI;YACvC;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;QACX;IACJ;IAEA,MAAM,kBAAiB,SAAiB;QACpC,IAAI;YACA,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,eAAe,EAAE,YAAY;gBAC7D,UAAU;YACd;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;QAChD;IACJ;IAEA,MAAM;QACF,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACX,MAAM,IAAI,CAAC,gBAAgB,CAAC;QAChC;QACA,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC5B;IAEA,+CAA+C;IAC/C,gBAAgB;IAChB,+CAA+C;IAE/C,MAAM,gBAAe,QAAa;QAC9B,MAAM,iBAAiB,SAAS,mBAAmB,IAAI;QACvD,MAAM,aAAa,SAAS,iBAAiB,EAAE;QAE/C,IAAI,kBAAkB,uBAAuB,YAAY;YACrD,MAAM,eAAe,IAAI,KAAK,WAAW,OAAO,KAAK;YACrD,IAAI,IAAI,SAAS,cAAc;gBAC3B,OAAO;oBACH,SAAS;oBACT,mBAAmB;oBACnB;gBACJ;YACJ;QACJ;QAEA,OAAO;YACH,SAAS;YACT,mBAAmB,sBAAsB;QAC7C;IACJ;IAEA,MAAM,yBAAwB,MAAc;QACxC,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,qBAAqB,IAAA,+KAAS,EAAC;YAC/B,mBAAmB,+KAAS,CAAC,GAAG;QACpC;IACJ;IAEA,+CAA+C;IAC/C,kBAAkB;IAClB,+CAA+C;IAE/C,MAAM,aAAY,OAAgD;QAC9D,IAAI;YACA,IAAI,IAAI,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,YAAY;YAC/C,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;YAE/B,IAAI,QAAQ,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA;gBAC1B,MAAM,OAAO,IAAI,IAAI;gBACrB,OAAO;oBACH,IAAI,IAAI,EAAE;oBACV,OAAO,KAAK,KAAK;oBACjB,MAAM,KAAK,IAAI;oBACf,OAAO,KAAK,KAAK;oBACjB,QAAQ,KAAK,MAAM;oBACnB,MAAM,KAAK,IAAI;oBACf,UAAU,KAAK,QAAQ,IAAI;oBAC3B,OAAO,KAAK,KAAK,IAAI;oBACrB,YAAY,KAAK,UAAU,IAAI;oBAC/B,QAAQ,KAAK,MAAM,IAAI,EAAE;oBACzB,YAAY,KAAK,UAAU,IAAI;oBAC/B,WAAW,KAAK,SAAS,IAAI;oBAC7B,aAAa,KAAK,WAAW;oBAC7B,qBAAqB,KAAK,mBAAmB,IAAI;oBACjD,aAAa,KAAK,WAAW,EAAE;oBAC/B,mBAAmB,KAAK,iBAAiB,EAAE;oBAC3C,WAAW,KAAK,SAAS,EAAE,YAAY,IAAI;oBAC3C,YAAY,KAAK,UAAU,IAAI;oBAC/B,sBAAsB;oBACtB,aAAa,KAAK,WAAW;oBAC7B,iBAAiB,KAAK,eAAe;oBACrC,sBAAsB,KAAK,oBAAoB;oBAC/C,oBAAoB,KAAK,kBAAkB;oBAC3C,WAAW,KAAK,SAAS,IAAI,EAAE;gBACnC;YACJ;YAEA,gBAAgB;YAChB,IAAI,SAAS,QAAQ;gBACjB,MAAM,SAAS,QAAQ,MAAM,CAAC,WAAW;gBACzC,QAAQ,MAAM,MAAM,CAAC,CAAA,IACjB,EAAE,KAAK,CAAC,QAAQ,CAAC,WACjB,EAAE,IAAI,EAAE,cAAc,SAAS;YAEvC;YAEA,IAAI,SAAS,YAAY,WAAW;gBAChC,QAAQ,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,QAAQ,OAAO;YAC7D;YAEA,OAAO,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,CAAC,OAAO,KAAK,EAAE,SAAS,CAAC,OAAO;QAC3E,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,yBAAyB;YACvC,OAAO,EAAE;QACb;IACJ;IAEA,MAAM,iBAAgB,MAAc;QAChC,IAAI;YACA,MAAM,IAAI,IAAA,2KAAK,EACX,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,eAAe,GAC1C,IAAA,2KAAK,EAAC,UAAU,MAAM;YAE1B,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;YAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA;gBACrB,MAAM,OAAO,IAAI,IAAI;gBACrB,OAAO;oBACH,IAAI,IAAI,EAAE;oBACV,QAAQ,KAAK,MAAM;oBACnB,QAAQ,KAAK,MAAM;oBACnB,SAAS,KAAK,OAAO;oBACrB,WAAW,KAAK,SAAS,EAAE,YAAY,IAAI;oBAC3C,cAAc,KAAK,YAAY,EAAE,YAAY,IAAI;oBACjD,UAAU,KAAK,QAAQ;gBAC3B;YACJ,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,YAAY,CAAC,OAAO,KAAK,EAAE,YAAY,CAAC,OAAO;QACvE,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,OAAO,EAAE;QACb;IACJ;IAEA,MAAM,WAAU,MAAc,EAAE,MAAc;QAC1C,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,WAAW;YACX,aAAa;QACjB;QAEA,yBAAyB;QACzB,MAAM,WAAW,MAAM,IAAI,CAAC,eAAe,CAAC;QAC5C,KAAK,MAAM,WAAW,SAAU;YAC5B,MAAM,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE;QAC1C;IACJ;IAEA,MAAM,aAAY,MAAc;QAC5B,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,WAAW;YACX,aAAa;YACb,qBAAqB;QACzB;IACJ;IAEA,MAAM,cAAa,MAAc,EAAE,MAAc;QAC7C,MAAM,UAAU,MAAM,QAAQ;QAC9B,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD;YACA,qBAAqB;QACzB;IACJ;IAEA,MAAM,0BAAyB,MAAc;QACzC,MAAM,WAAW,MAAM,IAAI,CAAC,eAAe,CAAC;QAC5C,KAAK,MAAM,WAAW,SAAU;YAC5B,MAAM,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE;QAC1C;IACJ;IAEA,MAAM,cAAa,MAAc,EAAE,OAAe;QAC9C,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,UAAU,IAAA,+KAAS,EAAC;QACxB;IACJ;IAEA,yBAAyB;IACzB,MAAM,eAAc,MAAc,EAAE,OAA6B;QAC7D,uDAAuD;QACvD,MAAM,gBAAgB;YAClB;YAAQ;YAAkB;YAAS;YAAU;YAAQ;YAAS;YAAU;YACxE;YAAe;YAAmB;YAAwB;YAAsB;SACnF;QACD,MAAM,WAAgC,CAAC;QAEvC,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,SAAU;YAChD,IAAI,cAAc,QAAQ,CAAC,QAAQ,UAAU,WAAW;gBACpD,QAAQ,CAAC,IAAI,GAAG;YACpB;QACJ;QAEA,IAAI,OAAO,IAAI,CAAC,UAAU,MAAM,GAAG,GAAG;YAClC,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;QAC/D;IACJ;IAEA,sDAAsD;IACtD,MAAM,iBAAgB,MAAc,EAAE,aAAqB;QACvD,MAAM,EAAE,UAAU,EAAE,GAAG;QACvB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,oBAAoB,WAAW;YAC/B,UAAU,IAAA,+KAAS,EAAC;QACxB;IACJ;IAEA,0DAA0D;IAC1D,MAAM,mBAAkB,MAAc,EAAE,aAAqB;QACzD,MAAM,EAAE,WAAW,EAAE,GAAG;QACxB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,oBAAoB,YAAY;QACpC;IACJ;IAEA,oCAAoC;IACpC,MAAM,oBAAmB,MAAc,EAAE,aAAqB;QAC1D,MAAM,EAAE,UAAU,EAAE,GAAG;QACvB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,sBAAsB,WAAW;YACjC,UAAU,IAAA,+KAAS,EAAC;QACxB;IACJ;IAEA,wCAAwC;IACxC,MAAM,cAAa,MAAc,EAAE,QAAgB;QAC/C,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,YAAY,EAAE,SAAS;YACvD,UAAU,IAAA,+KAAS,EAAC;QACxB;IACJ;AACJ;uCAEe"}},
    {"offset": {"line": 1261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/lib/studentAuth.tsx"],"sourcesContent":["/**\r\n * Student Authentication Context\r\n * Provides auth state and methods throughout the app\r\n */\r\n\r\n\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect, useCallback, type ReactNode } from \"react\";\r\nimport { studentAuthService, type StudentUser, type AuthResult } from \"./studentAuthService\";\r\n\r\n// ============================================\r\n// TYPES\r\n// ============================================\r\n\r\nexport interface AuthModalOptions {\r\n    mode?: 'login' | 'register';\r\n    trigger?: 'heart' | 'save' | 'apply' | 'profile' | 'manual';\r\n    message?: string;\r\n    onSuccess?: () => void;\r\n    onClose?: () => void;\r\n}\r\n\r\ninterface StudentAuthContextType {\r\n    // State\r\n    student: StudentUser | null;\r\n    loading: boolean;\r\n    isAuthenticated: boolean;\r\n\r\n    // Auth Modal\r\n    authModalOpen: boolean;\r\n    authModalOptions: AuthModalOptions | null;\r\n    showAuthModal: (options?: AuthModalOptions) => void;\r\n    hideAuthModal: () => void;\r\n\r\n    // Auth Actions\r\n    login: (phone: string, pin: string) => Promise<AuthResult>;\r\n    register: (phone: string, pin: string) => Promise<AuthResult>;\r\n    logout: () => Promise<void>;\r\n\r\n    // User Updates\r\n    refreshUser: () => Promise<void>;\r\n    addXP: (amount: number) => void;\r\n    updateStudent: (updates: Partial<StudentUser>) => Promise<void>;\r\n\r\n    // Opportunity Actions\r\n    saveOpportunity: (opportunityId: string) => Promise<void>;\r\n    unsaveOpportunity: (opportunityId: string) => Promise<void>;\r\n    applyToOpportunity: (opportunityId: string) => Promise<void>;\r\n    addXPWithPersist: (amount: number) => Promise<void>;\r\n}\r\n\r\n// ============================================\r\n// CONTEXT\r\n// ============================================\r\n\r\nconst StudentAuthContext = createContext<StudentAuthContextType | undefined>(undefined);\r\n\r\nexport const useStudentAuth = () => {\r\n    const context = useContext(StudentAuthContext);\r\n    if (!context) {\r\n        throw new Error(\"useStudentAuth must be used within a StudentAuthProvider\");\r\n    }\r\n    return context;\r\n};\r\n\r\n// ============================================\r\n// PROVIDER\r\n// ============================================\r\n\r\ninterface StudentAuthProviderProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport const StudentAuthProvider = ({ children }: StudentAuthProviderProps) => {\r\n    const [student, setStudent] = useState<StudentUser | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [authModalOpen, setAuthModalOpen] = useState(false);\r\n    const [authModalOptions, setAuthModalOptions] = useState<AuthModalOptions | null>(null);\r\n\r\n    // Check for existing session on mount\r\n    useEffect(() => {\r\n        const checkExistingSession = async () => {\r\n            try {\r\n                const sessionId = localStorage.getItem('myark_session');\r\n                if (sessionId) {\r\n                    const user = await studentAuthService.validateSession(sessionId);\r\n                    if (user) {\r\n                        setStudent(user);\r\n                    } else {\r\n                        // Clear invalid session\r\n                        localStorage.removeItem('myark_session');\r\n                        localStorage.removeItem('myark_user_id');\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Session check error:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        checkExistingSession();\r\n    }, []);\r\n\r\n    // Auth Modal Controls\r\n    const showAuthModal = useCallback((options?: AuthModalOptions) => {\r\n        setAuthModalOptions(options || { mode: 'login' });\r\n        setAuthModalOpen(true);\r\n    }, []);\r\n\r\n    const hideAuthModal = useCallback(() => {\r\n        setAuthModalOpen(false);\r\n        authModalOptions?.onClose?.();\r\n        // Small delay before clearing options to prevent flash\r\n        setTimeout(() => setAuthModalOptions(null), 300);\r\n    }, [authModalOptions]);\r\n\r\n    // Login\r\n    const login = useCallback(async (phone: string, pin: string): Promise<AuthResult> => {\r\n        const result = await studentAuthService.login(phone, pin);\r\n        if (result.success && result.user) {\r\n            setStudent(result.user);\r\n            hideAuthModal();\r\n            authModalOptions?.onSuccess?.();\r\n        }\r\n        return result;\r\n    }, [hideAuthModal, authModalOptions]);\r\n\r\n    // Register\r\n    const register = useCallback(async (phone: string, pin: string): Promise<AuthResult> => {\r\n        const result = await studentAuthService.register(phone, pin);\r\n        if (result.success && result.user) {\r\n            setStudent(result.user);\r\n            hideAuthModal();\r\n            authModalOptions?.onSuccess?.();\r\n        }\r\n        return result;\r\n    }, [hideAuthModal, authModalOptions]);\r\n\r\n    // Logout\r\n    const logout = useCallback(async () => {\r\n        await studentAuthService.logout();\r\n        setStudent(null);\r\n    }, []);\r\n\r\n    // Refresh user data\r\n    const refreshUser = useCallback(async () => {\r\n        const sessionId = localStorage.getItem('myark_session');\r\n        if (sessionId) {\r\n            const user = await studentAuthService.validateSession(sessionId);\r\n            if (user) {\r\n                setStudent(user);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    // Add XP (optimistic update)\r\n    const addXP = useCallback((amount: number) => {\r\n        if (student) {\r\n            setStudent(prev => prev ? { ...prev, xpPoints: prev.xpPoints + amount } : null);\r\n        }\r\n    }, [student]);\r\n\r\n    // Update student profile (optimistic update + persist)\r\n    const updateStudent = useCallback(async (updates: Partial<StudentUser>) => {\r\n        if (!student) return;\r\n\r\n        // Optimistic update\r\n        setStudent(prev => prev ? { ...prev, ...updates } : null);\r\n\r\n        // Persist to backend\r\n        try {\r\n            await studentAuthService.updateProfile(student.id, updates);\r\n        } catch (error) {\r\n            console.error(\"Failed to update profile:\", error);\r\n            // Revert on error\r\n            await refreshUser();\r\n            throw error;\r\n        }\r\n    }, [student, refreshUser]);\r\n\r\n    // Save opportunity (with XP)\r\n    const saveOpportunity = useCallback(async (opportunityId: string) => {\r\n        if (!student) return;\r\n        // Optimistic update\r\n        setStudent(prev => prev ? {\r\n            ...prev,\r\n            savedOpportunities: [...(prev.savedOpportunities || []), opportunityId],\r\n            xpPoints: prev.xpPoints + 5\r\n        } : null);\r\n        try {\r\n            await studentAuthService.saveOpportunity(student.id, opportunityId);\r\n        } catch (error) {\r\n            console.error(\"Failed to save opportunity:\", error);\r\n            await refreshUser();\r\n        }\r\n    }, [student, refreshUser]);\r\n\r\n    // Unsave opportunity\r\n    const unsaveOpportunity = useCallback(async (opportunityId: string) => {\r\n        if (!student) return;\r\n        // Optimistic update\r\n        setStudent(prev => prev ? {\r\n            ...prev,\r\n            savedOpportunities: (prev.savedOpportunities || []).filter(id => id !== opportunityId)\r\n        } : null);\r\n        try {\r\n            await studentAuthService.unsaveOpportunity(student.id, opportunityId);\r\n        } catch (error) {\r\n            console.error(\"Failed to unsave opportunity:\", error);\r\n            await refreshUser();\r\n        }\r\n    }, [student, refreshUser]);\r\n\r\n    // Apply to opportunity (with XP)\r\n    const applyToOpportunity = useCallback(async (opportunityId: string) => {\r\n        if (!student) return;\r\n        // Optimistic update\r\n        setStudent(prev => prev ? {\r\n            ...prev,\r\n            appliedOpportunities: [...(prev.appliedOpportunities || []), opportunityId],\r\n            xpPoints: prev.xpPoints + 40\r\n        } : null);\r\n        try {\r\n            await studentAuthService.applyToOpportunity(student.id, opportunityId);\r\n        } catch (error) {\r\n            console.error(\"Failed to apply to opportunity:\", error);\r\n            await refreshUser();\r\n        }\r\n    }, [student, refreshUser]);\r\n\r\n    // Add XP with persistence\r\n    const addXPWithPersist = useCallback(async (amount: number) => {\r\n        if (!student) return;\r\n        // Optimistic update\r\n        setStudent(prev => prev ? { ...prev, xpPoints: prev.xpPoints + amount } : null);\r\n        try {\r\n            await studentAuthService.addProfileXP(student.id, amount);\r\n        } catch (error) {\r\n            console.error(\"Failed to add XP:\", error);\r\n            await refreshUser();\r\n        }\r\n    }, [student, refreshUser]);\r\n\r\n    const value: StudentAuthContextType = {\r\n        student,\r\n        loading,\r\n        isAuthenticated: !!student,\r\n        authModalOpen,\r\n        authModalOptions,\r\n        showAuthModal,\r\n        hideAuthModal,\r\n        login,\r\n        register,\r\n        logout,\r\n        refreshUser,\r\n        addXP,\r\n        updateStudent,\r\n        saveOpportunity,\r\n        unsaveOpportunity,\r\n        applyToOpportunity,\r\n        addXPWithPersist,\r\n    };\r\n\r\n    return (\r\n        <StudentAuthContext.Provider value={value}>\r\n            {children}\r\n        </StudentAuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default StudentAuthContext;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/hooks/useMediaQuery.ts"],"sourcesContent":["import * as React from \"react\";\r\n\r\nexport function useMediaQuery(query: string): boolean {\r\n    const [matches, setMatches] = React.useState<boolean>(false);\r\n\r\n    React.useEffect(() => {\r\n        const mql = window.matchMedia(query);\r\n        const onChange = (e: MediaQueryListEvent) => {\r\n            setMatches(e.matches);\r\n        };\r\n\r\n        // Set initial value\r\n        setMatches(mql.matches);\r\n\r\n        // Listen for changes\r\n        mql.addEventListener(\"change\", onChange);\r\n        return () => mql.removeEventListener(\"change\", onChange);\r\n    }, [query]);\r\n\r\n    return matches;\r\n}\r\n\r\nexport default useMediaQuery;\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAEO,SAAS,cAAc,KAAa;;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,yKAAc,CAAU;IAEtD,0KAAe;mCAAC;YACZ,MAAM,MAAM,OAAO,UAAU,CAAC;YAC9B,MAAM;oDAAW,CAAC;oBACd,WAAW,EAAE,OAAO;gBACxB;;YAEA,oBAAoB;YACpB,WAAW,IAAI,OAAO;YAEtB,qBAAqB;YACrB,IAAI,gBAAgB,CAAC,UAAU;YAC/B;2CAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;;QACnD;kCAAG;QAAC;KAAM;IAEV,OAAO;AACX;GAlBgB;uCAoBD"}},
    {"offset": {"line": 1616, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-95\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_20px_hsl(185_100%_50%_/_0.3)]\",\r\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline: \"border-2 border-primary/50 bg-transparent text-foreground hover:bg-primary/10 hover:border-primary\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-[0_0_20px_hsl(15_95%_60%_/_0.3)]\",\r\n        ghost: \"hover:bg-muted hover:text-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n        hero: \"bg-gradient-to-r from-primary to-blue-500 text-primary-foreground hover:shadow-[0_0_40px_hsl(185_100%_50%_/_0.4)] hover:scale-105\",\r\n        accent: \"bg-gradient-to-r from-secondary to-accent text-accent-foreground hover:shadow-[0_0_40px_hsl(45_100%_55%_/_0.4)] hover:scale-105\",\r\n        glass: \"bg-white/5 backdrop-blur-xl border border-white/10 text-foreground hover:bg-white/10 hover:border-white/20\",\r\n        success: \"bg-gradient-to-r from-success to-primary text-success-foreground hover:shadow-[0_0_40px_hsl(150_80%_50%_/_0.4)] hover:scale-105\",\r\n      },\r\n      size: {\r\n        default: \"h-11 px-6 py-2\",\r\n        sm: \"h-9 rounded-lg px-4\",\r\n        lg: \"h-14 rounded-2xl px-8 text-base\",\r\n        xl: \"h-16 rounded-2xl px-10 text-lg\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\r\n  },\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,wXACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;YACN,MAAM;YACN,QAAQ;YACR,OAAO;YACP,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBAAO,6LAAC;QAAK,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1688, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/drawer.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Drawer as DrawerPrimitive } from \"vaul\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Drawer = ({ shouldScaleBackground = true, ...props }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\r\n  <DrawerPrimitive.Root shouldScaleBackground={shouldScaleBackground} {...props} />\r\n);\r\nDrawer.displayName = \"Drawer\";\r\n\r\nconst DrawerTrigger = DrawerPrimitive.Trigger;\r\n\r\nconst DrawerPortal = DrawerPrimitive.Portal;\r\n\r\nconst DrawerClose = DrawerPrimitive.Close;\r\n\r\nconst DrawerOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DrawerPrimitive.Overlay ref={ref} className={cn(\"fixed inset-0 z-50 bg-black/80\", className)} {...props} />\r\n));\r\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\r\n\r\nconst DrawerContent = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DrawerPortal>\r\n    <DrawerOverlay />\r\n    <DrawerPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\r\n      {children}\r\n    </DrawerPrimitive.Content>\r\n  </DrawerPortal>\r\n));\r\nDrawerContent.displayName = \"DrawerContent\";\r\n\r\nconst DrawerHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)} {...props} />\r\n);\r\nDrawerHeader.displayName = \"DrawerHeader\";\r\n\r\nconst DrawerFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)} {...props} />\r\n);\r\nDrawerFooter.displayName = \"DrawerFooter\";\r\n\r\nconst DrawerTitle = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DrawerPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\r\n\r\nconst DrawerDescription = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DrawerPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n));\r\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\r\n\r\nexport {\r\n  Drawer,\r\n  DrawerPortal,\r\n  DrawerOverlay,\r\n  DrawerTrigger,\r\n  DrawerClose,\r\n  DrawerContent,\r\n  DrawerHeader,\r\n  DrawerFooter,\r\n  DrawerTitle,\r\n  DrawerDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,SAAS,CAAC,EAAE,wBAAwB,IAAI,EAAE,GAAG,OAA0D,iBAC3G,6LAAC,mJAAe,CAAC,IAAI;QAAC,uBAAuB;QAAwB,GAAG,KAAK;;;;;;KADzE;AAGN,OAAO,WAAW,GAAG;AAErB,MAAM,gBAAgB,mJAAe,CAAC,OAAO;AAE7C,MAAM,eAAe,mJAAe,CAAC,MAAM;AAE3C,MAAM,cAAc,mJAAe,CAAC,KAAK;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mJAAe,CAAC,OAAO;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,kCAAkC;QAAa,GAAG,KAAK;;;;;;MAJpG;AAMN,cAAc,WAAW,GAAG,mJAAe,CAAC,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,mJAAe,CAAC,OAAO;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,kGACA;gBAED,GAAG,KAAK;;kCAET,6LAAC;wBAAI,WAAU;;;;;;oBACd;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG;AAE5B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,6CAA6C;QAAa,GAAG,KAAK;;;;;;MADjF;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,mCAAmC;QAAa,GAAG,KAAK;;;;;;MADvE;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mJAAe,CAAC,KAAK;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mJAAe,CAAC,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mJAAe,CAAC,WAAW;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAE7G,kBAAkB,WAAW,GAAG,mJAAe,CAAC,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 1837, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { X } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Dialog = DialogPrimitive.Root;\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger;\r\n\r\nconst DialogPortal = DialogPrimitive.Portal;\r\n\r\nconst DialogClose = DialogPrimitive.Close;\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n));\r\nDialogContent.displayName = DialogPrimitive.Content.displayName;\r\n\r\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\r\n);\r\nDialogHeader.displayName = \"DialogHeader\";\r\n\r\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\r\n);\r\nDialogFooter.displayName = \"DialogFooter\";\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\r\n));\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;MAD1F;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;MADrG;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAE7G,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1995, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/auth/MascotFeedback.tsx"],"sourcesContent":["/**\r\n * Mascot Feedback Component\r\n * Animated character that provides friendly feedback during auth flow\r\n */\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useMemo } from \"react\";\r\n\r\nexport type MascotState =\r\n    | 'idle'\r\n    | 'thinking'\r\n    | 'happy'\r\n    | 'excited'\r\n    | 'concerned'\r\n    | 'celebrating';\r\n\r\ninterface MascotFeedbackProps {\r\n    state: MascotState;\r\n    message?: string;\r\n    className?: string;\r\n}\r\n\r\n// Mascot messages based on state\r\nconst defaultMessages: Record<MascotState, string[]> = {\r\n    idle: [\r\n        \"Hey there, explorer! ðŸ‘‹\",\r\n        \"Ready for your next adventure?\",\r\n        \"Let's unlock something awesome!\",\r\n    ],\r\n    thinking: [\r\n        \"Hmm, looking good...\",\r\n        \"Almost there...\",\r\n        \"You got this!\",\r\n    ],\r\n    happy: [\r\n        \"Perfect! ðŸŽ‰\",\r\n        \"You nailed it!\",\r\n        \"That's the spirit!\",\r\n    ],\r\n    excited: [\r\n        \"Let's gooo! ðŸš€\",\r\n        \"This is gonna be epic!\",\r\n        \"Adventure awaits!\",\r\n    ],\r\n    concerned: [\r\n        \"Oops! Try again? ðŸ’ª\",\r\n        \"No worries, one more shot!\",\r\n        \"You can do it!\",\r\n    ],\r\n    celebrating: [\r\n        \"Welcome to the squad! ðŸŽ®\",\r\n        \"You're officially in! âœ¨\",\r\n        \"Let the games begin! ðŸ†\",\r\n    ],\r\n};\r\n\r\n// Mascot expressions as emoji + gradient combos\r\nconst mascotExpressions: Record<MascotState, { emoji: string; gradient: string }> = {\r\n    idle: { emoji: \"ðŸ¦Š\", gradient: \"from-orange-400 to-amber-500\" },\r\n    thinking: { emoji: \"ðŸ¤”\", gradient: \"from-blue-400 to-indigo-500\" },\r\n    happy: { emoji: \"ðŸ˜Š\", gradient: \"from-green-400 to-emerald-500\" },\r\n    excited: { emoji: \"ðŸ¤©\", gradient: \"from-purple-400 to-pink-500\" },\r\n    concerned: { emoji: \"ðŸ˜…\", gradient: \"from-yellow-400 to-orange-500\" },\r\n    celebrating: { emoji: \"ðŸŽ‰\", gradient: \"from-primary to-secondary\" },\r\n};\r\n\r\nconst MascotFeedback = ({ state, message, className = \"\" }: MascotFeedbackProps) => {\r\n    const expression = mascotExpressions[state];\r\n    const defaultMessage = useMemo(() => {\r\n        const messages = defaultMessages[state];\r\n        return messages[Math.floor(Math.random() * messages.length)];\r\n    }, [state]);\r\n\r\n    const displayMessage = message || defaultMessage;\r\n\r\n    return (\r\n        <div className={`flex flex-col items-center gap-4 ${className}`}>\r\n            {/* Animated Mascot Avatar */}\r\n            <motion.div\r\n                key={state}\r\n                initial={{ scale: 0.8, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 1 }}\r\n                transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                className=\"relative\"\r\n            >\r\n                {/* Glow effect */}\r\n                <motion.div\r\n                    className={`absolute inset-0 bg-gradient-to-br ${expression.gradient} rounded-full blur-xl opacity-50`}\r\n                    animate={{\r\n                        scale: state === 'celebrating' ? [1, 1.3, 1] : [1, 1.1, 1],\r\n                        opacity: [0.5, 0.7, 0.5],\r\n                    }}\r\n                    transition={{\r\n                        duration: state === 'celebrating' ? 0.5 : 2,\r\n                        repeat: Infinity,\r\n                        ease: \"easeInOut\",\r\n                    }}\r\n                />\r\n\r\n                {/* Main avatar circle */}\r\n                <motion.div\r\n                    className={`relative w-24 h-24 rounded-full bg-gradient-to-br ${expression.gradient} flex items-center justify-center shadow-2xl`}\r\n                    animate={\r\n                        state === 'celebrating'\r\n                            ? { rotate: [0, -10, 10, -10, 10, 0], scale: [1, 1.1, 1] }\r\n                            : state === 'concerned'\r\n                                ? { x: [0, -5, 5, -5, 5, 0] }\r\n                                : { y: [0, -5, 0] }\r\n                    }\r\n                    transition={{\r\n                        duration: state === 'celebrating' ? 0.5 : state === 'concerned' ? 0.4 : 2,\r\n                        repeat: state === 'celebrating' ? 0 : Infinity,\r\n                        ease: \"easeInOut\",\r\n                    }}\r\n                >\r\n                    <span className=\"text-5xl\" role=\"img\" aria-label=\"mascot\">\r\n                        {expression.emoji}\r\n                    </span>\r\n                </motion.div>\r\n\r\n                {/* Floating particles for celebrating state */}\r\n                <AnimatePresence>\r\n                    {state === 'celebrating' && (\r\n                        <>\r\n                            {[...Array(6)].map((_, i) => (\r\n                                <motion.div\r\n                                    key={i}\r\n                                    initial={{ opacity: 0, scale: 0, x: 0, y: 0 }}\r\n                                    animate={{\r\n                                        opacity: [0, 1, 0],\r\n                                        scale: [0, 1, 0.5],\r\n                                        x: Math.cos((i * 60 * Math.PI) / 180) * 60,\r\n                                        y: Math.sin((i * 60 * Math.PI) / 180) * 60 - 20,\r\n                                    }}\r\n                                    transition={{\r\n                                        duration: 0.8,\r\n                                        delay: i * 0.1,\r\n                                    }}\r\n                                    className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-2xl\"\r\n                                >\r\n                                    {['âœ¨', 'ðŸŒŸ', 'ðŸ’«', 'â­', 'ðŸŽ¯', 'ðŸ†'][i]}\r\n                                </motion.div>\r\n                            ))}\r\n                        </>\r\n                    )}\r\n                </AnimatePresence>\r\n            </motion.div>\r\n\r\n            {/* Message bubble */}\r\n            <motion.div\r\n                key={displayMessage}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"text-center\"\r\n            >\r\n                <p className=\"text-lg font-medium text-foreground\">\r\n                    {displayMessage}\r\n                </p>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MascotFeedback;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2281, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/auth/PhoneInput.tsx"],"sourcesContent":["/**\r\n * Phone Input Component\r\n * Mobile-first phone number input with Indian format\r\n */\r\n\r\nimport { useState, useCallback, useRef, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Phone } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface PhoneInputProps {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    error?: string;\r\n    disabled?: boolean;\r\n    autoFocus?: boolean;\r\n    className?: string;\r\n    onSubmit?: () => void;\r\n}\r\n\r\nconst PhoneInput = ({\r\n    value,\r\n    onChange,\r\n    error,\r\n    disabled = false,\r\n    autoFocus = false,\r\n    className = \"\",\r\n    onSubmit,\r\n}: PhoneInputProps) => {\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const [isFocused, setIsFocused] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (autoFocus && inputRef.current) {\r\n            inputRef.current.focus();\r\n        }\r\n    }, [autoFocus]);\r\n\r\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n        // Only allow digits, max 10\r\n        const digits = e.target.value.replace(/\\D/g, '').slice(0, 10);\r\n        onChange(digits);\r\n    }, [onChange]);\r\n\r\n    const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n        if (e.key === 'Enter' && value.length === 10 && onSubmit) {\r\n            onSubmit();\r\n        }\r\n    }, [value, onSubmit]);\r\n\r\n    // Format display value (e.g., \"98765 43210\")\r\n    const formatDisplayValue = (digits: string): string => {\r\n        if (digits.length <= 5) return digits;\r\n        return `${digits.slice(0, 5)} ${digits.slice(5)}`;\r\n    };\r\n\r\n    return (\r\n        <div className={cn(\"space-y-2\", className)}>\r\n            <motion.div\r\n                initial={{ scale: 0.95, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 1 }}\r\n                className={cn(\r\n                    \"relative flex items-center gap-3 px-4 py-4 rounded-xl border-2 transition-all duration-200\",\r\n                    \"bg-muted/30 backdrop-blur-sm\",\r\n                    isFocused && !error && \"border-primary ring-4 ring-primary/20\",\r\n                    !isFocused && !error && \"border-border hover:border-primary/50\",\r\n                    error && \"border-destructive ring-4 ring-destructive/20\",\r\n                    disabled && \"opacity-50 cursor-not-allowed\",\r\n                )}\r\n            >\r\n                {/* Country code indicator */}\r\n                <div className=\"flex items-center gap-2 pr-3 border-r border-border\">\r\n                    <span className=\"text-xl\">ðŸ‡®ðŸ‡³</span>\r\n                    <span className=\"text-sm font-medium text-muted-foreground\">+91</span>\r\n                </div>\r\n\r\n                {/* Phone icon */}\r\n                <Phone className={cn(\r\n                    \"w-5 h-5 transition-colors\",\r\n                    isFocused ? \"text-primary\" : \"text-muted-foreground\"\r\n                )} />\r\n\r\n                {/* Input field */}\r\n                <input\r\n                    ref={inputRef}\r\n                    type=\"tel\"\r\n                    inputMode=\"numeric\"\r\n                    pattern=\"[0-9]*\"\r\n                    value={formatDisplayValue(value)}\r\n                    onChange={handleChange}\r\n                    onKeyDown={handleKeyDown}\r\n                    onFocus={() => setIsFocused(true)}\r\n                    onBlur={() => setIsFocused(false)}\r\n                    disabled={disabled}\r\n                    placeholder=\"98765 43210\"\r\n                    className={cn(\r\n                        \"flex-1 bg-transparent text-lg font-medium outline-none\",\r\n                        \"placeholder:text-muted-foreground/50\",\r\n                        \"tracking-wider\"\r\n                    )}\r\n                    aria-label=\"Mobile number\"\r\n                />\r\n\r\n                {/* Checkmark for valid number */}\r\n                {value.length === 10 && (\r\n                    <motion.div\r\n                        initial={{ scale: 0, opacity: 0 }}\r\n                        animate={{ scale: 1, opacity: 1 }}\r\n                        transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                        className=\"text-success text-xl\"\r\n                    >\r\n                        Ã¢Å“â€œ\r\n                    </motion.div>\r\n                )}\r\n            </motion.div>\r\n\r\n            {/* Error message */}\r\n            {error && (\r\n                <motion.p\r\n                    initial={{ opacity: 0, y: -10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"text-sm text-destructive flex items-center gap-1\"\r\n                >\r\n                    <span>Ã¢Å¡Â Ã¯Â¸Â</span> {error}\r\n                </motion.p>\r\n            )}\r\n\r\n            {/* Helper text */}\r\n            {!error && (\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                    We'll keep your number safe and won't spam you ðŸ”’\r\n                </p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PhoneInput;\r\n"],"names":[],"mappings":";;;;;AAAA;;;CAGC,GAED;AACA;AACA;AACA;;;;;;;AAYA,MAAM,aAAa,CAAC,EAChB,KAAK,EACL,QAAQ,EACR,KAAK,EACL,WAAW,KAAK,EAChB,YAAY,KAAK,EACjB,YAAY,EAAE,EACd,QAAQ,EACM;;IACd,MAAM,WAAW,IAAA,uKAAM,EAAmB;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;gCAAC;YACN,IAAI,aAAa,SAAS,OAAO,EAAE;gBAC/B,SAAS,OAAO,CAAC,KAAK;YAC1B;QACJ;+BAAG;QAAC;KAAU;IAEd,MAAM,eAAe,IAAA,4KAAW;gDAAC,CAAC;YAC9B,4BAA4B;YAC5B,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,GAAG;YAC1D,SAAS;QACb;+CAAG;QAAC;KAAS;IAEb,MAAM,gBAAgB,IAAA,4KAAW;iDAAC,CAAC;YAC/B,IAAI,EAAE,GAAG,KAAK,WAAW,MAAM,MAAM,KAAK,MAAM,UAAU;gBACtD;YACJ;QACJ;gDAAG;QAAC;QAAO;KAAS;IAEpB,6CAA6C;IAC7C,MAAM,qBAAqB,CAAC;QACxB,IAAI,OAAO,MAAM,IAAI,GAAG,OAAO;QAC/B,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI;IACrD;IAEA,qBACI,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,aAAa;;0BAC5B,6LAAC,uMAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,OAAO;oBAAM,SAAS;gBAAE;gBACnC,SAAS;oBAAE,OAAO;oBAAG,SAAS;gBAAE;gBAChC,WAAW,IAAA,4HAAE,EACT,8FACA,gCACA,aAAa,CAAC,SAAS,yCACvB,CAAC,aAAa,CAAC,SAAS,yCACxB,SAAS,iDACT,YAAY;;kCAIhB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,6LAAC;gCAAK,WAAU;0CAA4C;;;;;;;;;;;;kCAIhE,6LAAC,gNAAK;wBAAC,WAAW,IAAA,4HAAE,EAChB,6BACA,YAAY,iBAAiB;;;;;;kCAIjC,6LAAC;wBACG,KAAK;wBACL,MAAK;wBACL,WAAU;wBACV,SAAQ;wBACR,OAAO,mBAAmB;wBAC1B,UAAU;wBACV,WAAW;wBACX,SAAS,IAAM,aAAa;wBAC5B,QAAQ,IAAM,aAAa;wBAC3B,UAAU;wBACV,aAAY;wBACZ,WAAW,IAAA,4HAAE,EACT,0DACA,wCACA;wBAEJ,cAAW;;;;;;oBAId,MAAM,MAAM,KAAK,oBACd,6LAAC,uMAAM,CAAC,GAAG;wBACP,SAAS;4BAAE,OAAO;4BAAG,SAAS;wBAAE;wBAChC,SAAS;4BAAE,OAAO;4BAAG,SAAS;wBAAE;wBAChC,YAAY;4BAAE,MAAM;4BAAU,WAAW;4BAAK,SAAS;wBAAG;wBAC1D,WAAU;kCACb;;;;;;;;;;;;YAOR,uBACG,6LAAC,uMAAM,CAAC,CAAC;gBACL,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,WAAU;;kCAEV,6LAAC;kCAAK;;;;;;oBAAa;oBAAE;;;;;;;YAK5B,CAAC,uBACE,6LAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;;AAM7D;GAnHM;KAAA;uCAqHS"}},
    {"offset": {"line": 2481, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/auth/PinInput.tsx"],"sourcesContent":["/**\r\n * PIN Input Component\r\n * Game-like 4-digit PIN entry with animations\r\n */\r\n\r\nimport { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface PinInputProps {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    length?: number;\r\n    error?: boolean;\r\n    disabled?: boolean;\r\n    autoFocus?: boolean;\r\n    className?: string;\r\n    onComplete?: (pin: string) => void;\r\n}\r\n\r\nconst PinInput = ({\r\n    value,\r\n    onChange,\r\n    length = 4,\r\n    error = false,\r\n    disabled = false,\r\n    autoFocus = false,\r\n    className = \"\",\r\n    onComplete,\r\n}: PinInputProps) => {\r\n    const inputRefs = useRef<(HTMLInputElement | null)[]>([]);\r\n    const [focusedIndex, setFocusedIndex] = useState<number | null>(null);\r\n\r\n    // Auto-focus first input\r\n    useEffect(() => {\r\n        if (autoFocus && inputRefs.current[0]) {\r\n            inputRefs.current[0].focus();\r\n        }\r\n    }, [autoFocus]);\r\n\r\n    // Handle completion callback\r\n    useEffect(() => {\r\n        if (value.length === length && onComplete) {\r\n            onComplete(value);\r\n        }\r\n    }, [value, length, onComplete]);\r\n\r\n    const handleChange = useCallback((index: number, inputValue: string) => {\r\n        // Only allow digits\r\n        const digit = inputValue.replace(/\\D/g, '').slice(-1);\r\n\r\n        if (digit) {\r\n            const newValue = value.slice(0, index) + digit + value.slice(index + 1);\r\n            onChange(newValue.slice(0, length));\r\n\r\n            // Auto-advance to next input\r\n            if (index < length - 1) {\r\n                inputRefs.current[index + 1]?.focus();\r\n            }\r\n        }\r\n    }, [value, onChange, length]);\r\n\r\n    const handleKeyDown = useCallback((index: number, e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Backspace') {\r\n            e.preventDefault();\r\n\r\n            if (value[index]) {\r\n                // Clear current digit\r\n                const newValue = value.slice(0, index) + value.slice(index + 1);\r\n                onChange(newValue);\r\n            } else if (index > 0) {\r\n                // Move to previous input and clear it\r\n                inputRefs.current[index - 1]?.focus();\r\n                const newValue = value.slice(0, index - 1) + value.slice(index);\r\n                onChange(newValue);\r\n            }\r\n        } else if (e.key === 'ArrowLeft' && index > 0) {\r\n            inputRefs.current[index - 1]?.focus();\r\n        } else if (e.key === 'ArrowRight' && index < length - 1) {\r\n            inputRefs.current[index + 1]?.focus();\r\n        }\r\n    }, [value, onChange, length]);\r\n\r\n    const handleFocus = useCallback((index: number) => {\r\n        setFocusedIndex(index);\r\n        // Select input content on focus\r\n        inputRefs.current[index]?.select();\r\n    }, []);\r\n\r\n    const handleBlur = useCallback(() => {\r\n        setFocusedIndex(null);\r\n    }, []);\r\n\r\n    // Handle paste\r\n    const handlePaste = useCallback((e: React.ClipboardEvent) => {\r\n        e.preventDefault();\r\n        const pastedData = e.clipboardData.getData('text').replace(/\\D/g, '').slice(0, length);\r\n        if (pastedData) {\r\n            onChange(pastedData);\r\n            // Focus the last filled input or the next empty one\r\n            const focusIndex = Math.min(pastedData.length, length - 1);\r\n            inputRefs.current[focusIndex]?.focus();\r\n        }\r\n    }, [onChange, length]);\r\n\r\n    const slots = Array.from({ length }, (_, i) => i);\r\n\r\n    return (\r\n        <div\r\n            className={cn(\r\n                \"flex items-center justify-center gap-3\",\r\n                className\r\n            )}\r\n            onPaste={handlePaste}\r\n        >\r\n            {slots.map((index) => {\r\n                const isFilled = !!value[index];\r\n                const isFocused = focusedIndex === index;\r\n                const isActive = index === value.length || (index === length - 1 && value.length === length);\r\n\r\n                return (\r\n                    <motion.div\r\n                        key={index}\r\n                        initial={{ scale: 0.9, opacity: 0 }}\r\n                        animate={{ scale: 1, opacity: 1 }}\r\n                        transition={{ delay: index * 0.05 }}\r\n                        className=\"relative\"\r\n                    >\r\n                        {/* Input container */}\r\n                        <motion.div\r\n                            className={cn(\r\n                                \"relative w-14 h-16 rounded-xl border-2 flex items-center justify-center\",\r\n                                \"bg-muted/30 backdrop-blur-sm transition-all duration-200\",\r\n                                isFocused && \"border-primary ring-4 ring-primary/20\",\r\n                                isActive && !isFocused && \"border-primary/50\",\r\n                                !isFocused && !isActive && \"border-border\",\r\n                                error && \"border-destructive ring-4 ring-destructive/20\",\r\n                                disabled && \"opacity-50 cursor-not-allowed\",\r\n                            )}\r\n                            animate={error ? { x: [0, -10, 10, -10, 10, 0] } : {}}\r\n                            transition={{ duration: 0.4 }}\r\n                        >\r\n                            {/* Hidden input */}\r\n                            <input\r\n                                ref={(el) => { inputRefs.current[index] = el; }}\r\n                                type=\"text\"\r\n                                inputMode=\"numeric\"\r\n                                pattern=\"[0-9]*\"\r\n                                maxLength={1}\r\n                                value={value[index] || ''}\r\n                                onChange={(e) => handleChange(index, e.target.value)}\r\n                                onKeyDown={(e) => handleKeyDown(index, e)}\r\n                                onFocus={() => handleFocus(index)}\r\n                                onBlur={handleBlur}\r\n                                disabled={disabled}\r\n                                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n                                aria-label={`PIN digit ${index + 1}`}\r\n                            />\r\n\r\n                            {/* Display dot or empty */}\r\n                            <AnimatePresence mode=\"wait\">\r\n                                {isFilled ? (\r\n                                    <motion.div\r\n                                        key=\"dot\"\r\n                                        initial={{ scale: 0, opacity: 0 }}\r\n                                        animate={{ scale: 1, opacity: 1 }}\r\n                                        exit={{ scale: 0, opacity: 0 }}\r\n                                        transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                                        className={cn(\r\n                                            \"w-4 h-4 rounded-full\",\r\n                                            error ? \"bg-destructive\" : \"bg-primary\"\r\n                                        )}\r\n                                    />\r\n                                ) : isFocused ? (\r\n                                    <motion.div\r\n                                        key=\"cursor\"\r\n                                        animate={{ opacity: [1, 0, 1] }}\r\n                                        transition={{ duration: 1, repeat: Infinity }}\r\n                                        className=\"w-0.5 h-8 bg-primary rounded-full\"\r\n                                    />\r\n                                ) : null}\r\n                            </AnimatePresence>\r\n                        </motion.div>\r\n\r\n                        {/* Success sparkle effect */}\r\n                        <AnimatePresence>\r\n                            {isFilled && !error && (\r\n                                <motion.div\r\n                                    initial={{ scale: 0, opacity: 0 }}\r\n                                    animate={{ scale: 1, opacity: 1 }}\r\n                                    exit={{ scale: 0, opacity: 0 }}\r\n                                    transition={{ delay: 0.1 }}\r\n                                    className=\"absolute -top-1 -right-1 text-sm\"\r\n                                >\r\n                                    âœ¨\r\n                                </motion.div>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </motion.div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PinInput;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2764, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/Confetti.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface ConfettiPiece {\r\n  id: number;\r\n  x: number;\r\n  color: string;\r\n  delay: number;\r\n  rotation: number;\r\n}\r\n\r\ninterface ConfettiProps {\r\n  isActive: boolean;\r\n  duration?: number;\r\n}\r\n\r\nconst colors = [\"#00E5CC\", \"#FF6B47\", \"#FFD93D\", \"#6BCB77\", \"#4D96FF\"];\r\n\r\nconst Confetti = ({ isActive, duration = 3000 }: ConfettiProps) => {\r\n  const [pieces, setPieces] = useState<ConfettiPiece[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (isActive) {\r\n      const newPieces: ConfettiPiece[] = Array.from({ length: 50 }, (_, i) => ({\r\n        id: i,\r\n        x: Math.random() * 100,\r\n        color: colors[Math.floor(Math.random() * colors.length)],\r\n        delay: Math.random() * 0.5,\r\n        rotation: Math.random() * 360,\r\n      }));\r\n      setPieces(newPieces);\r\n\r\n      const timer = setTimeout(() => setPieces([]), duration);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isActive, duration]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {pieces.map((piece) => (\r\n        <motion.div\r\n          key={piece.id}\r\n          className=\"fixed pointer-events-none z-50\"\r\n          style={{\r\n            left: `${piece.x}%`,\r\n            top: -20,\r\n          }}\r\n          initial={{ y: 0, opacity: 1, rotate: 0 }}\r\n          animate={{\r\n            y: window.innerHeight + 100,\r\n            opacity: [1, 1, 0],\r\n            rotate: piece.rotation + 720,\r\n          }}\r\n          exit={{ opacity: 0 }}\r\n          transition={{\r\n            duration: 2.5,\r\n            delay: piece.delay,\r\n            ease: \"easeOut\",\r\n          }}\r\n        >\r\n          <div\r\n            className=\"w-3 h-3 rounded-sm\"\r\n            style={{ backgroundColor: piece.color }}\r\n          />\r\n        </motion.div>\r\n      ))}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default Confetti;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAkBA,MAAM,SAAS;IAAC;IAAW;IAAW;IAAW;IAAW;CAAU;AAEtE,MAAM,WAAW,CAAC,EAAE,QAAQ,EAAE,WAAW,IAAI,EAAiB;;IAC5D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAkB,EAAE;IAExD,IAAA,0KAAS;8BAAC;YACR,IAAI,UAAU;gBACZ,MAAM,YAA6B,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAG;oDAAG,CAAC,GAAG,IAAM,CAAC;4BACvE,IAAI;4BACJ,GAAG,KAAK,MAAM,KAAK;4BACnB,OAAO,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM,EAAE;4BACxD,OAAO,KAAK,MAAM,KAAK;4BACvB,UAAU,KAAK,MAAM,KAAK;wBAC5B,CAAC;;gBACD,UAAU;gBAEV,MAAM,QAAQ;gDAAW,IAAM,UAAU,EAAE;+CAAG;gBAC9C;0CAAO,IAAM,aAAa;;YAC5B;QACF;6BAAG;QAAC;QAAU;KAAS;IAEvB,qBACE,6LAAC,+MAAe;kBACb,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC,uMAAM,CAAC,GAAG;gBAET,WAAU;gBACV,OAAO;oBACL,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;oBACnB,KAAK,CAAC;gBACR;gBACA,SAAS;oBAAE,GAAG;oBAAG,SAAS;oBAAG,QAAQ;gBAAE;gBACvC,SAAS;oBACP,GAAG,OAAO,WAAW,GAAG;oBACxB,SAAS;wBAAC;wBAAG;wBAAG;qBAAE;oBAClB,QAAQ,MAAM,QAAQ,GAAG;gBAC3B;gBACA,MAAM;oBAAE,SAAS;gBAAE;gBACnB,YAAY;oBACV,UAAU;oBACV,OAAO,MAAM,KAAK;oBAClB,MAAM;gBACR;0BAEA,cAAA,6LAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,iBAAiB,MAAM,KAAK;oBAAC;;;;;;eArBnC,MAAM,EAAE;;;;;;;;;;AA2BvB;GAlDM;KAAA;uCAoDS"}},
    {"offset": {"line": 2876, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/auth/AuthModal.tsx"],"sourcesContent":["/**\r\n * Auth Modal Component\r\n * Game-like, mobile-first authentication modal/drawer\r\n * Handles both login and registration flows\r\n */\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X, ArrowLeft, Loader2, Sparkles } from \"lucide-react\";\r\nimport useMediaQuery from \"@/hooks/useMediaQuery\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Drawer,\r\n    DrawerContent,\r\n    DrawerHeader,\r\n    DrawerTitle,\r\n} from \"@/components/ui/drawer\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { useStudentAuth } from \"@/lib/studentAuth\";\r\nimport MascotFeedback, { type MascotState } from \"./MascotFeedback\";\r\nimport PhoneInput from \"./PhoneInput\";\r\nimport PinInput from \"./PinInput\";\r\nimport Confetti from \"@/components/Confetti\";\r\n// ============================================\r\n// TYPES\r\n// ============================================\r\ntype AuthStep =\r\n    | 'phone'\r\n    | 'pin_create'\r\n    | 'pin_confirm'\r\n    | 'pin_login'\r\n    | 'success';\r\ninterface AuthState {\r\n    step: AuthStep;\r\n    mode: 'login' | 'register';\r\n    phone: string;\r\n    pin: string;\r\n    confirmPin: string;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n// ============================================\r\n// STEP CONFIGURATIONS\r\n// ============================================\r\nconst stepConfig: Record<AuthStep, {\r\n    title: string;\r\n    subtitle: string;\r\n    mascotState: MascotState;\r\n    mascotMessage: string;\r\n}> = {\r\n    phone: {\r\n        title: \"Let's get started! =ï¿½\",\r\n        subtitle: \"Enter your mobile number\",\r\n        mascotState: 'idle',\r\n        mascotMessage: \"Drop your digits, explorer! =ï¿½\",\r\n    },\r\n    pin_create: {\r\n        title: \"Create your secret code\",\r\n        subtitle: \"Pick 4 digits you'll remember\",\r\n        mascotState: 'thinking',\r\n        mascotMessage: \"Make it memorable, make it yours! <ï¿½\",\r\n    },\r\n    pin_confirm: {\r\n        title: \"Confirm your code\",\r\n        subtitle: \"Enter the same 4 digits again\",\r\n        mascotState: 'thinking',\r\n        mascotMessage: \"One more time to lock it in! (\",\r\n    },\r\n    pin_login: {\r\n        title: \"Welcome back! ï¿½x\u00189\",\r\n        subtitle: \"Enter your secret code\",\r\n        mascotState: 'excited',\r\n        mascotMessage: \"Ready to continue your adventure? <ï¿½\",\r\n    },\r\n    success: {\r\n        title: \"You're in! <ï¿½\",\r\n        subtitle: \"Welcome to MyArk\",\r\n        mascotState: 'celebrating',\r\n        mascotMessage: \"Let the games begin! ï¿½xï¿½ \",\r\n    },\r\n};\r\n// ============================================\r\n// AUTH MODAL COMPONENT\r\n// ============================================\r\nconst AuthModal = () => {\r\n    const isMobile = useMediaQuery(\"(max-width: 768px)\");\r\n    const { authModalOpen, hideAuthModal, authModalOptions, login, register } = useStudentAuth();\r\n    const [state, setState] = useState<AuthState>({\r\n        step: 'phone',\r\n        mode: authModalOptions?.mode || 'login',\r\n        phone: '',\r\n        pin: '',\r\n        confirmPin: '',\r\n        error: '',\r\n        loading: false,\r\n    });\r\n    const [showConfetti, setShowConfetti] = useState(false);\r\n    // Reset state when modal opens\r\n    useEffect(() => {\r\n        if (authModalOpen) {\r\n            setState({\r\n                step: 'phone',\r\n                mode: authModalOptions?.mode || 'login',\r\n                phone: '',\r\n                pin: '',\r\n                confirmPin: '',\r\n                error: '',\r\n                loading: false,\r\n            });\r\n        }\r\n    }, [authModalOpen, authModalOptions]);\r\n    // Get current step config\r\n    const config = stepConfig[state.step];\r\n    const mascotState: MascotState = state.error ? 'concerned' : config.mascotState;\r\n    const mascotMessage = state.error || config.mascotMessage;\r\n    // ============================================\r\n    // HANDLERS\r\n    // ============================================\r\n    const handlePhoneSubmit = useCallback(async () => {\r\n        if (state.phone.length !== 10) {\r\n            setState(s => ({ ...s, error: \"Please enter a valid 10-digit mobile number\" }));\r\n            return;\r\n        }\r\n        setState(s => ({ ...s, loading: true, error: '' }));\r\n        // Try to detect if this is a new or existing user\r\n        // For simplicity, we'll try login first and switch to register if not found\r\n        const loginResult = await login(state.phone, '0000'); // Dummy PIN to check existence\r\n        if (loginResult.errorCode === 'USER_NOT_FOUND') {\r\n            // New user - go to registration\r\n            setState(s => ({\r\n                ...s,\r\n                loading: false,\r\n                mode: 'register',\r\n                step: 'pin_create',\r\n                error: '',\r\n            }));\r\n        } else if (loginResult.errorCode === 'WRONG_PIN' || loginResult.errorCode === 'RATE_LIMITED') {\r\n            // Existing user - go to login\r\n            setState(s => ({\r\n                ...s,\r\n                loading: false,\r\n                mode: 'login',\r\n                step: 'pin_login',\r\n                error: '',\r\n            }));\r\n        } else if (loginResult.errorCode === 'BLOCKED') {\r\n            setState(s => ({ ...s, loading: false, error: loginResult.error || \"Account blocked\" }));\r\n        } else {\r\n            // Unknown error or somehow succeeded with dummy PIN (shouldn't happen)\r\n            setState(s => ({\r\n                ...s,\r\n                loading: false,\r\n                mode: 'login',\r\n                step: 'pin_login',\r\n                error: '',\r\n            }));\r\n        }\r\n    }, [state.phone, login]);\r\n    const handlePinCreate = useCallback(() => {\r\n        if (state.pin.length !== 4) {\r\n            setState(s => ({ ...s, error: \"PIN must be 4 digits\" }));\r\n            return;\r\n        }\r\n        setState(s => ({\r\n            ...s,\r\n            step: 'pin_confirm',\r\n            error: '',\r\n        }));\r\n    }, [state.pin]);\r\n    const handlePinConfirm = useCallback(async () => {\r\n        if (state.confirmPin.length !== 4) {\r\n            setState(s => ({ ...s, error: \"Please confirm your PIN\" }));\r\n            return;\r\n        }\r\n        if (state.pin !== state.confirmPin) {\r\n            setState(s => ({\r\n                ...s,\r\n                error: \"Oops! Those PINs don't match. Try again! =ï¿½\",\r\n                confirmPin: '',\r\n            }));\r\n            return;\r\n        }\r\n        setState(s => ({ ...s, loading: true, error: '' }));\r\n        const result = await register(state.phone, state.pin);\r\n        if (result.success) {\r\n            setShowConfetti(true);\r\n            setState(s => ({ ...s, loading: false, step: 'success' }));\r\n            setTimeout(() => setShowConfetti(false), 3000);\r\n        } else {\r\n            setState(s => ({\r\n                ...s,\r\n                loading: false,\r\n                error: result.error || \"Something went wrong\",\r\n            }));\r\n        }\r\n    }, [state.pin, state.confirmPin, state.phone, register]);\r\n    const handlePinLogin = useCallback(async () => {\r\n        if (state.pin.length !== 4) {\r\n            setState(s => ({ ...s, error: \"Please enter your 4-digit PIN\" }));\r\n            return;\r\n        }\r\n        setState(s => ({ ...s, loading: true, error: '' }));\r\n        const result = await login(state.phone, state.pin);\r\n        if (result.success) {\r\n            setShowConfetti(true);\r\n            setState(s => ({ ...s, loading: false, step: 'success' }));\r\n            setTimeout(() => setShowConfetti(false), 3000);\r\n        } else {\r\n            setState(s => ({\r\n                ...s,\r\n                loading: false,\r\n                error: result.error || \"Wrong PIN\",\r\n                pin: '',\r\n            }));\r\n        }\r\n    }, [state.phone, state.pin, login]);\r\n    const handleBack = useCallback(() => {\r\n        if (state.step === 'pin_create' || state.step === 'pin_login') {\r\n            setState(s => ({ ...s, step: 'phone', pin: '', confirmPin: '', error: '' }));\r\n        } else if (state.step === 'pin_confirm') {\r\n            setState(s => ({ ...s, step: 'pin_create', confirmPin: '', error: '' }));\r\n        }\r\n    }, [state.step]);\r\n    const handleClose = useCallback(() => {\r\n        if (state.step === 'success') {\r\n            // Auto close after success\r\n            hideAuthModal();\r\n        } else {\r\n            hideAuthModal();\r\n        }\r\n    }, [state.step, hideAuthModal]);\r\n    // Auto close after success\r\n    useEffect(() => {\r\n        if (state.step === 'success') {\r\n            const timer = setTimeout(() => {\r\n                hideAuthModal();\r\n            }, 2500);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [state.step, hideAuthModal]);\r\n    // ============================================\r\n    // RENDER CONTENT\r\n    // ============================================\r\n    const renderContent = () => (\r\n        <div className=\"flex flex-col items-center px-6 py-8 space-y-6\">\r\n            {/* Confetti for success */}\r\n            {showConfetti && <Confetti isActive={showConfetti} />}\r\n            {/* Back button (not on first or success step) */}\r\n            {state.step !== 'phone' && state.step !== 'success' && (\r\n                <motion.button\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    onClick={handleBack}\r\n                    className=\"absolute top-4 left-4 p-2 rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground\"\r\n                    disabled={state.loading}\r\n                >\r\n                    <ArrowLeft className=\"w-5 h-5\" />\r\n                </motion.button>\r\n            )}\r\n            {/* Close button (Only show manual one on mobile/drawer where it's not built-in) */}\r\n            {isMobile && state.step !== 'success' && (\r\n                <button\r\n                    onClick={handleClose}\r\n                    className=\"absolute top-4 right-4 p-2 rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground\"\r\n                    disabled={state.loading}\r\n                >\r\n                    <X className=\"w-5 h-5\" />\r\n                </button>\r\n            )}\r\n            {/* Mascot */}\r\n            <MascotFeedback\r\n                state={mascotState}\r\n                message={mascotMessage}\r\n            />\r\n            {/* Title & Subtitle */}\r\n            <div className=\"text-center space-y-1\">\r\n                <motion.h2\r\n                    key={config.title}\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"text-2xl font-display font-bold\"\r\n                >\r\n                    {config.title}\r\n                </motion.h2>\r\n                <motion.p\r\n                    key={config.subtitle}\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    transition={{ delay: 0.1 }}\r\n                    className=\"text-muted-foreground\"\r\n                >\r\n                    {config.subtitle}\r\n                </motion.p>\r\n            </div>\r\n            {/* Step Content */}\r\n            <AnimatePresence mode=\"wait\">\r\n                {state.step === 'phone' && (\r\n                    <motion.div\r\n                        key=\"phone\"\r\n                        initial={{ opacity: 0, x: 20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: -20 }}\r\n                        className=\"w-full max-w-sm space-y-4\"\r\n                    >\r\n                        <PhoneInput\r\n                            value={state.phone}\r\n                            onChange={(phone) => setState(s => ({ ...s, phone, error: '' }))}\r\n                            error={state.error}\r\n                            disabled={state.loading}\r\n                            autoFocus\r\n                            onSubmit={handlePhoneSubmit}\r\n                        />\r\n                        <Button\r\n                            onClick={handlePhoneSubmit}\r\n                            disabled={state.phone.length !== 10 || state.loading}\r\n                            className=\"w-full h-12 text-base font-semibold\"\r\n                            size=\"lg\"\r\n                        >\r\n                            {state.loading ? (\r\n                                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                            ) : (\r\n                                <>Continue <Sparkles className=\"w-4 h-4 ml-2\" /></>\r\n                            )}\r\n                        </Button>\r\n                    </motion.div>\r\n                )}\r\n                {state.step === 'pin_create' && (\r\n                    <motion.div\r\n                        key=\"pin_create\"\r\n                        initial={{ opacity: 0, x: 20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: -20 }}\r\n                        className=\"w-full max-w-sm space-y-6\"\r\n                    >\r\n                        <PinInput\r\n                            value={state.pin}\r\n                            onChange={(pin) => setState(s => ({ ...s, pin, error: '' }))}\r\n                            error={!!state.error}\r\n                            disabled={state.loading}\r\n                            autoFocus\r\n                            onComplete={handlePinCreate}\r\n                        />\r\n                        <Button\r\n                            onClick={handlePinCreate}\r\n                            disabled={state.pin.length !== 4 || state.loading}\r\n                            className=\"w-full h-12 text-base font-semibold\"\r\n                            size=\"lg\"\r\n                        >\r\n                            Lock it in ï¿½x\u001dï¿½\r\n                        </Button>\r\n                    </motion.div>\r\n                )}\r\n                {state.step === 'pin_confirm' && (\r\n                    <motion.div\r\n                        key=\"pin_confirm\"\r\n                        initial={{ opacity: 0, x: 20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: -20 }}\r\n                        className=\"w-full max-w-sm space-y-6\"\r\n                    >\r\n                        <PinInput\r\n                            value={state.confirmPin}\r\n                            onChange={(confirmPin) => setState(s => ({ ...s, confirmPin, error: '' }))}\r\n                            error={!!state.error}\r\n                            disabled={state.loading}\r\n                            autoFocus\r\n                            onComplete={handlePinConfirm}\r\n                        />\r\n                        <Button\r\n                            onClick={handlePinConfirm}\r\n                            disabled={state.confirmPin.length !== 4 || state.loading}\r\n                            className=\"w-full h-12 text-base font-semibold\"\r\n                            size=\"lg\"\r\n                        >\r\n                            {state.loading ? (\r\n                                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                            ) : (\r\n                                \"Create Account =ï¿½\"\r\n                            )}\r\n                        </Button>\r\n                    </motion.div>\r\n                )}\r\n                {state.step === 'pin_login' && (\r\n                    <motion.div\r\n                        key=\"pin_login\"\r\n                        initial={{ opacity: 0, x: 20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: -20 }}\r\n                        className=\"w-full max-w-sm space-y-6\"\r\n                    >\r\n                        <PinInput\r\n                            value={state.pin}\r\n                            onChange={(pin) => setState(s => ({ ...s, pin, error: '' }))}\r\n                            error={!!state.error}\r\n                            disabled={state.loading}\r\n                            autoFocus\r\n                            onComplete={handlePinLogin}\r\n                        />\r\n                        <Button\r\n                            onClick={handlePinLogin}\r\n                            disabled={state.pin.length !== 4 || state.loading}\r\n                            className=\"w-full h-12 text-base font-semibold\"\r\n                            size=\"lg\"\r\n                        >\r\n                            {state.loading ? (\r\n                                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                            ) : (\r\n                                \"Unlock =\u0013\"\r\n                            )}\r\n                        </Button>\r\n                        <p className=\"text-center text-sm text-muted-foreground\">\r\n                            Forgot your PIN?{' '}\r\n                            <button className=\"text-primary hover:underline\">\r\n                                Get help\r\n                            </button>\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n                {state.step === 'success' && (\r\n                    <motion.div\r\n                        key=\"success\"\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"w-full max-w-sm space-y-4 text-center\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0 }}\r\n                            animate={{ scale: 1 }}\r\n                            transition={{ type: \"spring\", stiffness: 300, damping: 20, delay: 0.2 }}\r\n                            className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20\"\r\n                        >\r\n                            <span className=\"text-xl\">ðŸŽ‰</span>\r\n                            <span className=\"font-bold text-primary\">+50 XP</span>\r\n                        </motion.div>\r\n                        <p className=\"text-muted-foreground\">\r\n                            {state.mode === 'register'\r\n                                ? \"You've earned your first XP! Start exploring to level up.\"\r\n                                : \"Welcome back! +10 XP for daily login.\"}\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n            {/* Trigger context message */}\r\n            {\r\n                authModalOptions?.message && state.step === 'phone' && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: 0.3 }}\r\n                        className=\"mt-4 p-4 rounded-xl bg-primary/5 border border-primary/10 text-center\"\r\n                    >\r\n                        <p className=\"text-sm text-muted-foreground\">\r\n                            {authModalOptions.message}\r\n                        </p>\r\n                    </motion.div>\r\n                )\r\n            }\r\n        </div >\r\n    );\r\n    // ============================================\r\n    // RENDER MODAL/DRAWER\r\n    // ============================================\r\n    if (isMobile) {\r\n        return (\r\n            <Drawer open={authModalOpen} onOpenChange={(open) => !open && handleClose()}>\r\n                <DrawerContent className=\"max-h-[90vh]\">\r\n                    <DrawerHeader className=\"sr-only\">\r\n                        <DrawerTitle>Authenticate</DrawerTitle>\r\n                    </DrawerHeader>\r\n                    {renderContent()}\r\n                </DrawerContent>\r\n            </Drawer>\r\n        );\r\n    }\r\n    return (\r\n        <Dialog open={authModalOpen} onOpenChange={(open) => !open && handleClose()}>\r\n            <DialogContent className=\"sm:max-w-md p-0 overflow-hidden\">\r\n                <DialogHeader className=\"sr-only\">\r\n                    <DialogTitle>Authenticate</DialogTitle>\r\n                </DialogHeader>\r\n                {renderContent()}\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\nexport default AuthModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3775, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/auth/AuthPrompt.tsx"],"sourcesContent":["/**\r\n * Auth Prompt Component\r\n * Contextual card that appears when users try protected actions\r\n */\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { Lock, Zap, Trophy, Bookmark, Sparkles } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useStudentAuth } from \"@/lib/studentAuth\";\r\n\r\ninterface AuthPromptProps {\r\n    trigger?: 'heart' | 'save' | 'apply' | 'profile';\r\n    onDismiss?: () => void;\r\n    className?: string;\r\n}\r\n\r\nconst triggerMessages = {\r\n    heart: {\r\n        icon: \"Ã¢ÂÂ¤Ã¯Â¸Â\",\r\n        title: \"Heart this opportunity\",\r\n        benefits: [\r\n            { icon: Zap, text: \"Earn 2 XP\" },\r\n            { icon: Trophy, text: \"Unlock 'Hype Master' badge\" },\r\n        ],\r\n    },\r\n    save: {\r\n        icon: \"Ã¢Â­Â\",\r\n        title: \"Save for later\",\r\n        benefits: [\r\n            { icon: Bookmark, text: \"Access your saved list anytime\" },\r\n            { icon: Zap, text: \"Earn 5 XP\" },\r\n        ],\r\n    },\r\n    apply: {\r\n        icon: \"ðŸš€\",\r\n        title: \"Jump into this opportunity\",\r\n        benefits: [\r\n            { icon: Zap, text: \"Earn 40 XP\" },\r\n            { icon: Trophy, text: \"Track your applications\" },\r\n            { icon: Sparkles, text: \"Get personalized recommendations\" },\r\n        ],\r\n    },\r\n    profile: {\r\n        icon: \"ðŸŽ®\",\r\n        title: \"Access your profile\",\r\n        benefits: [\r\n            { icon: Trophy, text: \"View your badges & XP\" },\r\n            { icon: Sparkles, text: \"Track your progress\" },\r\n        ],\r\n    },\r\n};\r\n\r\nconst AuthPrompt = ({ trigger = 'apply', onDismiss, className = \"\" }: AuthPromptProps) => {\r\n    const { showAuthModal } = useStudentAuth();\r\n    const config = triggerMessages[trigger];\r\n\r\n    const handleSignIn = () => {\r\n        showAuthModal({\r\n            trigger,\r\n            message: `${config.icon} ${config.title} and start earning rewards!`,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n            animate={{ opacity: 1, y: 0, scale: 1 }}\r\n            exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n            className={`glass-card p-6 rounded-xl border border-primary/20 ${className}`}\r\n        >\r\n            {/* Header */}\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                    <Lock className=\"w-5 h-5 text-primary\" />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"font-bold text-foreground\">Login to unlock</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">{config.title}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Benefits */}\r\n            <div className=\"space-y-2 mb-6\">\r\n                {config.benefits.map((benefit, index) => (\r\n                    <motion.div\r\n                        key={index}\r\n                        initial={{ opacity: 0, x: -10 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ delay: index * 0.1 }}\r\n                        className=\"flex items-center gap-2 text-sm\"\r\n                    >\r\n                        <benefit.icon className=\"w-4 h-4 text-primary\" />\r\n                        <span className=\"text-muted-foreground\">{benefit.text}</span>\r\n                    </motion.div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* CTA */}\r\n            <Button onClick={handleSignIn} className=\"w-full\" size=\"lg\">\r\n                Sign In to Continue ðŸš€\r\n            </Button>\r\n\r\n            {/* Sub-text */}\r\n            <p className=\"text-center text-xs text-muted-foreground mt-3\">\r\n                Takes just 30 seconds! Ã¢Å¡Â¡\r\n            </p>\r\n\r\n            {/* Dismiss link */}\r\n            {onDismiss && (\r\n                <button\r\n                    onClick={onDismiss}\r\n                    className=\"block w-full text-center text-sm text-muted-foreground hover:text-foreground mt-2 transition-colors\"\r\n                >\r\n                    Maybe later\r\n                </button>\r\n            )}\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport default AuthPrompt;\r\n"],"names":[],"mappings":";;;;;AAAA;;;CAGC,GAED;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;AAQA,MAAM,kBAAkB;IACpB,OAAO;QACH,MAAM;QACN,OAAO;QACP,UAAU;YACN;gBAAE,MAAM,0MAAG;gBAAE,MAAM;YAAY;YAC/B;gBAAE,MAAM,mNAAM;gBAAE,MAAM;YAA6B;SACtD;IACL;IACA,MAAM;QACF,MAAM;QACN,OAAO;QACP,UAAU;YACN;gBAAE,MAAM,yNAAQ;gBAAE,MAAM;YAAiC;YACzD;gBAAE,MAAM,0MAAG;gBAAE,MAAM;YAAY;SAClC;IACL;IACA,OAAO;QACH,MAAM;QACN,OAAO;QACP,UAAU;YACN;gBAAE,MAAM,0MAAG;gBAAE,MAAM;YAAa;YAChC;gBAAE,MAAM,mNAAM;gBAAE,MAAM;YAA0B;YAChD;gBAAE,MAAM,yNAAQ;gBAAE,MAAM;YAAmC;SAC9D;IACL;IACA,SAAS;QACL,MAAM;QACN,OAAO;QACP,UAAU;YACN;gBAAE,MAAM,mNAAM;gBAAE,MAAM;YAAwB;YAC9C;gBAAE,MAAM,yNAAQ;gBAAE,MAAM;YAAsB;SACjD;IACL;AACJ;AAEA,MAAM,aAAa,CAAC,EAAE,UAAU,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,EAAmB;;IACjF,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,+IAAc;IACxC,MAAM,SAAS,eAAe,CAAC,QAAQ;IAEvC,MAAM,eAAe;QACjB,cAAc;YACV;YACA,SAAS,GAAG,OAAO,IAAI,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC,2BAA2B,CAAC;QACxE;IACJ;IAEA,qBACI,6LAAC,uMAAM,CAAC,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,GAAG;YAAI,OAAO;QAAK;QAC1C,SAAS;YAAE,SAAS;YAAG,GAAG;YAAG,OAAO;QAAE;QACtC,MAAM;YAAE,SAAS;YAAG,GAAG;YAAI,OAAO;QAAK;QACvC,WAAW,CAAC,mDAAmD,EAAE,WAAW;;0BAG5E,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,6MAAI;4BAAC,WAAU;;;;;;;;;;;kCAEpB,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAA4B;;;;;;0CAC1C,6LAAC;gCAAE,WAAU;0CAAiC,OAAO,KAAK;;;;;;;;;;;;;;;;;;0BAKlE,6LAAC;gBAAI,WAAU;0BACV,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,sBAC3B,6LAAC,uMAAM,CAAC,GAAG;wBAEP,SAAS;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAG;wBAC9B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO,QAAQ;wBAAI;wBACjC,WAAU;;0CAEV,6LAAC,QAAQ,IAAI;gCAAC,WAAU;;;;;;0CACxB,6LAAC;gCAAK,WAAU;0CAAyB,QAAQ,IAAI;;;;;;;uBAPhD;;;;;;;;;;0BAajB,6LAAC,+IAAM;gBAAC,SAAS;gBAAc,WAAU;gBAAS,MAAK;0BAAK;;;;;;0BAK5D,6LAAC;gBAAE,WAAU;0BAAiD;;;;;;YAK7D,2BACG,6LAAC;gBACG,SAAS;gBACT,WAAU;0BACb;;;;;;;;;;;;AAMjB;GAlEM;;QACwB,+IAAc;;;KADtC;uCAoES"}},
    {"offset": {"line": 4026, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/auth/index.ts"],"sourcesContent":["// Auth Components Export\r\nexport { default as AuthModal } from './AuthModal';\r\nexport { default as AuthPrompt } from './AuthPrompt';\r\nexport { default as MascotFeedback } from './MascotFeedback';\r\nexport { default as PhoneInput } from './PhoneInput';\r\nexport { default as PinInput } from './PinInput';\r\n"],"names":[],"mappings":";AAAA,yBAAyB;AACzB;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 4054, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/lib/firestore.ts"],"sourcesContent":["// Firestore service for admin operations\r\nimport {\r\n    collection,\r\n    doc,\r\n    getDocs,\r\n    getDoc,\r\n    addDoc,\r\n    updateDoc,\r\n    deleteDoc,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    limit,\r\n    Timestamp,\r\n    onSnapshot,\r\n    increment,\r\n    type DocumentData,\r\n    type QueryConstraint,\r\n    arrayUnion,\r\n    arrayRemove,\r\n    documentId,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\nexport { db };\r\n\r\nimport type {\r\n    Opportunity,\r\n    BlogPost,\r\n    Career,\r\n    Student,\r\n    SchoolDemo,\r\n    Notification,\r\n    OpportunityTypeConfig,\r\n    Organizer,\r\n    Badge,\r\n    RedemptionReward,\r\n    RedemptionPartner\r\n} from \"@/types/admin\";\r\n\r\n// Collection names\r\nexport const COLLECTIONS = {\r\n    opportunities: \"opportunities\",\r\n    blogs: \"blogs\",\r\n    careers: \"careers\",\r\n    students: \"students\",\r\n    schoolDemos: \"schoolDemos\",\r\n    notifications: \"notifications\",\r\n    badges: \"badges\",\r\n    settings: \"settings\",\r\n    organizers: \"organizers\",\r\n} as const;\r\n\r\n// Helper to convert Firestore timestamp to Date\r\nexport const toDate = (timestamp: Timestamp | Date | undefined): Date | undefined => {\r\n    if (!timestamp) return undefined;\r\n    if (timestamp instanceof Timestamp) return timestamp.toDate();\r\n    return timestamp;\r\n};\r\n\r\n// Helper to convert Date to Firestore timestamp\r\nconst toTimestamp = (date: any): Timestamp | null => {\r\n    if (!date) return null;\r\n    if (date instanceof Timestamp) return date;\r\n    try {\r\n        const d = new Date(date);\r\n        return isNaN(d.getTime()) ? null : Timestamp.fromDate(d);\r\n    } catch (e) {\r\n        return null;\r\n    }\r\n};\r\n\r\n// Sanitization helper to remove undefined values\r\nconst sanitizeData = (data: any) => {\r\n    const result: any = {};\r\n    Object.keys(data).forEach(key => {\r\n        if (data[key] !== undefined) {\r\n            result[key] = data[key];\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n// ============================================\r\n// OPPORTUNITIES\r\n// ============================================\r\n\r\nexport const opportunitiesService = {\r\n    async getAll(filters?: { type?: string; status?: string; limit?: number }) {\r\n        const constraints: QueryConstraint[] = [];\r\n\r\n        if (filters?.type && filters.type !== \"all\") {\r\n            constraints.push(where(\"type\", \"==\", filters.type));\r\n        }\r\n        if (filters?.status && filters.status !== \"all\") {\r\n            constraints.push(where(\"status\", \"==\", filters.status));\r\n        }\r\n        if (filters?.limit) {\r\n            constraints.push(limit(filters.limit));\r\n        }\r\n\r\n        const q = query(collection(db, COLLECTIONS.opportunities), ...constraints);\r\n        const snapshot = await getDocs(q);\r\n\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            dates: {\r\n                registrationStart: toDate(doc.data().dates?.registrationStart),\r\n                registrationEnd: toDate(doc.data().dates?.registrationEnd),\r\n                eventDate: toDate(doc.data().dates?.eventDate),\r\n            },\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        })) as Opportunity[];\r\n    },\r\n\r\n    async getById(id: string) {\r\n        const docRef = doc(db, COLLECTIONS.opportunities, id);\r\n        const snapshot = await getDoc(docRef);\r\n        if (!snapshot.exists()) return null;\r\n\r\n        return {\r\n            id: snapshot.id,\r\n            ...snapshot.data(),\r\n            dates: {\r\n                registrationStart: toDate(snapshot.data().dates?.registrationStart),\r\n                registrationEnd: toDate(snapshot.data().dates?.registrationEnd),\r\n                eventDate: toDate(snapshot.data().dates?.eventDate),\r\n            },\r\n            createdAt: toDate(snapshot.data().createdAt),\r\n            updatedAt: toDate(snapshot.data().updatedAt),\r\n        } as Opportunity;\r\n    },\r\n\r\n    async create(data: Omit<Opportunity, \"id\" | \"createdAt\" | \"updatedAt\">) {\r\n        const sanitizedData = sanitizeData(data);\r\n        const docRef = await addDoc(collection(db, COLLECTIONS.opportunities), {\r\n            ...sanitizedData,\r\n            dates: {\r\n                registrationStart: toTimestamp(data.dates.registrationStart),\r\n                registrationEnd: toTimestamp(data.dates.registrationEnd),\r\n                eventDate: toTimestamp(data.dates.eventDate),\r\n            },\r\n            hypeCount: 0,\r\n            applicationCount: 0,\r\n            createdAt: Timestamp.now(),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    },\r\n\r\n    async update(id: string, data: Partial<Opportunity>) {\r\n        const docRef = doc(db, COLLECTIONS.opportunities, id);\r\n        const updateData: any = sanitizeData({\r\n            ...data,\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n\r\n        if (data.dates) {\r\n            updateData.dates = {\r\n                registrationStart: toTimestamp(data.dates.registrationStart),\r\n                registrationEnd: toTimestamp(data.dates.registrationEnd),\r\n                eventDate: toTimestamp(data.dates.eventDate),\r\n            };\r\n        }\r\n\r\n        await updateDoc(docRef, updateData);\r\n    },\r\n\r\n    async hypeOpportunity(id: string) {\r\n        const docRef = doc(db, COLLECTIONS.opportunities, id);\r\n        await updateDoc(docRef, {\r\n            hypeCount: increment(1)\r\n        });\r\n    },\r\n\r\n    async delete(id: string) {\r\n        await deleteDoc(doc(db, COLLECTIONS.opportunities, id));\r\n    },\r\n\r\n    // Real-time listener\r\n    subscribe(callback: (opportunities: Opportunity[]) => void) {\r\n        const q = query(\r\n            collection(db, COLLECTIONS.opportunities),\r\n            orderBy(\"createdAt\", \"desc\")\r\n        );\r\n\r\n        return onSnapshot(q, (snapshot) => {\r\n            const opportunities = snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n                dates: {\r\n                    registrationStart: toDate(doc.data().dates?.registrationStart),\r\n                    registrationEnd: toDate(doc.data().dates?.registrationEnd),\r\n                    eventDate: toDate(doc.data().dates?.eventDate),\r\n                },\r\n                createdAt: toDate(doc.data().createdAt),\r\n                updatedAt: toDate(doc.data().updatedAt),\r\n            })) as Opportunity[];\r\n            callback(opportunities);\r\n        });\r\n    },\r\n};\r\n\r\n// ============================================\r\n// BLOGS\r\n// ============================================\r\n\r\nexport const blogsService = {\r\n    async getAll(filters?: { status?: string; limit?: number }) {\r\n        const constraints: QueryConstraint[] = [];\r\n\r\n        if (filters?.status && filters.status !== \"all\") {\r\n            constraints.push(where(\"status\", \"==\", filters.status));\r\n        }\r\n        if (filters?.limit) {\r\n            constraints.push(limit(filters.limit));\r\n        }\r\n\r\n        const q = query(collection(db, COLLECTIONS.blogs), ...constraints);\r\n        const snapshot = await getDocs(q);\r\n\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            publishedAt: toDate(doc.data().publishedAt),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        })) as BlogPost[];\r\n    },\r\n\r\n    async getById(id: string) {\r\n        const docRef = doc(db, COLLECTIONS.blogs, id);\r\n        const snapshot = await getDoc(docRef);\r\n        if (!snapshot.exists()) return null;\r\n\r\n        return {\r\n            id: snapshot.id,\r\n            ...snapshot.data(),\r\n            publishedAt: toDate(snapshot.data().publishedAt),\r\n            createdAt: toDate(snapshot.data().createdAt),\r\n            updatedAt: toDate(snapshot.data().updatedAt),\r\n        } as BlogPost;\r\n    },\r\n\r\n    async getBySlug(slug: string) {\r\n        const q = query(collection(db, COLLECTIONS.blogs), where(\"slug\", \"==\", slug), limit(1));\r\n        const snapshot = await getDocs(q);\r\n        if (snapshot.empty) return null;\r\n\r\n        const doc = snapshot.docs[0];\r\n        return {\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            publishedAt: toDate(doc.data().publishedAt),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        } as BlogPost;\r\n    },\r\n\r\n    async create(data: Omit<BlogPost, \"id\" | \"createdAt\" | \"updatedAt\">) {\r\n        const docRef = await addDoc(collection(db, COLLECTIONS.blogs), {\r\n            ...data,\r\n            viewCount: 0,\r\n            publishedAt: data.status === \"published\" ? Timestamp.now() : null,\r\n            createdAt: Timestamp.now(),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    },\r\n\r\n    async update(id: string, data: Partial<BlogPost>) {\r\n        const docRef = doc(db, COLLECTIONS.blogs, id);\r\n        await updateDoc(docRef, sanitizeData({\r\n            ...data,\r\n            updatedAt: Timestamp.now(),\r\n        }));\r\n    },\r\n\r\n    async delete(id: string) {\r\n        await deleteDoc(doc(db, COLLECTIONS.blogs, id));\r\n    },\r\n};\r\n\r\n// ============================================\r\n// CAREERS\r\n// ============================================\r\n\r\nexport const careersService = {\r\n    async getAll(filters?: { status?: string; limit?: number }) {\r\n        const constraints: QueryConstraint[] = [orderBy(\"createdAt\", \"desc\")];\r\n\r\n        if (filters?.status && filters.status !== \"all\") {\r\n            constraints.push(where(\"status\", \"==\", filters.status));\r\n        }\r\n        if (filters?.limit) {\r\n            constraints.push(limit(filters.limit));\r\n        }\r\n\r\n        const q = query(collection(db, COLLECTIONS.careers), ...constraints);\r\n        const snapshot = await getDocs(q);\r\n\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            postedAt: toDate(doc.data().postedAt),\r\n            expiresAt: toDate(doc.data().expiresAt),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        })) as unknown as Career[];\r\n    },\r\n\r\n    async getById(id: string) {\r\n        const docRef = doc(db, COLLECTIONS.careers, id);\r\n        const snapshot = await getDoc(docRef);\r\n        if (!snapshot.exists()) return null;\r\n\r\n        return {\r\n            id: snapshot.id,\r\n            ...snapshot.data(),\r\n            postedAt: toDate(snapshot.data().postedAt),\r\n            expiresAt: toDate(snapshot.data().expiresAt),\r\n            createdAt: toDate(snapshot.data().createdAt),\r\n            updatedAt: toDate(snapshot.data().updatedAt),\r\n        } as unknown as Career;\r\n    },\r\n\r\n    async getBySlug(slug: string) {\r\n        const q = query(collection(db, COLLECTIONS.careers), where(\"slug\", \"==\", slug), limit(1));\r\n        const snapshot = await getDocs(q);\r\n        if (snapshot.empty) return null;\r\n\r\n        const doc = snapshot.docs[0];\r\n        return {\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            postedAt: toDate(doc.data().postedAt),\r\n            expiresAt: toDate(doc.data().expiresAt),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        } as unknown as Career;\r\n    },\r\n\r\n    async create(data: Omit<Career, \"id\" | \"createdAt\" | \"updatedAt\">) {\r\n        const docRef = await addDoc(collection(db, COLLECTIONS.careers), {\r\n            ...data,\r\n            applicationCount: 0,\r\n            postedAt: Timestamp.now(),\r\n            createdAt: Timestamp.now(),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    },\r\n\r\n    async update(id: string, data: Partial<Career>) {\r\n        const docRef = doc(db, COLLECTIONS.careers, id);\r\n        await updateDoc(docRef, sanitizeData({\r\n            ...data,\r\n            updatedAt: Timestamp.now(),\r\n        }));\r\n    },\r\n\r\n    async delete(id: string) {\r\n        await deleteDoc(doc(db, COLLECTIONS.careers, id));\r\n    },\r\n};\r\n\r\n// ============================================\r\n// STUDENTS\r\n// ============================================\r\n\r\nexport const studentsService = {\r\n    async getAll(filters?: { grade?: number; limit?: number }) {\r\n        const constraints: QueryConstraint[] = [orderBy(\"createdAt\", \"desc\")];\r\n\r\n        if (filters?.grade) {\r\n            constraints.push(where(\"grade\", \"==\", filters.grade));\r\n        }\r\n        if (filters?.limit) {\r\n            constraints.push(limit(filters.limit));\r\n        }\r\n\r\n        const q = query(collection(db, COLLECTIONS.students), ...constraints);\r\n        const snapshot = await getDocs(q);\r\n\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            lastActiveAt: toDate(doc.data().lastActiveAt),\r\n        })) as Student[];\r\n    },\r\n\r\n    async getById(id: string) {\r\n        const docRef = doc(db, COLLECTIONS.students, id);\r\n        const snapshot = await getDoc(docRef);\r\n        if (!snapshot.exists()) return null;\r\n\r\n        return {\r\n            id: snapshot.id,\r\n            ...snapshot.data(),\r\n            createdAt: toDate(snapshot.data().createdAt),\r\n            lastActiveAt: toDate(snapshot.data().lastActiveAt),\r\n        } as Student;\r\n    },\r\n\r\n    async getStats() {\r\n        const snapshot = await getDocs(collection(db, COLLECTIONS.students));\r\n        const students = snapshot.docs.map(doc => doc.data());\r\n\r\n        const now = new Date();\r\n        const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n\r\n        return {\r\n            total: students.length,\r\n            activeThisWeek: students.filter(s => {\r\n                const lastActive = toDate(s.lastActiveAt);\r\n                return lastActive && lastActive >= sevenDaysAgo;\r\n            }).length,\r\n            avgStreak: students.length > 0\r\n                ? Math.round(students.reduce((sum, s) => sum + (s.streakDays || 0), 0) / students.length)\r\n                : 0,\r\n        };\r\n    },\r\n\r\n    async assignBadge(studentId: string, badgeId: string) {\r\n        const docRef = doc(db, COLLECTIONS.students, studentId);\r\n        await updateDoc(docRef, {\r\n            badges: arrayUnion(badgeId),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n    },\r\n\r\n    async removeBadge(studentId: string, badgeId: string) {\r\n        const docRef = doc(db, COLLECTIONS.students, studentId);\r\n        await updateDoc(docRef, {\r\n            badges: arrayRemove(badgeId),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n    },\r\n};\r\n\r\n// ============================================\r\n// SCHOOL DEMOS\r\n// ============================================\r\n\r\nexport const schoolDemosService = {\r\n    async getAll(filters?: { status?: string }) {\r\n        const constraints: QueryConstraint[] = [orderBy(\"createdAt\", \"desc\")];\r\n\r\n        if (filters?.status && filters.status !== \"all\") {\r\n            constraints.push(where(\"status\", \"==\", filters.status));\r\n        }\r\n\r\n        const q = query(collection(db, COLLECTIONS.schoolDemos), ...constraints);\r\n        const snapshot = await getDocs(q);\r\n\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            scheduledDate: toDate(doc.data().scheduledDate),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        })) as SchoolDemo[];\r\n    },\r\n\r\n    async updateStatus(id: string, status: string, notes?: string) {\r\n        const docRef = doc(db, COLLECTIONS.schoolDemos, id);\r\n        await updateDoc(docRef, {\r\n            status,\r\n            notes: notes || null,\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n    },\r\n\r\n    async getCountByStatus() {\r\n        const snapshot = await getDocs(collection(db, COLLECTIONS.schoolDemos));\r\n        const counts: Record<string, number> = {\r\n            pending: 0,\r\n            contacted: 0,\r\n            scheduled: 0,\r\n            completed: 0,\r\n            rejected: 0,\r\n        };\r\n\r\n        snapshot.docs.forEach(doc => {\r\n            const status = doc.data().status;\r\n            if (counts[status] !== undefined) {\r\n                counts[status]++;\r\n            }\r\n        });\r\n\r\n        return counts;\r\n    },\r\n};\r\n\r\n// ============================================\r\n// NOTIFICATIONS\r\n// ============================================\r\n\r\nexport const notificationsService = {\r\n    async getAll() {\r\n        const q = query(\r\n            collection(db, COLLECTIONS.notifications),\r\n            orderBy(\"createdAt\", \"desc\")\r\n        );\r\n        const snapshot = await getDocs(q);\r\n\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            scheduledFor: toDate(doc.data().scheduledFor),\r\n            sentAt: toDate(doc.data().sentAt),\r\n            createdAt: toDate(doc.data().createdAt),\r\n        })) as Notification[];\r\n    },\r\n\r\n    async send(data: Omit<Notification, \"id\" | \"createdAt\" | \"sentAt\">) {\r\n        const docRef = await addDoc(collection(db, COLLECTIONS.notifications), sanitizeData({\r\n            ...data,\r\n            sentAt: Timestamp.now(),\r\n            createdAt: Timestamp.now(),\r\n        }));\r\n        return docRef.id;\r\n    },\r\n};\r\n\r\n// ============================================\r\n// SETTINGS\r\n// ============================================\r\n\r\nexport const settingsService = {\r\n    async getOpportunityTypes(): Promise<OpportunityTypeConfig[]> {\r\n        const docRef = doc(db, COLLECTIONS.settings, \"opportunityTypes\");\r\n        const snapshot = await getDoc(docRef);\r\n\r\n        if (!snapshot.exists()) {\r\n            // Return defaults if not set\r\n            return [];\r\n        }\r\n\r\n        return snapshot.data().types || [];\r\n    },\r\n\r\n    async saveOpportunityTypes(types: OpportunityTypeConfig[]) {\r\n        const docRef = doc(db, COLLECTIONS.settings, \"opportunityTypes\");\r\n        await updateDoc(docRef, { types });\r\n    },\r\n\r\n    async getGrades(): Promise<number[]> {\r\n        const docRef = doc(db, COLLECTIONS.settings, \"grades\");\r\n        const snapshot = await getDoc(docRef);\r\n\r\n        if (!snapshot.exists()) {\r\n            return [6, 7, 8, 9, 10, 11, 12]; // defaults\r\n        }\r\n\r\n        return snapshot.data().grades || [];\r\n    },\r\n\r\n    async saveGrades(grades: number[]) {\r\n        const docRef = doc(db, COLLECTIONS.settings, \"grades\");\r\n        await updateDoc(docRef, { grades });\r\n    },\r\n\r\n    async getTags(): Promise<string[]> {\r\n        const docRef = doc(db, COLLECTIONS.settings, \"tags\");\r\n        const snapshot = await getDoc(docRef);\r\n\r\n        if (!snapshot.exists()) {\r\n            return [];\r\n        }\r\n\r\n        return snapshot.data().tags || [];\r\n    },\r\n\r\n    async saveTags(tags: string[]) {\r\n        const docRef = doc(db, COLLECTIONS.settings, \"tags\");\r\n        await updateDoc(docRef, { tags });\r\n    },\r\n\r\n    async getOrganizers(): Promise<Organizer[]> {\r\n        const querySnapshot = await getDocs(collection(db, COLLECTIONS.organizers));\r\n        return querySnapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        })) as Organizer[];\r\n    },\r\n\r\n    async saveOrganizer(data: Omit<Organizer, \"id\" | \"createdAt\" | \"updatedAt\">) {\r\n        const docRef = await addDoc(collection(db, COLLECTIONS.organizers), sanitizeData({\r\n            ...data,\r\n            createdAt: Timestamp.now(),\r\n            updatedAt: Timestamp.now(),\r\n        }));\r\n        return docRef.id;\r\n    },\r\n\r\n    async deleteOrganizer(id: string) {\r\n        await deleteDoc(doc(db, COLLECTIONS.organizers, id));\r\n    },\r\n};\r\n\r\n// ============================================\r\n// DASHBOARD STATS\r\n// ============================================\r\n\r\nexport const dashboardService = {\r\n    async getStats() {\r\n        const [opportunities, students, demos] = await Promise.all([\r\n            getDocs(collection(db, COLLECTIONS.opportunities)),\r\n            studentsService.getStats(),\r\n            schoolDemosService.getCountByStatus(),\r\n        ]);\r\n\r\n        const publishedOpportunities = opportunities.docs.filter(\r\n            doc => doc.data().status === \"published\"\r\n        ).length;\r\n\r\n        return {\r\n            totalOpportunities: opportunities.size,\r\n            publishedOpportunities,\r\n            totalStudents: students.total,\r\n            activeStudents: students.activeThisWeek,\r\n            pendingDemos: demos.pending,\r\n        };\r\n    },\r\n};\r\n\r\n// ============================================\r\n// BADGES\r\n// ============================================\r\n\r\nexport const badgesService = {\r\n    async getAll(): Promise<Badge[]> {\r\n        const q = query(collection(db, COLLECTIONS.badges), orderBy(\"createdAt\", \"desc\"));\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: toDate(doc.data().createdAt),\r\n            updatedAt: toDate(doc.data().updatedAt),\r\n        })) as Badge[];\r\n    },\r\n\r\n    async getById(id: string): Promise<Badge | null> {\r\n        const docRef = doc(db, COLLECTIONS.badges, id);\r\n        const snapshot = await getDoc(docRef);\r\n        if (!snapshot.exists()) return null;\r\n        return {\r\n            id: snapshot.id,\r\n            ...snapshot.data(),\r\n            createdAt: toDate(snapshot.data().createdAt),\r\n            updatedAt: toDate(snapshot.data().updatedAt),\r\n        } as Badge;\r\n    },\r\n\r\n    async create(data: Omit<Badge, \"id\" | \"createdAt\" | \"updatedAt\">) {\r\n        const sanitizedData = sanitizeData(data);\r\n        const docRef = await addDoc(collection(db, COLLECTIONS.badges), {\r\n            ...sanitizedData,\r\n            createdAt: Timestamp.now(),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n        return docRef.id;\r\n    },\r\n\r\n    async update(id: string, data: Partial<Badge>) {\r\n        const docRef = doc(db, COLLECTIONS.badges, id);\r\n        await updateDoc(docRef, {\r\n            ...sanitizeData(data),\r\n            updatedAt: Timestamp.now(),\r\n        });\r\n    },\r\n\r\n    async delete(id: string) {\r\n        await deleteDoc(doc(db, COLLECTIONS.badges, id));\r\n    },\r\n};\r\n// ============================================\r\n// REDEMPTION\r\n// ============================================\r\n\r\nexport const rewardsService = {\r\n    async getAll() {\r\n        // Fetch all active rewards\r\n        // REMOVED orderBy to avoid \"Missing Index\" error. Sorting client-side instead.\r\n        const q = query(collection(db, \"rewards\"), where(\"isActive\", \"==\", true));\r\n        const snapshot = await getDocs(q);\r\n\r\n        const rewards = snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            expiresAt: toDate(doc.data().expiresAt),\r\n            createdAt: toDate(doc.data().createdAt),\r\n        })) as RedemptionReward[];\r\n\r\n        return rewards.sort((a, b) => a.xpCost - b.xpCost);\r\n    },\r\n\r\n    async getPartners() {\r\n        const snapshot = await getDocs(collection(db, \"partners\"));\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: toDate(doc.data().createdAt),\r\n        })) as RedemptionPartner[];\r\n    },\r\n\r\n    async redeem(rewardId: string, studentId: string, xpCost: number) {\r\n        // 1. Deduct XP (handled by cloud function usually, but client-side for demo)\r\n        // 2. Add claim record\r\n        // This logic is ideally transactional\r\n\r\n        // Simulating claim:\r\n        const claimRef = await addDoc(collection(db, \"claims\"), {\r\n            rewardId,\r\n            studentId,\r\n            xpCost,\r\n            claimedAt: Timestamp.now(),\r\n            status: \"active\"\r\n        });\r\n\r\n        // Increment claim count on reward\r\n        const rewardRef = doc(db, \"rewards\", rewardId);\r\n        await updateDoc(rewardRef, {\r\n            claimCount: increment(1)\r\n        });\r\n\r\n        return claimRef.id;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAAyC;AACzC;AAAA;AAqBA;;;;AAkBO,MAAM,cAAc;IACvB,eAAe;IACf,OAAO;IACP,SAAS;IACT,UAAU;IACV,aAAa;IACb,eAAe;IACf,QAAQ;IACR,UAAU;IACV,YAAY;AAChB;AAGO,MAAM,SAAS,CAAC;IACnB,IAAI,CAAC,WAAW,OAAO;IACvB,IAAI,qBAAqB,+KAAS,EAAE,OAAO,UAAU,MAAM;IAC3D,OAAO;AACX;AAEA,gDAAgD;AAChD,MAAM,cAAc,CAAC;IACjB,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,gBAAgB,+KAAS,EAAE,OAAO;IACtC,IAAI;QACA,MAAM,IAAI,IAAI,KAAK;QACnB,OAAO,MAAM,EAAE,OAAO,MAAM,OAAO,+KAAS,CAAC,QAAQ,CAAC;IAC1D,EAAE,OAAO,GAAG;QACR,OAAO;IACX;AACJ;AAEA,iDAAiD;AACjD,MAAM,eAAe,CAAC;IAClB,MAAM,SAAc,CAAC;IACrB,OAAO,IAAI,CAAC,MAAM,OAAO,CAAC,CAAA;QACtB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW;YACzB,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;QAC3B;IACJ;IACA,OAAO;AACX;AAMO,MAAM,uBAAuB;IAChC,MAAM,QAAO,OAA4D;QACrE,MAAM,cAAiC,EAAE;QAEzC,IAAI,SAAS,QAAQ,QAAQ,IAAI,KAAK,OAAO;YACzC,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,QAAQ,MAAM,QAAQ,IAAI;QACrD;QACA,IAAI,SAAS,UAAU,QAAQ,MAAM,KAAK,OAAO;YAC7C,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,UAAU,MAAM,QAAQ,MAAM;QACzD;QACA,IAAI,SAAS,OAAO;YAChB,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,QAAQ,KAAK;QACxC;QAEA,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,aAAa,MAAM;QAC9D,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,OAAO;oBACH,mBAAmB,OAAO,IAAI,IAAI,GAAG,KAAK,EAAE;oBAC5C,iBAAiB,OAAO,IAAI,IAAI,GAAG,KAAK,EAAE;oBAC1C,WAAW,OAAO,IAAI,IAAI,GAAG,KAAK,EAAE;gBACxC;gBACA,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,SAAQ,EAAU;QACpB,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,aAAa,EAAE;QAClD,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAC9B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO;QAE/B,OAAO;YACH,IAAI,SAAS,EAAE;YACf,GAAG,SAAS,IAAI,EAAE;YAClB,OAAO;gBACH,mBAAmB,OAAO,SAAS,IAAI,GAAG,KAAK,EAAE;gBACjD,iBAAiB,OAAO,SAAS,IAAI,GAAG,KAAK,EAAE;gBAC/C,WAAW,OAAO,SAAS,IAAI,GAAG,KAAK,EAAE;YAC7C;YACA,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;YAC3C,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;QAC/C;IACJ;IAEA,MAAM,QAAO,IAAyD;QAClE,MAAM,gBAAgB,aAAa;QACnC,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,aAAa,GAAG;YACnE,GAAG,aAAa;YAChB,OAAO;gBACH,mBAAmB,YAAY,KAAK,KAAK,CAAC,iBAAiB;gBAC3D,iBAAiB,YAAY,KAAK,KAAK,CAAC,eAAe;gBACvD,WAAW,YAAY,KAAK,KAAK,CAAC,SAAS;YAC/C;YACA,WAAW;YACX,kBAAkB;YAClB,WAAW,+KAAS,CAAC,GAAG;YACxB,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB;IAEA,MAAM,QAAO,EAAU,EAAE,IAA0B;QAC/C,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,aAAa,EAAE;QAClD,MAAM,aAAkB,aAAa;YACjC,GAAG,IAAI;YACP,WAAW,+KAAS,CAAC,GAAG;QAC5B;QAEA,IAAI,KAAK,KAAK,EAAE;YACZ,WAAW,KAAK,GAAG;gBACf,mBAAmB,YAAY,KAAK,KAAK,CAAC,iBAAiB;gBAC3D,iBAAiB,YAAY,KAAK,KAAK,CAAC,eAAe;gBACvD,WAAW,YAAY,KAAK,KAAK,CAAC,SAAS;YAC/C;QACJ;QAEA,MAAM,IAAA,+KAAS,EAAC,QAAQ;IAC5B;IAEA,MAAM,iBAAgB,EAAU;QAC5B,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,aAAa,EAAE;QAClD,MAAM,IAAA,+KAAS,EAAC,QAAQ;YACpB,WAAW,IAAA,+KAAS,EAAC;QACzB;IACJ;IAEA,MAAM,QAAO,EAAU;QACnB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,aAAa,EAAE;IACvD;IAEA,qBAAqB;IACrB,WAAU,QAAgD;QACtD,MAAM,IAAI,IAAA,2KAAK,EACX,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,aAAa,GACxC,IAAA,6KAAO,EAAC,aAAa;QAGzB,OAAO,IAAA,gLAAU,EAAC,GAAG,CAAC;YAClB,MAAM,gBAAgB,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;oBAC5C,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;oBACb,OAAO;wBACH,mBAAmB,OAAO,IAAI,IAAI,GAAG,KAAK,EAAE;wBAC5C,iBAAiB,OAAO,IAAI,IAAI,GAAG,KAAK,EAAE;wBAC1C,WAAW,OAAO,IAAI,IAAI,GAAG,KAAK,EAAE;oBACxC;oBACA,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;oBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBAC1C,CAAC;YACD,SAAS;QACb;IACJ;AACJ;AAMO,MAAM,eAAe;IACxB,MAAM,QAAO,OAA6C;QACtD,MAAM,cAAiC,EAAE;QAEzC,IAAI,SAAS,UAAU,QAAQ,MAAM,KAAK,OAAO;YAC7C,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,UAAU,MAAM,QAAQ,MAAM;QACzD;QACA,IAAI,SAAS,OAAO;YAChB,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,QAAQ,KAAK;QACxC;QAEA,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,KAAK,MAAM;QACtD,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,aAAa,OAAO,IAAI,IAAI,GAAG,WAAW;gBAC1C,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,SAAQ,EAAU;QACpB,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,KAAK,EAAE;QAC1C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAC9B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO;QAE/B,OAAO;YACH,IAAI,SAAS,EAAE;YACf,GAAG,SAAS,IAAI,EAAE;YAClB,aAAa,OAAO,SAAS,IAAI,GAAG,WAAW;YAC/C,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;YAC3C,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;QAC/C;IACJ;IAEA,MAAM,WAAU,IAAY;QACxB,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,KAAK,GAAG,IAAA,2KAAK,EAAC,QAAQ,MAAM,OAAO,IAAA,2KAAK,EAAC;QACpF,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAC/B,IAAI,SAAS,KAAK,EAAE,OAAO;QAE3B,MAAM,MAAM,SAAS,IAAI,CAAC,EAAE;QAC5B,OAAO;YACH,IAAI,IAAI,EAAE;YACV,GAAG,IAAI,IAAI,EAAE;YACb,aAAa,OAAO,IAAI,IAAI,GAAG,WAAW;YAC1C,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;QAC1C;IACJ;IAEA,MAAM,QAAO,IAAsD;QAC/D,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,KAAK,GAAG;YAC3D,GAAG,IAAI;YACP,WAAW;YACX,aAAa,KAAK,MAAM,KAAK,cAAc,+KAAS,CAAC,GAAG,KAAK;YAC7D,WAAW,+KAAS,CAAC,GAAG;YACxB,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB;IAEA,MAAM,QAAO,EAAU,EAAE,IAAuB;QAC5C,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,KAAK,EAAE;QAC1C,MAAM,IAAA,+KAAS,EAAC,QAAQ,aAAa;YACjC,GAAG,IAAI;YACP,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ;IAEA,MAAM,QAAO,EAAU;QACnB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,KAAK,EAAE;IAC/C;AACJ;AAMO,MAAM,iBAAiB;IAC1B,MAAM,QAAO,OAA6C;QACtD,MAAM,cAAiC;YAAC,IAAA,6KAAO,EAAC,aAAa;SAAQ;QAErE,IAAI,SAAS,UAAU,QAAQ,MAAM,KAAK,OAAO;YAC7C,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,UAAU,MAAM,QAAQ,MAAM;QACzD;QACA,IAAI,SAAS,OAAO;YAChB,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,QAAQ,KAAK;QACxC;QAEA,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,OAAO,MAAM;QACxD,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,UAAU,OAAO,IAAI,IAAI,GAAG,QAAQ;gBACpC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,SAAQ,EAAU;QACpB,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,OAAO,EAAE;QAC5C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAC9B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO;QAE/B,OAAO;YACH,IAAI,SAAS,EAAE;YACf,GAAG,SAAS,IAAI,EAAE;YAClB,UAAU,OAAO,SAAS,IAAI,GAAG,QAAQ;YACzC,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;YAC3C,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;YAC3C,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;QAC/C;IACJ;IAEA,MAAM,WAAU,IAAY;QACxB,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,OAAO,GAAG,IAAA,2KAAK,EAAC,QAAQ,MAAM,OAAO,IAAA,2KAAK,EAAC;QACtF,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAC/B,IAAI,SAAS,KAAK,EAAE,OAAO;QAE3B,MAAM,MAAM,SAAS,IAAI,CAAC,EAAE;QAC5B,OAAO;YACH,IAAI,IAAI,EAAE;YACV,GAAG,IAAI,IAAI,EAAE;YACb,UAAU,OAAO,IAAI,IAAI,GAAG,QAAQ;YACpC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;QAC1C;IACJ;IAEA,MAAM,QAAO,IAAoD;QAC7D,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,OAAO,GAAG;YAC7D,GAAG,IAAI;YACP,kBAAkB;YAClB,UAAU,+KAAS,CAAC,GAAG;YACvB,WAAW,+KAAS,CAAC,GAAG;YACxB,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB;IAEA,MAAM,QAAO,EAAU,EAAE,IAAqB;QAC1C,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,OAAO,EAAE;QAC5C,MAAM,IAAA,+KAAS,EAAC,QAAQ,aAAa;YACjC,GAAG,IAAI;YACP,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ;IAEA,MAAM,QAAO,EAAU;QACnB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,OAAO,EAAE;IACjD;AACJ;AAMO,MAAM,kBAAkB;IAC3B,MAAM,QAAO,OAA4C;QACrD,MAAM,cAAiC;YAAC,IAAA,6KAAO,EAAC,aAAa;SAAQ;QAErE,IAAI,SAAS,OAAO;YAChB,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,SAAS,MAAM,QAAQ,KAAK;QACvD;QACA,IAAI,SAAS,OAAO;YAChB,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,QAAQ,KAAK;QACxC;QAEA,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,QAAQ,MAAM;QACzD,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,cAAc,OAAO,IAAI,IAAI,GAAG,YAAY;YAChD,CAAC;IACL;IAEA,MAAM,SAAQ,EAAU;QACpB,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAC9B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO;QAE/B,OAAO;YACH,IAAI,SAAS,EAAE;YACf,GAAG,SAAS,IAAI,EAAE;YAClB,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;YAC3C,cAAc,OAAO,SAAS,IAAI,GAAG,YAAY;QACrD;IACJ;IAEA,MAAM;QACF,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,QAAQ;QAClE,MAAM,WAAW,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,IAAI;QAElD,MAAM,MAAM,IAAI;QAChB,MAAM,eAAe,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,KAAK,KAAK;QAEjE,OAAO;YACH,OAAO,SAAS,MAAM;YACtB,gBAAgB,SAAS,MAAM,CAAC,CAAA;gBAC5B,MAAM,aAAa,OAAO,EAAE,YAAY;gBACxC,OAAO,cAAc,cAAc;YACvC,GAAG,MAAM;YACT,WAAW,SAAS,MAAM,GAAG,IACvB,KAAK,KAAK,CAAC,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,UAAU,IAAI,CAAC,GAAG,KAAK,SAAS,MAAM,IACtF;QACV;IACJ;IAEA,MAAM,aAAY,SAAiB,EAAE,OAAe;QAChD,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,IAAA,+KAAS,EAAC,QAAQ;YACpB,QAAQ,IAAA,gLAAU,EAAC;YACnB,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ;IAEA,MAAM,aAAY,SAAiB,EAAE,OAAe;QAChD,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,IAAA,+KAAS,EAAC,QAAQ;YACpB,QAAQ,IAAA,iLAAW,EAAC;YACpB,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ;AACJ;AAMO,MAAM,qBAAqB;IAC9B,MAAM,QAAO,OAA6B;QACtC,MAAM,cAAiC;YAAC,IAAA,6KAAO,EAAC,aAAa;SAAQ;QAErE,IAAI,SAAS,UAAU,QAAQ,MAAM,KAAK,OAAO;YAC7C,YAAY,IAAI,CAAC,IAAA,2KAAK,EAAC,UAAU,MAAM,QAAQ,MAAM;QACzD;QAEA,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,WAAW,MAAM;QAC5D,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,eAAe,OAAO,IAAI,IAAI,GAAG,aAAa;gBAC9C,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,cAAa,EAAU,EAAE,MAAc,EAAE,KAAc;QACzD,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,WAAW,EAAE;QAChD,MAAM,IAAA,+KAAS,EAAC,QAAQ;YACpB;YACA,OAAO,SAAS;YAChB,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ;IAEA,MAAM;QACF,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,WAAW;QACrE,MAAM,SAAiC;YACnC,SAAS;YACT,WAAW;YACX,WAAW;YACX,WAAW;YACX,UAAU;QACd;QAEA,SAAS,IAAI,CAAC,OAAO,CAAC,CAAA;YAClB,MAAM,SAAS,IAAI,IAAI,GAAG,MAAM;YAChC,IAAI,MAAM,CAAC,OAAO,KAAK,WAAW;gBAC9B,MAAM,CAAC,OAAO;YAClB;QACJ;QAEA,OAAO;IACX;AACJ;AAMO,MAAM,uBAAuB;IAChC,MAAM;QACF,MAAM,IAAI,IAAA,2KAAK,EACX,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,aAAa,GACxC,IAAA,6KAAO,EAAC,aAAa;QAEzB,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,cAAc,OAAO,IAAI,IAAI,GAAG,YAAY;gBAC5C,QAAQ,OAAO,IAAI,IAAI,GAAG,MAAM;gBAChC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,MAAK,IAAuD;QAC9D,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,aAAa,GAAG,aAAa;YAChF,GAAG,IAAI;YACP,QAAQ,+KAAS,CAAC,GAAG;YACrB,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB;AACJ;AAMO,MAAM,kBAAkB;IAC3B,MAAM;QACF,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;YACpB,6BAA6B;YAC7B,OAAO,EAAE;QACb;QAEA,OAAO,SAAS,IAAI,GAAG,KAAK,IAAI,EAAE;IACtC;IAEA,MAAM,sBAAqB,KAA8B;QACrD,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,IAAA,+KAAS,EAAC,QAAQ;YAAE;QAAM;IACpC;IAEA,MAAM;QACF,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;YACpB,OAAO;gBAAC;gBAAG;gBAAG;gBAAG;gBAAG;gBAAI;gBAAI;aAAG,EAAE,WAAW;QAChD;QAEA,OAAO,SAAS,IAAI,GAAG,MAAM,IAAI,EAAE;IACvC;IAEA,MAAM,YAAW,MAAgB;QAC7B,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,IAAA,+KAAS,EAAC,QAAQ;YAAE;QAAO;IACrC;IAEA,MAAM;QACF,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;YACpB,OAAO,EAAE;QACb;QAEA,OAAO,SAAS,IAAI,GAAG,IAAI,IAAI,EAAE;IACrC;IAEA,MAAM,UAAS,IAAc;QACzB,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,QAAQ,EAAE;QAC7C,MAAM,IAAA,+KAAS,EAAC,QAAQ;YAAE;QAAK;IACnC;IAEA,MAAM;QACF,MAAM,gBAAgB,MAAM,IAAA,6KAAO,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,UAAU;QACzE,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAClC,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,eAAc,IAAuD;QACvE,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,UAAU,GAAG,aAAa;YAC7E,GAAG,IAAI;YACP,WAAW,+KAAS,CAAC,GAAG;YACxB,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB;IAEA,MAAM,iBAAgB,EAAU;QAC5B,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,UAAU,EAAE;IACpD;AACJ;AAMO,MAAM,mBAAmB;IAC5B,MAAM;QACF,MAAM,CAAC,eAAe,UAAU,MAAM,GAAG,MAAM,QAAQ,GAAG,CAAC;YACvD,IAAA,6KAAO,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,aAAa;YAChD,gBAAgB,QAAQ;YACxB,mBAAmB,gBAAgB;SACtC;QAED,MAAM,yBAAyB,cAAc,IAAI,CAAC,MAAM,CACpD,CAAA,MAAO,IAAI,IAAI,GAAG,MAAM,KAAK,aAC/B,MAAM;QAER,OAAO;YACH,oBAAoB,cAAc,IAAI;YACtC;YACA,eAAe,SAAS,KAAK;YAC7B,gBAAgB,SAAS,cAAc;YACvC,cAAc,MAAM,OAAO;QAC/B;IACJ;AACJ;AAMO,MAAM,gBAAgB;IACzB,MAAM;QACF,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,MAAM,GAAG,IAAA,6KAAO,EAAC,aAAa;QACzE,MAAM,gBAAgB,MAAM,IAAA,6KAAO,EAAC;QACpC,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAClC,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,SAAQ,EAAU;QACpB,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,MAAM,EAAE;QAC3C,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;QAC9B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO;QAC/B,OAAO;YACH,IAAI,SAAS,EAAE;YACf,GAAG,SAAS,IAAI,EAAE;YAClB,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;YAC3C,WAAW,OAAO,SAAS,IAAI,GAAG,SAAS;QAC/C;IACJ;IAEA,MAAM,QAAO,IAAmD;QAC5D,MAAM,gBAAgB,aAAa;QACnC,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,MAAM,GAAG;YAC5D,GAAG,aAAa;YAChB,WAAW,+KAAS,CAAC,GAAG;YACxB,WAAW,+KAAS,CAAC,GAAG;QAC5B;QACA,OAAO,OAAO,EAAE;IACpB;IAEA,MAAM,QAAO,EAAU,EAAE,IAAoB;QACzC,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,MAAM,EAAE;QAC3C,MAAM,IAAA,+KAAS,EAAC,QAAQ;YACpB,GAAG,aAAa,KAAK;YACrB,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ;IAEA,MAAM,QAAO,EAAU;QACnB,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,YAAY,MAAM,EAAE;IAChD;AACJ;AAKO,MAAM,iBAAiB;IAC1B,MAAM;QACF,2BAA2B;QAC3B,+EAA+E;QAC/E,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,YAAY,IAAA,2KAAK,EAAC,YAAY,MAAM;QACnE,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,MAAM,UAAU,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBACtC,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;gBACtC,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;QAED,OAAO,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;IACrD;IAEA,MAAM;QACF,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE;QAC9C,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,OAAO,IAAI,IAAI,GAAG,SAAS;YAC1C,CAAC;IACL;IAEA,MAAM,QAAO,QAAgB,EAAE,SAAiB,EAAE,MAAc;QAC5D,6EAA6E;QAC7E,sBAAsB;QACtB,sCAAsC;QAEtC,oBAAoB;QACpB,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,WAAW;YACpD;YACA;YACA;YACA,WAAW,+KAAS,CAAC,GAAG;YACxB,QAAQ;QACZ;QAEA,kCAAkC;QAClC,MAAM,YAAY,IAAA,yKAAG,EAAC,+HAAE,EAAE,WAAW;QACrC,MAAM,IAAA,+KAAS,EAAC,WAAW;YACvB,YAAY,IAAA,+KAAS,EAAC;QAC1B;QAEA,OAAO,SAAS,EAAE;IACtB;AACJ"}},
    {"offset": {"line": 4666, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/CommunitySignals.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n    Bell,\r\n    Zap,\r\n    Medal,\r\n    Ticket,\r\n    Star,\r\n    Users,\r\n    TrendingUp,\r\n    Heart\r\n} from \"lucide-react\";\r\nimport {\r\n    collection,\r\n    query,\r\n    orderBy,\r\n    limit,\r\n    onSnapshot,\r\n    Timestamp\r\n} from \"firebase/firestore\";\r\nimport { db } from \"@/lib/firestore\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface Signal {\r\n    id: string;\r\n    type: 'badge' | 'xp' | 'redemption' | 'hype';\r\n    studentName: string;\r\n    studentAvatar?: string;\r\n    content: string;\r\n    timestamp: Timestamp;\r\n    metadata?: any;\r\n}\r\n\r\nconst CommunitySignals = ({ className }: { className?: string }) => {\r\n    const [signals, setSignals] = useState<Signal[]>([]);\r\n    const [visible, setVisible] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const signalsRef = collection(db, \"community_signals\");\r\n        const q = query(signalsRef, orderBy(\"timestamp\", \"desc\"), limit(5));\r\n\r\n        const unsubscribe = onSnapshot(q, (snapshot) => {\r\n            const data = snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            } as Signal));\r\n            setSignals(data);\r\n        }, (error) => {\r\n            if (error.code === 'permission-denied') {\r\n                console.warn(\"Community signals access restricted by permissions.\");\r\n                setSignals([]);\r\n            } else {\r\n                console.error(\"CommunitySignals listener error:\", error);\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const getIcon = (type: Signal['type']) => {\r\n        switch (type) {\r\n            case 'badge': return <Medal className=\"w-4 h-4 text-yellow-500\" />;\r\n            case 'xp': return <Zap className=\"w-4 h-4 text-primary\" />;\r\n            case 'redemption': return <Ticket className=\"w-4 h-4 text-secondary\" />;\r\n            case 'hype': return <Heart className=\"w-4 h-4 text-rose-500 fill-current\" />;\r\n            default: return <Star className=\"w-4 h-4 text-primary\" />;\r\n        }\r\n    };\r\n\r\n    if (signals.length === 0) return null;\r\n\r\n    return (\r\n        <div className={cn(\"fixed bottom-6 right-6 z-50 w-80 space-y-2 pointer-events-none\", className)}>\r\n            <AnimatePresence initial={false}>\r\n                {signals.map((signal, index) => (\r\n                    <motion.div\r\n                        key={signal.id}\r\n                        initial={{ opacity: 0, x: 50, scale: 0.8 }}\r\n                        animate={{ opacity: 1 - index * 0.2, x: 0, scale: 1 - index * 0.05 }}\r\n                        exit={{ opacity: 0, scale: 0.5, transition: { duration: 0.2 } }}\r\n                        layout\r\n                        className={cn(\r\n                            \"bg-card/80 backdrop-blur-md border border-white/10 p-3 rounded-2xl shadow-2xl flex items-center gap-3 pointer-events-auto\",\r\n                            index === 0 ? \" ring-1 ring-primary/30 ring-inset\" : \"\"\r\n                        )}\r\n                    >\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center shrink-0 border border-white/5\">\r\n                            {signal.studentAvatar ? (\r\n                                <img src={signal.studentAvatar} alt=\"\" className=\"w-full h-full rounded-full object-cover\" />\r\n                            ) : (\r\n                                <div className=\"text-xs font-bold text-primary\">{signal.studentName[0]}</div>\r\n                            )}\r\n                            <div className=\"absolute -bottom-1 -right-1 bg-background rounded-full p-1 shadow-sm border border-white/5\">\r\n                                {getIcon(signal.type)}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"min-w-0 flex-1\">\r\n                            <p className=\"text-xs font-bold truncate\">\r\n                                <span className=\"text-primary\">{signal.studentName}</span>\r\n                            </p>\r\n                            <p className=\"text-[10px] text-muted-foreground line-clamp-1 italic\">\r\n                                {signal.content}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"text-[8px] text-muted-foreground whitespace-nowrap opacity-50\">\r\n                            Just now\r\n                        </div>\r\n                    </motion.div>\r\n                ))}\r\n            </AnimatePresence>\r\n\r\n            <div className=\"flex items-center justify-center gap-2 pt-2 opacity-50\">\r\n                <div className=\"w-1.5 h-1.5 rounded-full bg-success animate-pulse\" />\r\n                <span className=\"text-[8px] font-black uppercase tracking-widest\">Live Signals</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommunitySignals;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAQA;AAAA;AACA;;;;;;;;;AAYA,MAAM,mBAAmB,CAAC,EAAE,SAAS,EAA0B;;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;sCAAC;YACN,MAAM,aAAa,IAAA,gLAAU,EAAC,+HAAE,EAAE;YAClC,MAAM,IAAI,IAAA,2KAAK,EAAC,YAAY,IAAA,6KAAO,EAAC,aAAa,SAAS,IAAA,2KAAK,EAAC;YAEhE,MAAM,cAAc,IAAA,gLAAU,EAAC;0DAAG,CAAC;oBAC/B,MAAM,OAAO,SAAS,IAAI,CAAC,GAAG;uEAAC,CAAA,MAAO,CAAC;gCACnC,IAAI,IAAI,EAAE;gCACV,GAAG,IAAI,IAAI,EAAE;4BACjB,CAAW;;oBACX,WAAW;gBACf;;0DAAG,CAAC;oBACA,IAAI,MAAM,IAAI,KAAK,qBAAqB;wBACpC,QAAQ,IAAI,CAAC;wBACb,WAAW,EAAE;oBACjB,OAAO;wBACH,QAAQ,KAAK,CAAC,oCAAoC;oBACtD;gBACJ;;YAEA;8CAAO,IAAM;;QACjB;qCAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACb,OAAQ;YACJ,KAAK;gBAAS,qBAAO,6LAAC,gNAAK;oBAAC,WAAU;;;;;;YACtC,KAAK;gBAAM,qBAAO,6LAAC,0MAAG;oBAAC,WAAU;;;;;;YACjC,KAAK;gBAAc,qBAAO,6LAAC,mNAAM;oBAAC,WAAU;;;;;;YAC5C,KAAK;gBAAQ,qBAAO,6LAAC,gNAAK;oBAAC,WAAU;;;;;;YACrC;gBAAS,qBAAO,6LAAC,6MAAI;oBAAC,WAAU;;;;;;QACpC;IACJ;IAEA,IAAI,QAAQ,MAAM,KAAK,GAAG,OAAO;IAEjC,qBACI,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,kEAAkE;;0BACjF,6LAAC,+MAAe;gBAAC,SAAS;0BACrB,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBAClB,6LAAC,uMAAM,CAAC,GAAG;wBAEP,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAI,OAAO;wBAAI;wBACzC,SAAS;4BAAE,SAAS,IAAI,QAAQ;4BAAK,GAAG;4BAAG,OAAO,IAAI,QAAQ;wBAAK;wBACnE,MAAM;4BAAE,SAAS;4BAAG,OAAO;4BAAK,YAAY;gCAAE,UAAU;4BAAI;wBAAE;wBAC9D,MAAM;wBACN,WAAW,IAAA,4HAAE,EACT,6HACA,UAAU,IAAI,uCAAuC;;0CAGzD,6LAAC;gCAAI,WAAU;;oCACV,OAAO,aAAa,iBACjB,6LAAC;wCAAI,KAAK,OAAO,aAAa;wCAAE,KAAI;wCAAG,WAAU;;;;;iGAEjD,6LAAC;wCAAI,WAAU;kDAAkC,OAAO,WAAW,CAAC,EAAE;;;;;;kDAE1E,6LAAC;wCAAI,WAAU;kDACV,QAAQ,OAAO,IAAI;;;;;;;;;;;;0CAG5B,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAE,WAAU;kDACT,cAAA,6LAAC;4CAAK,WAAU;sDAAgB,OAAO,WAAW;;;;;;;;;;;kDAEtD,6LAAC;wCAAE,WAAU;kDACR,OAAO,OAAO;;;;;;;;;;;;0CAGvB,6LAAC;gCAAI,WAAU;0CAAgE;;;;;;;uBA5B1E,OAAO,EAAE;;;;;;;;;;0BAmC1B,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAK,WAAU;kCAAkD;;;;;;;;;;;;;;;;;;AAIlF;GApFM;KAAA;uCAsFS"}},
    {"offset": {"line": 4923, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahendra.singh/myark/src/components/providers/AppProviders.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Toaster } from \"@/components/ui/toaster\";\r\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\r\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { AuthProvider } from \"@/lib/auth\";\r\nimport { StudentAuthProvider } from \"@/lib/studentAuth\";\r\nimport { AuthModal } from \"@/components/auth\";\r\nimport CommunitySignals from \"@/components/CommunitySignals\";\r\nimport { useState } from \"react\";\r\n\r\nexport function AppProviders({ children }: { children: React.ReactNode }) {\r\n    const [queryClient] = useState(() => new QueryClient());\r\n\r\n    return (\r\n        <QueryClientProvider client={queryClient}>\r\n            <AuthProvider>\r\n                <StudentAuthProvider>\r\n                    <TooltipProvider>\r\n                        {children}\r\n                        <Toaster />\r\n                        <Sonner />\r\n                        <AuthModal />\r\n                        <CommunitySignals />\r\n                    </TooltipProvider>\r\n                </StudentAuthProvider>\r\n            </AuthProvider>\r\n        </QueryClientProvider>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAVA;;;;;;;;;;AAYO,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACpE,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;iCAAC,IAAM,IAAI,+LAAW;;IAEpD,qBACI,6LAAC,gNAAmB;QAAC,QAAQ;kBACzB,cAAA,6LAAC,sIAAY;sBACT,cAAA,6LAAC,oJAAmB;0BAChB,cAAA,6LAAC,yJAAe;;wBACX;sCACD,6LAAC,iJAAO;;;;;sCACR,6LAAC,gKAAM;;;;;sCACP,6LAAC,+LAAS;;;;;sCACV,6LAAC,oJAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzC;GAlBgB;KAAA"}}]
}