@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Dark mode by default - Gen Z energy */
        --background: 240 15% 8%;
        --foreground: 0 0% 98%;

        --card: 240 15% 12%;
        --card-foreground: 0 0% 98%;

        --popover: 240 15% 10%;
        --popover-foreground: 0 0% 98%;

        /* Electric Cyan - Primary */
        --primary: 185 100% 50%;
        --primary-foreground: 240 15% 8%;

        /* Warm Coral - Secondary */
        --secondary: 15 95% 60%;
        --secondary-foreground: 0 0% 98%;

        /* Muted surfaces */
        --muted: 240 10% 18%;
        --muted-foreground: 240 5% 65%;

        /* Accent - Electric Yellow for achievements */
        --accent: 45 100% 55%;
        --accent-foreground: 240 15% 8%;

        /* Success - Neon Green */
        --success: 150 80% 50%;
        --success-foreground: 240 15% 8%;

        --destructive: 0 72% 51%;
        --destructive-foreground: 0 0% 98%;

        --border: 240 10% 20%;
        --input: 240 10% 18%;
        --ring: 185 100% 50%;

        --radius: 1rem;

        /* Custom gradients */
        --gradient-primary: linear-gradient(135deg, hsl(185 100% 50%) 0%, hsl(220 100% 60%) 100%);
        --gradient-secondary: linear-gradient(135deg, hsl(15 95% 60%) 0%, hsl(45 100% 55%) 100%);
        --gradient-success: linear-gradient(135deg, hsl(150 80% 50%) 0%, hsl(185 100% 50%) 100%);
        --gradient-card: linear-gradient(180deg, hsl(240 15% 14%) 0%, hsl(240 15% 10%) 100%);
        --gradient-hero: radial-gradient(ellipse at top, hsl(240 15% 15%) 0%, hsl(240 15% 8%) 70%);
        --gradient-glow: radial-gradient(circle, hsl(185 100% 50% / 0.15) 0%, transparent 70%);

        /* Shadows with glow */
        --shadow-glow-primary: 0 0 30px hsl(185 100% 50% / 0.3);
        --shadow-glow-secondary: 0 0 30px hsl(15 95% 60% / 0.3);
        --shadow-card: 0 4px 20px hsl(0 0% 0% / 0.3);
        --shadow-elevated: 0 8px 40px hsl(0 0% 0% / 0.4);

        /* Sidebar */
        --sidebar-background: 240 15% 10%;
        --sidebar-foreground: 0 0% 98%;
        --sidebar-primary: 185 100% 50%;
        --sidebar-primary-foreground: 240 15% 8%;
        --sidebar-accent: 240 10% 18%;
        --sidebar-accent-foreground: 0 0% 98%;
        --sidebar-border: 240 10% 20%;
        --sidebar-ring: 185 100% 50%;
    }

    .dark {
        --background: 240 15% 8%;
        --foreground: 0 0% 98%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground font-sans antialiased;
        font-family: 'Inter', sans-serif;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: 'Space Grotesk', sans-serif;
    }
}

@layer components {

    /* Glassmorphism card */
    .glass-card {
        @apply bg-card/60 backdrop-blur-xl border border-white/10 rounded-2xl;
    }

    /* Gradient text */
    .gradient-text-primary {
        @apply bg-clip-text text-transparent;
        background-image: var(--gradient-primary);
    }

    .gradient-text-secondary {
        @apply bg-clip-text text-transparent;
        background-image: var(--gradient-secondary);
    }

    /* Glow effects */
    .glow-primary {
        box-shadow: var(--shadow-glow-primary);
    }

    .glow-secondary {
        box-shadow: var(--shadow-glow-secondary);
    }

    /* Interactive card hover */
    .interactive-card {
        @apply transition-all duration-300 ease-out;
    }

    .interactive-card:hover {
        @apply -translate-y-1;
        box-shadow: var(--shadow-elevated);
    }

    /* Floating animation */
    .float {
        animation: float 6s ease-in-out infinite;
    }

    .float-delayed {
        animation: float 6s ease-in-out infinite;
        animation-delay: -3s;
    }

    /* Pulse glow */
    .pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
    }

    /* Streak fire animation */
    .streak-fire {
        animation: streak-fire 0.5s ease-out;
    }

    /* Progress bar fill */
    .progress-fill {
        animation: progress-fill 1s ease-out forwards;
    }

    /* Card tilt on hover */
    .tilt-card {
        transform-style: preserve-3d;
        perspective: 1000px;
    }

    /* Shimmer effect */
    .shimmer {
        background: linear-gradient(90deg,
                transparent 0%,
                hsl(0 0% 100% / 0.1) 50%,
                transparent 100%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
    }

    /* Badge styles */
    .badge-xp {
        @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold;
        background: var(--gradient-success);
        color: hsl(var(--success-foreground));
    }

    .badge-streak {
        @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold;
        background: var(--gradient-secondary);
        color: hsl(var(--secondary-foreground));
    }

    /* Category tag */
    .category-tag {
        @apply px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200;
        @apply bg-muted hover:bg-muted/80 hover:scale-105;
    }

    .category-tag-active {
        @apply bg-primary text-primary-foreground glow-primary;
    }
}

@layer utilities {

    /* Text glow */
    .text-glow {
        text-shadow: 0 0 20px currentColor;
    }

    /* Gradient border */
    .gradient-border {
        position: relative;
    }

    .gradient-border::before {
        content: '';
        position: absolute;
        inset: 0;
        padding: 2px;
        border-radius: inherit;
        background: var(--gradient-primary);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
    }

    /* Hide scrollbar */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* Keyframe animations */
@keyframes float {

    0%,
    100% {
        transform: translateY(0) rotate(0deg);
    }

    50% {
        transform: translateY(-20px) rotate(2deg);
    }
}

@keyframes pulse-glow {

    0%,
    100% {
        opacity: 1;
        box-shadow: var(--shadow-glow-primary);
    }

    50% {
        opacity: 0.8;
        box-shadow: 0 0 50px hsl(185 100% 50% / 0.5);
    }
}

@keyframes streak-fire {
    0% {
        transform: scale(0.8);
        opacity: 0;
    }

    50% {
        transform: scale(1.1);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes progress-fill {
    from {
        width: 0;
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

@keyframes bounce-in {
    0% {
        transform: scale(0);
        opacity: 0;
    }

    50% {
        transform: scale(1.1);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes slide-up {
    from {
        transform: translateY(20px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes confetti {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(-100px) rotate(720deg);
        opacity: 0;
    }
}

/* Quill Rich Text Overrides */
.quill-content ul {
    list-style-type: disc;
    padding-left: 1.5rem;
    margin-bottom: 1.5rem;
}

.quill-content ol {
    list-style-type: decimal;
    padding-left: 1.5rem;
    margin-bottom: 1.5rem;
}

.quill-content h1,
.quill-content h2,
.quill-content h3 {
    @apply mb-4 mt-8 first:mt-0;
}

.quill-content p {
    @apply mb-4;
}

.quill-content a {
    @apply text-primary hover:underline font-bold;
}

/* Fix ReactQuill editor in dark mode */
.ql-toolbar.ql-snow {
    @apply bg-muted/50 border-border rounded-t-xl;
}

.ql-container.ql-snow {
    @apply border-border bg-muted/20 !font-sans;
}

.ql-editor {
    @apply !text-lg leading-relaxed text-foreground !p-8;
    min-height: 300px;
}

.ql-snow .ql-stroke {
    @apply stroke-muted-foreground;
}

.ql-snow .ql-fill {
    @apply fill-muted-foreground;
}

.ql-snow .ql-picker {
    @apply text-muted-foreground;
}

.ql-snow .ql-picker-options {
    @apply bg-card border-border;
}